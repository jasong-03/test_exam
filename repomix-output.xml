This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
agents/
  __init__.py
  answer_key_agent.py
  diagram_extractor.py
  orchestrator.py
  pdf_parser.py
  prompts.py
  question_extractor.py
models/
  __init__.py
  enums.py
  question.py
output/
  logs/
    agents/
      4671a64d/
        PDFParser/
          181550289752_parse_input.json
          181554843908_parse_output.json
        QuestionExtractor/
          181554845069_extract_input.json
          181558936005_extract_output.json
          181558936625_extract_input.json
          181608461064_extract_output.json
          181608462653_extract_input.json
          181616851125_extract_output.json
          181616852286_extract_input.json
          181622913199_extract_output.json
          181622914455_extract_input.json
          181635921415_extract_output.json
          181635922027_extract_input.json
          181703125065_extract_output.json
          181703128607_extract_input.json
          181713406999_extract_output.json
          181713409212_extract_input.json
          181720292409_extract_output.json
          181720293210_extract_input.json
          181723656785_extract_output.json
          181723657165_extract_input.json
      4935b2ec/
        PDFParser/
          181928055140_parse_input.json
          181932893607_parse_output.json
        QuestionExtractor/
          181932895331_extract_input.json
          181937664481_extract_output.json
          181937665711_extract_input.json
          181951833912_extract_output.json
          181951836252_extract_input.json
          181959803753_extract_output.json
          181959805323_extract_input.json
          182006536340_extract_output.json
          182006537277_extract_input.json
          182016526235_extract_output.json
          182016527311_extract_input.json
          182026138141_extract_output.json
          182026139235_extract_input.json
          182035576956_extract_output.json
          182035579906_extract_input.json
          182042777259_extract_output.json
          182042778366_extract_input.json
          182046098607_extract_output.json
          182046100005_extract_input.json
          182053819815_extract_output.json
          182053820786_extract_input.json
          182058517935_extract_output.json
          182058518456_extract_input.json
          182104739643_extract_output.json
          182104740590_extract_input.json
          182114880879_extract_output.json
          182114882964_extract_input.json
          182121474739_extract_output.json
          182121475771_extract_input.json
          182129151204_extract_output.json
          182129151859_extract_input.json
          182136014411_extract_output.json
          182136016777_extract_input.json
          182144969068_extract_output.json
          182144970161_extract_input.json
          182147601956_extract_output.json
          182147603002_extract_input.json
          182150975105_extract_output.json
          182150976749_extract_input.json
          182159064903_extract_output.json
          182159066534_extract_input.json
          182207542274_extract_output.json
          182207543549_extract_input.json
          182216598306_extract_output.json
          182216599532_extract_input.json
          182224483687_extract_output.json
          182224484277_extract_input.json
          182230895784_extract_output.json
          182230896592_extract_input.json
          182236414038_extract_output.json
          182236415064_extract_input.json
          182244656936_extract_output.json
          182244658884_extract_input.json
          182252430578_extract_output.json
          182252431689_extract_input.json
          182258478514_extract_output.json
          182258479167_extract_input.json
          182304035767_extract_output.json
          182304037542_extract_input.json
          182312866176_extract_output.json
          182312867410_extract_input.json
          182319264086_extract_output.json
          182319264842_extract_input.json
          182327339454_extract_output.json
          182327340656_extract_input.json
          182336899523_extract_output.json
          182336901580_extract_input.json
          182347297569_extract_output.json
          182347306249_extract_input.json
          182402853050_extract_output.json
          182402856195_extract_input.json
          182437722956_extract_output.json
          182437724498_extract_input.json
          182512928002_extract_output.json
          182512931245_extract_input.json
          182515384282_extract_output.json
      510fe64a/
        PDFParser/
          175536478256_parse_input.json
          175541310832_parse_output.json
        QuestionExtractor/
          175541312019_extract_input.json
          175546130283_extract_output.json
          175546130742_extract_input.json
          175556647790_extract_output.json
          175556649616_extract_input.json
          175609917454_extract_output.json
          175609918824_extract_input.json
          175616322924_extract_output.json
          175616324525_extract_input.json
          175628942687_extract_output.json
          175628945603_extract_input.json
          175651994552_extract_output.json
          175651995472_extract_input.json
          175659855101_extract_output.json
          175659857172_extract_input.json
          175705907719_extract_output.json
          175705908768_extract_input.json
          175710064722_extract_output.json
          175710065781_extract_input.json
          175716029957_extract_output.json
          175716031124_extract_input.json
          175722590681_extract_output.json
          175722592959_extract_input.json
          175729327841_extract_output.json
          175729328473_extract_input.json
          175739627037_extract_output.json
          175739628348_extract_input.json
          175747066570_extract_output.json
          175747068537_extract_input.json
          175754618932_extract_output.json
          175754620269_extract_input.json
          175801541468_extract_output.json
          175801543603_extract_input.json
          175809529018_extract_output.json
          175809530272_extract_input.json
          175811989432_extract_output.json
          175811989907_extract_input.json
          175816219484_extract_output.json
          175816219901_extract_input.json
          175828016012_extract_output.json
          175828017449_extract_input.json
          175837026041_extract_output.json
          175837027779_extract_input.json
          175845461903_extract_output.json
          175845463436_extract_input.json
          175853889984_extract_output.json
          175853892834_extract_input.json
          175859104053_extract_output.json
          175859105412_extract_input.json
          175903784567_extract_output.json
          175903785704_extract_input.json
          175912341067_extract_output.json
          175912342171_extract_input.json
          175924141390_extract_output.json
          175924142894_extract_input.json
          175929134508_extract_output.json
          175929135526_extract_input.json
          175934838166_extract_output.json
          175934846882_extract_input.json
          175941107953_extract_output.json
          175941108578_extract_input.json
          175946923863_extract_output.json
          175946925056_extract_input.json
          175956748124_extract_output.json
          175956749020_extract_input.json
          180005432974_extract_output.json
          180005434694_extract_input.json
          180029212214_extract_output.json
          180029213147_extract_input.json
          180035151668_extract_output.json
          180035154145_extract_input.json
          180123138925_extract_output.json
          180123140977_extract_input.json
          180207444716_extract_output.json
          180207446446_extract_input.json
          180211514844_extract_output.json
      73789f16/
        PDFParser/
          183710237980_parse_input.json
          183714955121_parse_output.json
        QuestionExtractor/
          183714956317_extract_input.json
          183718638970_extract_output.json
          183718639818_extract_input.json
          183727935804_extract_output.json
          183727936988_extract_input.json
          183737122321_extract_output.json
          183737128216_extract_input.json
          183744207499_extract_output.json
          183744208353_extract_input.json
          183753064948_extract_output.json
          183753066167_extract_input.json
          183808682020_extract_output.json
          183808685995_extract_input.json
          183819173195_extract_output.json
          183819174589_extract_input.json
          183827765610_extract_output.json
          183827766666_extract_input.json
          183831518103_extract_output.json
          183831519209_extract_input.json
          183838293392_extract_output.json
          183838294321_extract_input.json
          183845058881_extract_output.json
          183845060012_extract_input.json
          183851378216_extract_output.json
          183851379266_extract_input.json
          183902395563_extract_output.json
          183902397562_extract_input.json
          183910855478_extract_output.json
          183910856115_extract_input.json
          183919807572_extract_output.json
          183919808784_extract_input.json
          183926705794_extract_output.json
          183926707014_extract_input.json
          183934686103_extract_output.json
          183934687338_extract_input.json
          183937376300_extract_output.json
          183937376834_extract_input.json
          183940853966_extract_output.json
          183940854564_extract_input.json
          183947933203_extract_output.json
          183947933813_extract_input.json
          183954485432_extract_output.json
          183954486746_extract_input.json
          184006548875_extract_output.json
          184006550166_extract_input.json
          184013771569_extract_output.json
          184013773215_extract_input.json
          184018655345_extract_output.json
          184018656366_extract_input.json
          184023736531_extract_output.json
          184023738475_extract_input.json
          184031083803_extract_output.json
          184031085136_extract_input.json
          184040979162_extract_output.json
          184040980133_extract_input.json
          184046815943_extract_output.json
          184046816514_extract_input.json
          184052394941_extract_output.json
          184052395976_extract_input.json
          184057665143_extract_output.json
          184057665713_extract_input.json
          184102150132_extract_output.json
          184102150702_extract_input.json
          184110910573_extract_output.json
          184110911946_extract_input.json
          184120578935_extract_output.json
          184120579634_extract_input.json
          184137964709_extract_output.json
          184137966555_extract_input.json
          184151002167_extract_output.json
          184151003102_extract_input.json
          184220554183_extract_output.json
          184220555158_extract_input.json
          184254493683_extract_output.json
          184254496646_extract_input.json
          184256876805_extract_output.json
      aa244942/
        PDFParser/
          181304049935_parse_input.json
          181308624789_parse_output.json
        QuestionExtractor/
          181308625869_extract_input.json
          181312560923_extract_output.json
          181312561938_extract_input.json
          181321995875_extract_output.json
          181321997457_extract_input.json
          181329399892_extract_output.json
          181329401095_extract_input.json
          181337702692_extract_output.json
          181337703585_extract_input.json
          181346727657_extract_output.json
          181346729089_extract_input.json
      b9fd5479/
        PDFParser/
          081302940515_parse_input.json
          081307551134_parse_output.json
      d993887d/
        PDFParser/
          175430633904_parse_input.json
          175435717714_parse_output.json
        QuestionExtractor/
          175435718907_extract_input.json
          175438744694_extract_output.json
          175438745460_extract_input.json
          175450991212_extract_output.json
          175450995590_extract_input.json
          175507467235_extract_output.json
          175507468143_extract_input.json
          175514367356_extract_output.json
          175514368424_extract_input.json
    costs/
      4935b2ec.json
      510fe64a.json
      73789f16.json
  pages/
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_0.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_1.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_10.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_11.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_12.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_13.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_14.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_15.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_16.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_17.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_18.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_19.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_2.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_20.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_21.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_22.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_23.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_24.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_25.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_26.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_27.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_28.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_29.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_3.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_30.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_31.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_32.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_33.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_34.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_35.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_36.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_37.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_38.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_39.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_4.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_5.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_6.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_7.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_8.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9_img_9.png
    2024-P6-Science-Prelim Exam-Henry Park_page_9.png
    P5_Maths_2023_SA2_acsprimary_page_1_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_1.png
    P5_Maths_2023_SA2_acsprimary_page_10_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_10.png
    P5_Maths_2023_SA2_acsprimary_page_11_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_11.png
    P5_Maths_2023_SA2_acsprimary_page_12_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_12.png
    P5_Maths_2023_SA2_acsprimary_page_13_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_13.png
    P5_Maths_2023_SA2_acsprimary_page_14_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_14.png
    P5_Maths_2023_SA2_acsprimary_page_15_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_15.png
    P5_Maths_2023_SA2_acsprimary_page_16_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_16.png
    P5_Maths_2023_SA2_acsprimary_page_17_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_17.png
    P5_Maths_2023_SA2_acsprimary_page_18_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_18.png
    P5_Maths_2023_SA2_acsprimary_page_19_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_19.png
    P5_Maths_2023_SA2_acsprimary_page_2_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_2.png
    P5_Maths_2023_SA2_acsprimary_page_20_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_20.png
    P5_Maths_2023_SA2_acsprimary_page_21_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_21.png
    P5_Maths_2023_SA2_acsprimary_page_22_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_22.png
    P5_Maths_2023_SA2_acsprimary_page_23_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_23.png
    P5_Maths_2023_SA2_acsprimary_page_24_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_24.png
    P5_Maths_2023_SA2_acsprimary_page_25_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_25.png
    P5_Maths_2023_SA2_acsprimary_page_26_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_26.png
    P5_Maths_2023_SA2_acsprimary_page_27_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_27.png
    P5_Maths_2023_SA2_acsprimary_page_28_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_28.png
    P5_Maths_2023_SA2_acsprimary_page_29_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_29.png
    P5_Maths_2023_SA2_acsprimary_page_3_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_3.png
    P5_Maths_2023_SA2_acsprimary_page_30_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_30.png
    P5_Maths_2023_SA2_acsprimary_page_31_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_31.png
    P5_Maths_2023_SA2_acsprimary_page_32_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_32.png
    P5_Maths_2023_SA2_acsprimary_page_33_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_33.png
    P5_Maths_2023_SA2_acsprimary_page_34_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_34.png
    P5_Maths_2023_SA2_acsprimary_page_35_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_35.png
    P5_Maths_2023_SA2_acsprimary_page_36_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_36.png
    P5_Maths_2023_SA2_acsprimary_page_37_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_37.png
    P5_Maths_2023_SA2_acsprimary_page_38_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_38.png
    P5_Maths_2023_SA2_acsprimary_page_4_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_4.png
    P5_Maths_2023_SA2_acsprimary_page_5_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_5.png
    P5_Maths_2023_SA2_acsprimary_page_6_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_6.png
    P5_Maths_2023_SA2_acsprimary_page_7_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_7.png
    P5_Maths_2023_SA2_acsprimary_page_8_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_8.png
    P5_Maths_2023_SA2_acsprimary_page_9_img_0.png
    P5_Maths_2023_SA2_acsprimary_page_9.png
  questions/
    P5_Maths_2023_SA2_acsprimary/
      q1.json
      q10.json
      q11.json
      q12.json
      q13.json
      q14.json
      q15.json
      q16.json
      q17.json
      q18.json
      q19.json
      q2.json
      q20.json
      q21.json
      q22.json
      q23.json
      q24.json
      q25.json
      q26.json
      q27.json
      q28.json
      q29.json
      q3.json
      q30.json
      q4.json
      q5.json
      q6.json
      q7.json
      q8.json
      q9.json
      qQ1.json
      qQ10a.json
      qQ10b.json
      qQ11a.json
      qQ11b.json
      qQ12a.json
      qQ12b.json
      qQ13a.json
      qQ13b.json
      qQ14.json
      qQ15a.json
      qQ15b.json
      qQ16a.json
      qQ16b.json
      qQ16c.json
      qQ17a.json
      qQ17b.json
      qQ17c.json
      qQ3a.json
      qQ3b.json
      qQ4.json
      qQ5.json
      qQ6.json
      qQ7.json
      qQ8.json
      qQ9.json
    P5_Maths_2023_SA2_acsprimary_extracted.json
tracking/
  __init__.py
  cost_tracker.py
  pipeline_logger.py
utils/
  __init__.py
__init__.py
ANALYSIS_INDEX.md
ANALYSIS_SUMMARY.txt
DOCUMENTATION_ANALYSIS.md
EXTRACTED_INFORMATION.md
FLOW_OPTIMIZED.md
FLOW.md
JSON_EXAMPLES.md
main.py
MODELS_TRACKING_ANALYSIS.md
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="agents/__init__.py">
"""Agents for exam extraction pipeline."""

from .pdf_parser import PDFParserAgent, PageContent
from .question_extractor import QuestionExtractorAgent
from .diagram_extractor import DiagramExtractorAgent
from .answer_key_agent import AnswerKeyAgent
from .orchestrator import OrchestratorAgent, ExamExtractor

__all__ = [
    "PDFParserAgent",
    "PageContent",
    "QuestionExtractorAgent",
    "DiagramExtractorAgent",
    "AnswerKeyAgent",
    "OrchestratorAgent",
    "ExamExtractor",
]
</file>

<file path="agents/answer_key_agent.py">
"""Answer Key Agent - Extracts and links answer keys to questions."""

import google.generativeai as genai
from typing import List, Optional, Dict, Any
import json
import logging
import re
from PIL import Image
import base64
import io

from ..models import (
    Question, AnswerKey, WorkedSolutionStep, MarkingCriterion
)
from ..tracking import CostTracker, PipelineLogger
from .prompts import ANSWER_KEY_EXTRACTION_PROMPT
from .pdf_parser import PageContent


class AnswerKeyAgent:
    """
    Extracts answer keys from exam papers and links them to questions.
    Handles both simple answers and worked solutions.
    """

    def __init__(
        self,
        model_name: str = "gemini-2.5-flash",
        cost_tracker: Optional[CostTracker] = None,
        pipeline_logger: Optional[PipelineLogger] = None,
        api_key: Optional[str] = None
    ):
        self.model_name = model_name
        self.cost_tracker = cost_tracker
        self.pipeline_logger = pipeline_logger
        self._logger = logging.getLogger("AnswerKeyAgent")

        if api_key:
            genai.configure(api_key=api_key)

        self.model = genai.GenerativeModel(model_name)

    async def extract_answers(
        self,
        page_content: PageContent
    ) -> Dict[str, AnswerKey]:
        """
        Extract answer keys from a page.

        Args:
            page_content: PageContent object (could be answer key page)

        Returns:
            Dictionary mapping question numbers to AnswerKey objects
        """
        self._logger.info(f"Extracting answers from page {page_content.page_number}")

        if self.pipeline_logger:
            self.pipeline_logger.log_agent_input("AnswerKeyAgent", "extract", {
                "page_number": page_content.page_number,
                "text_length": len(page_content.text)
            })

        # Build prompt
        prompt = ANSWER_KEY_EXTRACTION_PROMPT + f"\n\nContent:\n{page_content.text}"

        # Prepare image if available
        image_parts = []
        if page_content.image:
            image_parts = [self._image_to_part(page_content.image)]

        try:
            if image_parts:
                response = await self.model.generate_content_async(
                    [prompt] + image_parts,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )
            else:
                response = await self.model.generate_content_async(
                    prompt,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )

            # Track token usage
            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="AnswerKeyAgent",
                    operation="extract_answers",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            # Parse response
            result = self._parse_response(response.text)
            answer_keys = self._convert_to_answer_keys(result)

            if self.pipeline_logger:
                self.pipeline_logger.log_agent_output("AnswerKeyAgent", "extract", {
                    "answers_found": len(answer_keys),
                    "question_numbers": list(answer_keys.keys())
                })

            self._logger.info(f"Extracted {len(answer_keys)} answers from page {page_content.page_number}")
            return answer_keys

        except Exception as e:
            self._logger.error(f"Failed to extract answers: {e}")
            if self.pipeline_logger:
                self.pipeline_logger.log_error("AnswerKeyAgent", "extract", e, {
                    "page_number": page_content.page_number
                })
            return {}

    def extract_answers_sync(self, page_content: PageContent) -> Dict[str, AnswerKey]:
        """Synchronous version of extract_answers."""
        import asyncio
        return asyncio.run(self.extract_answers(page_content))

    def _image_to_part(self, image: Image.Image) -> dict:
        """Convert PIL Image to Gemini part format."""
        buffer = io.BytesIO()
        image.save(buffer, format="PNG")
        image_bytes = buffer.getvalue()

        return {
            "mime_type": "image/png",
            "data": base64.b64encode(image_bytes).decode()
        }

    def _parse_response(self, response_text: str) -> Dict[str, Any]:
        """Parse the JSON response from Gemini."""
        try:
            response_text = response_text.strip()

            # Handle markdown code blocks
            if response_text.startswith("```"):
                lines = response_text.split("\n")
                json_lines = []
                in_json = False
                for line in lines:
                    if line.startswith("```json"):
                        in_json = True
                        continue
                    elif line.startswith("```"):
                        in_json = False
                        continue
                    if in_json:
                        json_lines.append(line)
                response_text = "\n".join(json_lines)

            return json.loads(response_text)
        except json.JSONDecodeError as e:
            self._logger.error(f"Failed to parse JSON response: {e}")
            return {"answers": []}

    def _convert_to_answer_keys(
        self,
        result: Dict[str, Any]
    ) -> Dict[str, AnswerKey]:
        """Convert parsed JSON to AnswerKey objects.
        
        Returns:
            Dictionary mapping question_ref to AnswerKey objects
        """
        answer_keys = {}

        for ans_data in result.get("answers", []):
            try:
                # Use question_ref (new format) or question_number (backward compatibility)
                q_ref = ans_data.get("question_ref") or ans_data.get("question_number", "")
                if not q_ref:
                    continue

                # Create worked solution steps
                worked_solution = []
                for step_data in ans_data.get("worked_solution", []):
                    step = WorkedSolutionStep(
                        step_number=step_data.get("step", 0),
                        description=step_data.get("description", ""),
                        expression=step_data.get("expression"),
                        expression_latex=step_data.get("expression_latex")
                    )
                    worked_solution.append(step)

                # Create marking rubric
                marking_rubric = []
                for mark_data in ans_data.get("marks_breakdown", []):
                    criterion = MarkingCriterion(
                        criterion=mark_data.get("criterion", ""),
                        marks=mark_data.get("marks", 0)
                    )
                    marking_rubric.append(criterion)

                # Get final answer (prefer "answer" field, fallback to "final_answer")
                final_answer = ans_data.get("answer") or ans_data.get("final_answer", "")

                # Create answer key
                answer_key = AnswerKey(
                    final_answer=final_answer,
                    acceptable_answers=ans_data.get("acceptable_answers", []),
                    worked_solution=worked_solution,
                    marking_rubric=marking_rubric,
                    explanation=ans_data.get("explanation")
                )

                # Use question_ref as key for matching
                answer_keys[q_ref] = answer_key

            except Exception as e:
                self._logger.warning(f"Failed to create answer key: {e}")
                continue

        return answer_keys

    def link_answers_to_questions(
        self,
        questions: List[Question],
        answer_keys: Dict[str, AnswerKey]
    ) -> int:
        """
        Link extracted answer keys to their corresponding questions.

        Args:
            questions: List of Question objects
            answer_keys: Dictionary mapping question numbers to AnswerKey

        Returns:
            Number of successful links made
        """
        links_made = 0

        for question in questions:
            # Try exact match
            if question.question_number in answer_keys:
                question.answer_key = answer_keys[question.question_number]
                links_made += 1

            # Try normalized match (e.g., "7a" vs "7(a)")
            normalized = self._normalize_question_number(question.question_number)
            for key, answer in answer_keys.items():
                if self._normalize_question_number(key) == normalized:
                    question.answer_key = answer
                    links_made += 1
                    break

            # Link to subparts
            for subpart in question.subparts:
                subpart_num = subpart.question_number
                if subpart_num in answer_keys:
                    subpart.answer_key = answer_keys[subpart_num]
                    links_made += 1

                normalized_sub = self._normalize_question_number(subpart_num)
                for key, answer in answer_keys.items():
                    if self._normalize_question_number(key) == normalized_sub:
                        subpart.answer_key = answer
                        links_made += 1
                        break

        self._logger.info(f"Linked {links_made} answers to questions")
        return links_made

    def _normalize_question_number(self, q_num: str) -> str:
        """Normalize question number for matching."""
        if not q_num:
            return ""
        # Remove parentheses, spaces, dots
        normalized = re.sub(r'[().\s]', '', q_num.lower())
        return normalized

    async def detect_answer_key_pages(
        self,
        pages: List[PageContent]
    ) -> List[int]:
        """
        Detect which pages contain answer keys.

        Args:
            pages: List of PageContent objects

        Returns:
            List of page numbers that contain answer keys
        """
        answer_key_pages = []

        for page in pages:
            # Quick heuristic check first
            text_lower = (page.text or "").lower()
            indicators = [
                "answer key",
                "answers",
                "marking scheme",
                "mark scheme",
                "solution",
                "worked solution",
                "suggested answers"
            ]

            if any(ind in text_lower for ind in indicators):
                answer_key_pages.append(page.page_number)
                continue

            # Check for answer patterns (e.g., "1. A", "1. 42")
            answer_pattern = r'^\s*\d+\.\s*[A-Da-d]?\s*[\d\w]'
            if re.search(answer_pattern, page.text, re.MULTILINE):
                # Likely contains answers
                answer_key_pages.append(page.page_number)

        return answer_key_pages

    async def generate_answer_from_question(
        self,
        question: Question,
        include_working: bool = True
    ) -> Optional[AnswerKey]:
        """
        Generate an answer for a question using LLM (for validation/testing).
        Note: This should only be used for testing, not production answer key extraction.
        """
        if not question.content:
            return None

        prompt = f"""Solve this exam question and provide the answer:

Question {question.question_number}:
{question.content.text}

{"Provide step-by-step working." if include_working else "Provide the final answer only."}

Return JSON with:
- final_answer: The correct answer
- worked_solution: Array of steps (if working requested)
- explanation: Brief explanation
"""

        try:
            response = await self.model.generate_content_async(
                prompt,
                generation_config=genai.GenerationConfig(
                    temperature=0.2,
                    response_mime_type="application/json"
                )
            )

            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="AnswerKeyAgent",
                    operation="generate_answer",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            result = self._parse_response(response.text)

            worked_solution = []
            for step_data in result.get("worked_solution", []):
                step = WorkedSolutionStep(
                    step_number=step_data.get("step", 0),
                    description=step_data.get("description", ""),
                    expression=step_data.get("expression"),
                    expression_latex=step_data.get("expression_latex")
                )
                worked_solution.append(step)

            return AnswerKey(
                final_answer=result.get("final_answer", ""),
                worked_solution=worked_solution,
                explanation=result.get("explanation")
            )

        except Exception as e:
            self._logger.error(f"Failed to generate answer: {e}")
            return None
</file>

<file path="agents/diagram_extractor.py">
"""Diagram Extractor Agent - Extracts diagrams using Gemini bounding box detection."""

import google.generativeai as genai
from typing import List, Optional, Dict, Any, Tuple
import json
import logging
import uuid
import re
from PIL import Image
import base64
import io
from pathlib import Path

from ..models import Diagram, DiagramType, BoundingBox
from ..tracking import CostTracker, PipelineLogger
from .prompts import DIAGRAM_DETECTION_PROMPT
from .pdf_parser import PageContent


class DiagramExtractorAgent:
    """
    Extracts diagrams from exam pages using Gemini's bounding box detection.
    Reference: https://docs.cloud.google.com/vertex-ai/generative-ai/docs/bounding-box-detection
    """

    def __init__(
        self,
        model_name: str = "gemini-2.5-flash",
        cost_tracker: Optional[CostTracker] = None,
        pipeline_logger: Optional[PipelineLogger] = None,
        output_dir: str = "output/diagrams",
        api_key: Optional[str] = None
    ):
        self.model_name = model_name
        self.cost_tracker = cost_tracker
        self.pipeline_logger = pipeline_logger
        self.output_dir = Path(output_dir)
        self.output_dir.mkdir(parents=True, exist_ok=True)
        self._logger = logging.getLogger("DiagramExtractor")

        if api_key:
            genai.configure(api_key=api_key)

        self.model = genai.GenerativeModel(model_name)

    async def extract_diagrams(
        self,
        page_content: PageContent,
        min_confidence: float = 0.5
    ) -> List[Diagram]:
        """
        Extract all diagrams from a page using bounding box detection.

        Args:
            page_content: PageContent object with page image
            min_confidence: Minimum confidence threshold for including diagrams

        Returns:
            List of Diagram objects with cropped images
        """
        if not page_content.image:
            self._logger.warning(f"No image for page {page_content.page_number}")
            return []

        self._logger.info(f"Extracting diagrams from page {page_content.page_number}")

        if self.pipeline_logger:
            self.pipeline_logger.log_agent_input("DiagramExtractor", "extract", {
                "page_number": page_content.page_number,
                "image_size": f"{page_content.image.width}x{page_content.image.height}"
            })

        # Prepare image
        image_part = self._image_to_part(page_content.image)

        # Build prompt for bounding box detection
        prompt = DIAGRAM_DETECTION_PROMPT

        try:
            response = await self.model.generate_content_async(
                [prompt, image_part],
                generation_config=genai.GenerationConfig(
                    temperature=0.1,
                    response_mime_type="application/json"
                )
            )

            # Track token usage
            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="DiagramExtractor",
                    operation="detect_diagrams",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            # Parse response
            result = self._parse_response(response.text)

            # Extract and crop diagrams
            diagrams = []
            for diag_data in result.get("diagrams", []):
                confidence = diag_data.get("confidence", 0.8)
                if confidence < min_confidence:
                    continue

                diagram = self._create_diagram(
                    diag_data,
                    page_content.image,
                    page_content.page_number
                )
                if diagram:
                    diagrams.append(diagram)

            # Handle shared diagram instructions
            shared_instructions = result.get("shared_diagram_instructions", [])
            for instruction in shared_instructions:
                diag_id = instruction.get("diagram_id")
                questions = instruction.get("question_range", [])
                # Find and update the diagram
                for diag in diagrams:
                    if diag.id == diag_id or diag_id in str(diag.id):
                        diag.is_shared = True
                        diag.shared_with_questions = questions

            if self.pipeline_logger:
                self.pipeline_logger.log_agent_output("DiagramExtractor", "extract", {
                    "diagrams_found": len(diagrams),
                    "diagram_types": [d.type.value for d in diagrams]
                })

            if self.cost_tracker:
                self.cost_tracker.update_counts(diagrams=len(diagrams))

            self._logger.info(f"Extracted {len(diagrams)} diagrams from page {page_content.page_number}")
            return diagrams

        except Exception as e:
            self._logger.error(f"Failed to extract diagrams: {e}")
            if self.pipeline_logger:
                self.pipeline_logger.log_error("DiagramExtractor", "extract", e, {
                    "page_number": page_content.page_number
                })
            return []

    def extract_diagrams_sync(
        self,
        page_content: PageContent,
        min_confidence: float = 0.5
    ) -> List[Diagram]:
        """Synchronous version of extract_diagrams."""
        import asyncio
        return asyncio.run(self.extract_diagrams(page_content, min_confidence))

    def _image_to_part(self, image: Image.Image) -> dict:
        """Convert PIL Image to Gemini part format."""
        buffer = io.BytesIO()
        image.save(buffer, format="PNG")
        image_bytes = buffer.getvalue()

        return {
            "mime_type": "image/png",
            "data": base64.b64encode(image_bytes).decode()
        }

    def _parse_response(self, response_text: str) -> Dict[str, Any]:
        """Parse the JSON response from Gemini."""
        try:
            response_text = response_text.strip()

            # Handle markdown code blocks
            if response_text.startswith("```"):
                lines = response_text.split("\n")
                json_lines = []
                in_json = False
                for line in lines:
                    if line.startswith("```json"):
                        in_json = True
                        continue
                    elif line.startswith("```"):
                        in_json = False
                        continue
                    if in_json:
                        json_lines.append(line)
                response_text = "\n".join(json_lines)

            return json.loads(response_text)
        except json.JSONDecodeError as e:
            self._logger.error(f"Failed to parse JSON response: {e}")
            return {"diagrams": []}

    def _create_diagram(
        self,
        diag_data: Dict[str, Any],
        page_image: Image.Image,
        page_number: int
    ) -> Optional[Diagram]:
        """
        Create a Diagram object from parsed data.
        Diagrams are stored as region references (no image cropping/saving).
        """
        try:
            # Parse bounding box (0-1000 scale from Gemini)
            bbox_data = diag_data.get("bounding_box", {})
            if not bbox_data:
                return None

            # Validate bounding box (0-1000 scale)
            x1 = bbox_data.get("x1", 0)
            y1 = bbox_data.get("y1", 0)
            x2 = bbox_data.get("x2", 0)
            y2 = bbox_data.get("y2", 0)

            if x2 <= x1 or y2 <= y1 or x1 < 0 or y1 < 0 or x2 > 1000 or y2 > 1000:
                self._logger.warning(f"Invalid bounding box: ({x1}, {y1}, {x2}, {y2})")
                return None

            # Generate unique ID
            diagram_id = str(uuid.uuid4())[:8]

            # Map diagram type
            diag_type = self._map_diagram_type(diag_data.get("type", "DIAGRAM"))

            # Create bounding box (as percentage 0-100 for storage)
            bounding_box = BoundingBox(
                x1=x1 / 10,  # Convert 0-1000 to 0-100
                y1=y1 / 10,
                x2=x2 / 10,
                y2=y2 / 10
            )

            # Create Diagram object (metadata only, no image storage)
            return Diagram(
                id=diagram_id,
                type=diag_type,
                alt_text=diag_data.get("description", ""),
                description=diag_data.get("description", ""),
                bounding_box=bounding_box,
                source_page=page_number,
                is_shared=diag_data.get("is_shared", False),
                shared_with_questions=diag_data.get("shared_with_questions", []),
                extraction_confidence=diag_data.get("confidence", 0.8)
            )

        except Exception as e:
            self._logger.error(f"Failed to create diagram: {e}")
            return None

    def _map_diagram_type(self, type_str: str) -> DiagramType:
        """Map string type to DiagramType enum."""
        type_map = {
            "GRAPH": DiagramType.GRAPH,
            "GEOMETRIC_FIGURE": DiagramType.GEOMETRIC_FIGURE,
            "CHART": DiagramType.CHART,
            "ILLUSTRATION": DiagramType.ILLUSTRATION,
            "TABLE": DiagramType.TABLE,
            "CIRCUIT": DiagramType.CIRCUIT,
            "MAP": DiagramType.MAP,
            "SCIENTIFIC": DiagramType.SCIENTIFIC,
            "DIAGRAM": DiagramType.DIAGRAM
        }
        return type_map.get(type_str.upper(), DiagramType.DIAGRAM)

    def extract_diagrams_from_info(
        self,
        diagram_info_list: List[dict],
        page_content: PageContent
    ) -> List[Diagram]:
        """
        Create Diagram objects from bounding boxes detected by LLM.
        Diagrams are stored as region references on the page image (no cropping/saving).
        
        Args:
            diagram_info_list: List of diagram info dicts from QuestionExtractor
            page_content: PageContent with page image (kept as full page)
            
        Returns:
            List of Diagram objects with metadata only
        """
        diagrams = []
        for diag_info in diagram_info_list:
            try:
                # Get bounding box (0-1000 scale from LLM)
                bbox = diag_info.get("bounding_box", {})
                if not bbox:
                    self._logger.warning(f"No bounding box for diagram: {diag_info}")
                    continue
                
                # Validate bounding box
                x_min = bbox.get("x_min", 0)
                y_min = bbox.get("y_min", 0)
                x_max = bbox.get("x_max", 1000)
                y_max = bbox.get("y_max", 1000)
                
                if x_max <= x_min or y_max <= y_min or x_min < 0 or y_min < 0 or x_max > 1000 or y_max > 1000:
                    self._logger.warning(f"Invalid bounding box for diagram: {bbox}")
                    continue
                
                # Generate unique ID
                diagram_id = str(uuid.uuid4())[:8]
                
                # Map diagram type
                diag_type = self._map_diagram_type(diag_info.get("diagram_type", "DIAGRAM"))
                
                # Create bounding box (as percentage 0-100 for storage)
                bounding_box = BoundingBox(
                    x1=x_min / 10,  # Convert 0-1000 to 0-100
                    y1=y_min / 10,
                    x2=x_max / 10,
                    y2=y_max / 10
                )
                
                # Create Diagram object (metadata only, no image storage)
                diagram = Diagram(
                    id=diagram_id,
                    type=diag_type,
                    alt_text=diag_info.get("description", ""),
                    description=diag_info.get("description", ""),
                    bounding_box=bounding_box,
                    source_page=page_content.page_number,
                    is_shared=False,
                    shared_with_questions=[],
                    extraction_confidence=0.9  # High confidence from LLM detection
                )
                
                diagrams.append(diagram)
                
            except Exception as e:
                self._logger.error(f"Failed to create diagram from info: {e}")
                continue
        
        if self.cost_tracker:
            self.cost_tracker.update_counts(diagrams=len(diagrams))
        
        self._logger.info(f"Created {len(diagrams)} diagram references from LLM detection on page {page_content.page_number}")
        return diagrams

    def link_diagrams_to_questions(
        self,
        diagrams: List[Diagram],
        questions: List[Any],
        page_number: int
    ) -> None:
        """
        Link extracted diagrams to their corresponding questions.
        Uses spatial proximity and question number references.
        """
        import re

        for diagram in diagrams:
            if diagram.source_page != page_number:
                continue

            # Method 1: Check if diagram has associated question from extraction
            if hasattr(diagram, '_associated_question') and diagram._associated_question:
                for q in questions:
                    if q.question_number == diagram._associated_question:
                        if diagram not in q.diagrams:
                            q.diagrams.append(diagram)
                        break

            # Method 2: Check question text for diagram references
            for q in questions:
                if q.source and q.source.page_number == page_number:
                    text = q.content.text.lower() if q.content else ""
                    if self._references_diagram(text):
                        if diagram not in q.diagrams:
                            q.diagrams.append(diagram)

            # Method 3: Handle shared diagrams
            if diagram.is_shared and diagram.shared_with_questions:
                for q_num in diagram.shared_with_questions:
                    for q in questions:
                        if q.question_number == q_num:
                            if diagram not in q.diagrams:
                                q.diagrams.append(diagram)

    def _references_diagram(self, text: str) -> bool:
        """Check if text references a diagram."""
        patterns = [
            r"see\s+(the\s+)?(figure|diagram|graph|chart|table)",
            r"(figure|diagram|graph|chart|table)\s*(above|below|shown|given)",
            r"use\s+(the\s+)?(figure|diagram|graph)",
            r"refer\s+to\s+(the\s+)?(figure|diagram|graph)",
            r"in\s+the\s+(figure|diagram|graph)",
            r"from\s+the\s+(figure|diagram|graph)",
            r"the\s+(figure|diagram|graph)\s+(shows|illustrates)"
        ]
        return any(re.search(p, text, re.IGNORECASE) for p in patterns)

    async def analyze_diagram_content(
        self,
        diagram: Diagram,
        page_image: Image.Image,
        question_context: Optional[str] = None
    ) -> Dict[str, Any]:
        """
        Analyze a diagram's content in detail for better understanding.
        Useful for generating accessible descriptions.
        
        Args:
            diagram: Diagram object with bounding box
            page_image: Full page image to crop from
            question_context: Optional context about the question
        """
        if not diagram.bounding_box:
            return {}

        # Crop diagram region from page image using bounding box
        # Bounding box is stored as 0-100 percentage, convert to pixels
        img_width, img_height = page_image.size
        x1 = int(diagram.bounding_box.x1 / 100 * img_width)
        y1 = int(diagram.bounding_box.y1 / 100 * img_height)
        x2 = int(diagram.bounding_box.x2 / 100 * img_width)
        y2 = int(diagram.bounding_box.y2 / 100 * img_height)
        
        # Validate and crop
        if x2 <= x1 or y2 <= y1:
            return {}
        
        cropped = page_image.crop((x1, y1, x2, y2))
        image_part = self._image_to_part(cropped)

        prompt = f"""Analyze this diagram in detail:

1. What type of diagram is this?
2. What are the key elements/components?
3. Are there any labels or text?
4. What relationships or processes does it show?
5. What is the main purpose of this diagram?

{f"Question context: {question_context}" if question_context else ""}

Return a detailed JSON analysis."""

        try:
            response = await self.model.generate_content_async(
                [prompt, image_part],
                generation_config=genai.GenerationConfig(
                    temperature=0.1,
                    response_mime_type="application/json"
                )
            )

            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="DiagramExtractor",
                    operation="analyze_diagram",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            return self._parse_response(response.text)

        except Exception as e:
            self._logger.error(f"Failed to analyze diagram: {e}")
            return {"error": str(e)}
</file>

<file path="agents/orchestrator.py">
"""Orchestrator Agent - Coordinates the entire extraction pipeline."""

import asyncio
from typing import List, Optional, Dict, Any, Tuple
from pathlib import Path
from datetime import datetime
import logging
import json

import google.generativeai as genai

from ..models import (
    ExamPaper, ExamMetadata, ExtractionMetrics, Question, Diagram, Subject
)
from ..tracking import CostTracker, PipelineLogger, ConsoleProgressLogger
from .pdf_parser import PDFParserAgent, PageContent
from .question_extractor import QuestionExtractorAgent
from .diagram_extractor import DiagramExtractorAgent
from .answer_key_agent import AnswerKeyAgent
from .prompts import LAYOUT_ANALYSIS_PROMPT


class OrchestratorAgent:
    """
    Central coordinator for the exam extraction pipeline.
    Manages agent execution, state, and error recovery.
    """

    def __init__(
        self,
        model_name: str = "gemini-2.5-flash",
        output_dir: str = "output",
        api_key: Optional[str] = None,
        enable_logging: bool = True
    ):
        self.model_name = model_name
        self.output_dir = Path(output_dir)
        self.output_dir.mkdir(parents=True, exist_ok=True)
        self.api_key = api_key
        self._logger = logging.getLogger("Orchestrator")

        # Initialize tracking
        self.cost_tracker = CostTracker(log_dir=str(self.output_dir / "logs" / "costs"))
        self.pipeline_logger = PipelineLogger(log_dir=str(self.output_dir / "logs" / "agents")) if enable_logging else None

        # Initialize agents
        self.pdf_parser = PDFParserAgent(
            cost_tracker=self.cost_tracker,
            pipeline_logger=self.pipeline_logger,
            output_dir=str(self.output_dir / "pages")
        )

        self.question_extractor = QuestionExtractorAgent(
            model_name=model_name,
            cost_tracker=self.cost_tracker,
            pipeline_logger=self.pipeline_logger,
            api_key=api_key
        )

        self.diagram_extractor = DiagramExtractorAgent(
            model_name=model_name,
            cost_tracker=self.cost_tracker,
            pipeline_logger=self.pipeline_logger,
            output_dir=str(self.output_dir / "diagrams"),
            api_key=api_key
        )

        self.answer_key_agent = AnswerKeyAgent(
            model_name=model_name,
            cost_tracker=self.cost_tracker,
            pipeline_logger=self.pipeline_logger,
            api_key=api_key
        )

        # Initialize Gemini model for page type detection
        if api_key:
            genai.configure(api_key=api_key)
        self.model = genai.GenerativeModel(model_name)

    async def _detect_page_type(self, page: PageContent) -> Tuple[str, float]:
        """
        Detect page type using LLM classification.
        
        Returns:
            Tuple of (page_type, confidence)
        """
        try:
            # Prepare image
            image_parts = []
            if page.image:
                import base64
                import io
                from PIL import Image
                
                buffer = io.BytesIO()
                page.image.save(buffer, format="PNG")
                image_bytes = buffer.getvalue()
                image_parts = [{
                    "mime_type": "image/png",
                    "data": base64.b64encode(image_bytes).decode()
                }]

            # Build prompt
            prompt = LAYOUT_ANALYSIS_PROMPT + f"\n\nPage text preview:\n{page.text[:500]}"

            # Call Gemini
            if image_parts:
                response = await self.model.generate_content_async(
                    [prompt] + image_parts,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )
            else:
                response = await self.model.generate_content_async(
                    prompt,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )

            # Track token usage
            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="Orchestrator",
                    operation="detect_page_type",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            # Parse response
            result = json.loads(response.text)
            page_type = result.get("page_type", "question").lower()
            confidence = result.get("confidence", 0.5)

            # Normalize page_type
            if page_type in ["answer_key", "answer", "answers", "solutions"]:
                page_type = "answer_key"
            elif page_type in ["question", "questions"]:
                page_type = "question"
            elif page_type in ["instruction", "instructions"]:
                page_type = "instruction"
            elif page_type in ["cover", "title"]:
                page_type = "cover"
            else:
                page_type = "question"  # Default

            return page_type, confidence

        except Exception as e:
            self._logger.warning(f"Failed to detect page type for page {page.page_number}: {e}")
            # Default to question if detection fails
            return "question", 0.5

    async def process_pdf(
        self,
        pdf_path: str,
        extract_diagrams: bool = True,
        extract_answers: bool = True,
        detect_metadata: bool = True
    ) -> ExamPaper:
        """
        Process a PDF file and extract all exam content.

        Args:
            pdf_path: Path to the PDF file
            extract_diagrams: Whether to extract diagrams
            extract_answers: Whether to extract answer keys
            detect_metadata: Whether to detect exam metadata

        Returns:
            ExamPaper object with all extracted content
        """
        pdf_path = Path(pdf_path)
        self._logger.info(f"Processing PDF: {pdf_path.name}")

        # Start tracking
        run_id = self.cost_tracker.start_run(str(pdf_path))
        if self.pipeline_logger:
            self.pipeline_logger.start_run(run_id)

        start_time = datetime.now()
        progress = ConsoleProgressLogger()

        try:
            # Phase 1: Parse PDF
            self._logger.info("Phase 1: Parsing PDF")
            progress.update(0, "Parsing PDF...")
            pages = self.pdf_parser.parse(str(pdf_path))
            progress.total_pages = len(pages)

            # Phase 2: Detect metadata
            pdf_name = pdf_path.name if pdf_path.name else ""
            first_page_text = pages[0].text if pages and pages[0].text else ""
            metadata = ExamMetadata(
                source_file=pdf_name,
                subject=self._detect_subject(pdf_name, first_page_text)
            )

            if detect_metadata and pages:
                metadata = await self._extract_metadata(pages[0], pdf_path.name)

            # Phase 1: Page Type Classification (BT BUC)
            self._logger.info("Phase 1: Classifying page types")
            page_classifications = {}
            question_pages = []
            answer_key_pages = []
            
            for page in pages:
                progress.update(page.page_number, f"Classifying page {page.page_number}...")
                page_type, confidence = await self._detect_page_type(page)
                page_classifications[page.page_number] = {
                    "type": page_type,
                    "confidence": confidence
                }
                
                if page_type == "question":
                    question_pages.append(page)
                elif page_type == "answer_key":
                    answer_key_pages.append(page)
                
                self._logger.debug(f"Page {page.page_number}: {page_type} (confidence: {confidence:.2f})")

            self._logger.info(f"Classified {len(question_pages)} question pages, {len(answer_key_pages)} answer key pages")

            # Phase 2A: Extract questions from question pages only
            self._logger.info("Phase 2A: Extracting questions and diagrams")
            all_questions = []
            all_diagrams = []

            for page in question_pages:
                progress.update(page.page_number, f"Extracting questions from page {page.page_number}...")

                # Extract questions and detect diagrams in one LLM call
                questions, diagram_info_list = await self.question_extractor.extract_questions(page)
                all_questions.extend(questions)

                # Extract diagram images from bounding boxes (no additional LLM call needed)
                if extract_diagrams and diagram_info_list:
                    diagrams = self.diagram_extractor.extract_diagrams_from_info(
                        diagram_info_list, page
                    )
                    all_diagrams.extend(diagrams)

                    # Link diagrams to questions
                    self.diagram_extractor.link_diagrams_to_questions(
                        diagrams, questions, page.page_number
                    )

            # Phase 2B: Extract answer keys from answer_key pages only (output to separate file)
            all_answer_keys = {}  # Dict[str, AnswerKey] - question_ref -> AnswerKey
            
            if extract_answers and answer_key_pages:
                self._logger.info("Phase 2B: Extracting answer keys")
                progress.update(len(pages), "Extracting answer keys...")

                for page in answer_key_pages:
                    answers = await self.answer_key_agent.extract_answers(page)
                    all_answer_keys.update(answers)
                    self._logger.info(f"Extracted {len(answers)} answers from page {page.page_number}")

                # Save answer keys to separate file
                self._save_answer_keys(all_answer_keys, pdf_path.stem)

            # Phase 3: Merge answer keys to questions (CODE ONLY, NO LLM)
            if extract_answers and all_answer_keys:
                self._logger.info("Phase 3: Merging answer keys to questions")
                merged_count = self._merge_answer_keys_to_questions(all_questions, all_answer_keys)
                self._logger.info(f"Merged {merged_count} answer keys to questions")

            # Phase 5: Build final result
            progress.complete("Extraction complete")

            # End tracking
            metrics_data = self.cost_tracker.end_run()

            # Build extraction metrics
            extraction_metrics = ExtractionMetrics(
                total_tokens_used=metrics_data.total_tokens,
                total_cost_usd=metrics_data.total_cost,
                processing_time_seconds=(datetime.now() - start_time).total_seconds(),
                pages_processed=len(pages),
                questions_extracted=len(all_questions),
                diagrams_extracted=len(all_diagrams),
                agents_used=["PDFParser", "QuestionExtractor", "DiagramExtractor", "AnswerKeyAgent"],
                errors=[e for e in metrics_data.errors]
            )

            # Create exam paper
            exam_paper = ExamPaper(
                metadata=metadata,
                questions=all_questions,
                extraction_metrics=extraction_metrics
            )

            # Save results
            self._save_results(exam_paper, pdf_path.stem)

            # Print summary
            self._print_summary(exam_paper)

            return exam_paper

        except Exception as e:
            self._logger.error(f"Pipeline failed: {e}")
            if self.cost_tracker.current_run:
                self.cost_tracker.log_error("Orchestrator", e)
                self.cost_tracker.end_run()
            raise

    def process_pdf_sync(
        self,
        pdf_path: str,
        extract_diagrams: bool = True,
        extract_answers: bool = True,
        detect_metadata: bool = True
    ) -> ExamPaper:
        """Synchronous version of process_pdf."""
        return asyncio.run(self.process_pdf(
            pdf_path, extract_diagrams, extract_answers, detect_metadata
        ))

    async def process_multiple_pdfs(
        self,
        pdf_paths: List[str],
        parallel: bool = False
    ) -> List[ExamPaper]:
        """
        Process multiple PDF files.

        Args:
            pdf_paths: List of PDF file paths
            parallel: Whether to process in parallel (uses more API quota)

        Returns:
            List of ExamPaper objects
        """
        results = []

        if parallel:
            tasks = [self.process_pdf(path) for path in pdf_paths]
            results = await asyncio.gather(*tasks, return_exceptions=True)
            # Filter out exceptions
            results = [r for r in results if not isinstance(r, Exception)]
        else:
            for path in pdf_paths:
                try:
                    result = await self.process_pdf(path)
                    results.append(result)
                except Exception as e:
                    self._logger.error(f"Failed to process {path}: {e}")

        return results

    async def _extract_metadata(
        self,
        first_page: PageContent,
        filename: str
    ) -> ExamMetadata:
        """Extract exam metadata from the first page."""
        # Use heuristics and filename parsing
        # Handle None values safely
        filename = filename or ""
        page_text = first_page.text if first_page.text else ""
        
        metadata = ExamMetadata(source_file=filename)

        # Parse filename for info
        filename_lower = filename.lower()

        # Detect subject
        metadata.subject = self._detect_subject(filename, page_text)

        # Detect year
        import re
        year_match = re.search(r'20\d{2}', filename)
        if year_match:
            metadata.year = int(year_match.group())

        # Detect grade level
        grade_patterns = [
            (r'p[1-6]', lambda m: m.group().upper()),
            (r'primary\s*[1-6]', lambda m: f"P{m.group()[-1]}"),
            (r'sec(?:ondary)?\s*[1-5]', lambda m: f"S{m.group()[-1]}"),
        ]
        for pattern, extractor in grade_patterns:
            match = re.search(pattern, filename_lower)
            if match:
                metadata.grade_level = extractor(match)
                break

        # Detect exam type
        exam_types = {
            'sa1': 'SA1',
            'sa2': 'SA2',
            'prelim': 'Preliminary Exam',
            'mid-year': 'Mid-Year',
            'final': 'Final Exam',
            'mock': 'Mock Exam'
        }
        for key, value in exam_types.items():
            if key in filename_lower:
                metadata.exam_type = value
                break

        # Detect school from filename
        school_match = re.search(r'[-_]([A-Za-z\s]+)(?:primary|school)?\.pdf', filename, re.IGNORECASE)
        if school_match:
            metadata.school = school_match.group(1).strip()

        return metadata

    def _detect_subject(self, filename: str, text: str) -> Subject:
        """Detect subject from filename and content."""
        # Handle None values safely
        filename = filename or ""
        text = text or ""
        combined = (filename + " " + text[:500]).lower()

        if 'math' in combined:
            return Subject.MATHEMATICS
        elif 'science' in combined:
            return Subject.SCIENCE
        elif 'physics' in combined:
            return Subject.PHYSICS
        elif 'chemistry' in combined:
            return Subject.CHEMISTRY
        elif 'biology' in combined:
            return Subject.BIOLOGY
        else:
            return Subject.OTHER

    def _save_results(self, exam_paper: ExamPaper, pdf_name: str) -> None:
        """Save extraction results to files."""
        # Save JSON output
        questions_dir = self.output_dir / "questions"
        questions_dir.mkdir(exist_ok=True)

        output_file = questions_dir / f"{pdf_name}_extracted.json"
        with open(output_file, "w", encoding="utf-8") as f:
            f.write(exam_paper.to_json(indent=2))

        self._logger.info(f"Saved results to {output_file}")

        # Save individual questions for easier access
        individual_dir = questions_dir / pdf_name
        individual_dir.mkdir(exist_ok=True)

        for i, question in enumerate(exam_paper.questions):
            q_file = individual_dir / f"q{question.question_number or i+1}.json"
            with open(q_file, "w", encoding="utf-8") as f:
                json.dump(question.to_dict(), f, indent=2, ensure_ascii=False)

    def _save_answer_keys(
        self,
        answer_keys: Dict[str, Any],
        pdf_name: str
    ) -> None:
        """
        Save answer keys to a separate JSON file.
        
        Args:
            answer_keys: Dictionary mapping question_ref to AnswerKey objects
            pdf_name: PDF filename (without extension)
        """
        answer_keys_dir = self.output_dir / "answer_keys"
        answer_keys_dir.mkdir(exist_ok=True)

        # Convert AnswerKey objects to dict
        answer_keys_data = {
            "source_pdf": pdf_name,
            "extracted_at": datetime.now().isoformat(),
            "answers": []
        }

        for question_ref, answer_key in answer_keys.items():
            if hasattr(answer_key, 'to_dict'):
                answer_data = answer_key.to_dict()
            else:
                answer_data = answer_key
            
            answer_data["question_ref"] = question_ref
            answer_keys_data["answers"].append(answer_data)

        # Save to JSON
        output_file = answer_keys_dir / f"{pdf_name}_answer_keys.json"
        with open(output_file, "w", encoding="utf-8") as f:
            json.dump(answer_keys_data, f, indent=2, ensure_ascii=False)

        self._logger.info(f"Saved {len(answer_keys)} answer keys to {output_file}")

    def _merge_answer_keys_to_questions(
        self,
        questions: List[Question],
        answer_keys: Dict[str, Any]
    ) -> int:
        """
        Merge answer keys to questions (CODE ONLY, NO LLM).
        
        Logic:
        - Normalize question_ref from answer_keys
        - Match with question.question_number
        - For MCQ: set is_correct = true on matching option
        - For non-MCQ: attach answer_key object
        
        Args:
            questions: List of Question objects
            answer_keys: Dictionary mapping question_ref to AnswerKey objects
            
        Returns:
            Number of successful merges
        """
        import re
        
        def normalize_question_number(q_num: str) -> str:
            """Normalize question number for matching."""
            if not q_num:
                return ""
            # Remove parentheses, spaces, dots, convert to lowercase
            normalized = re.sub(r'[().\s]', '', q_num.lower())
            return normalized

        merged_count = 0

        for question in questions:
            # Try exact match
            if question.question_number in answer_keys:
                answer_key = answer_keys[question.question_number]
                self._attach_answer_to_question(question, answer_key)
                merged_count += 1
                continue

            # Try normalized match
            q_normalized = normalize_question_number(question.question_number)
            for question_ref, answer_key in answer_keys.items():
                ref_normalized = normalize_question_number(question_ref)
                if ref_normalized == q_normalized:
                    self._attach_answer_to_question(question, answer_key)
                    merged_count += 1
                    break

            # Handle subparts
            for subpart in question.subparts:
                if subpart.question_number in answer_keys:
                    answer_key = answer_keys[subpart.question_number]
                    self._attach_answer_to_question(subpart, answer_key)
                    merged_count += 1
                    continue

                # Try normalized match for subpart
                subpart_normalized = normalize_question_number(subpart.question_number)
                for question_ref, answer_key in answer_keys.items():
                    ref_normalized = normalize_question_number(question_ref)
                    if ref_normalized == subpart_normalized:
                        self._attach_answer_to_question(subpart, answer_key)
                        merged_count += 1
                        break

        return merged_count

    def _attach_answer_to_question(
        self,
        question: Question,
        answer_key: Any
    ) -> None:
        """
        Attach answer key to question.
        For MCQ: set is_correct = true on matching option.
        For non-MCQ: attach answer_key object.
        """
        # Handle AnswerKey object
        if hasattr(answer_key, 'final_answer'):
            final_answer = answer_key.final_answer
        elif isinstance(answer_key, dict):
            final_answer = answer_key.get("final_answer", answer_key.get("answer", ""))
        else:
            final_answer = str(answer_key)

        # For MCQ: set is_correct on matching option
        if question.response_type.value == "MULTIPLE_CHOICE" and question.response_config:
            if question.response_config.options:
                # Try to match answer with option label or text
                for option in question.response_config.options:
                    # Match by label (A, B, C, D or 1, 2, 3, 4)
                    if option.label.upper() == final_answer.upper():
                        option.is_correct = True
                        break
                    # Match by text
                    if option.text and final_answer.lower() in option.text.lower():
                        option.is_correct = True
                        break
                    # Match exact text
                    if option.text and option.text.strip() == final_answer.strip():
                        option.is_correct = True
                        break

        # Attach answer_key object (for all question types)
        if hasattr(answer_key, 'to_dict'):
            # It's an AnswerKey object
            question.answer_key = answer_key
        elif isinstance(answer_key, dict):
            # Convert dict to AnswerKey object
            from ..models import AnswerKey, WorkedSolutionStep, MarkingCriterion
            
            worked_solution = []
            for step_data in answer_key.get("worked_solution", []):
                step = WorkedSolutionStep(
                    step_number=step_data.get("step", step_data.get("step_number", 0)),
                    description=step_data.get("description", ""),
                    expression=step_data.get("expression"),
                    expression_latex=step_data.get("expression_latex")
                )
                worked_solution.append(step)
            
            marking_rubric = []
            for rubric_data in answer_key.get("marking_rubric", answer_key.get("marks_breakdown", [])):
                criterion = MarkingCriterion(
                    criterion=rubric_data.get("criterion", ""),
                    marks=rubric_data.get("marks", 0)
                )
                marking_rubric.append(criterion)
            
            question.answer_key = AnswerKey(
                final_answer=final_answer,
                worked_solution=worked_solution,
                marking_rubric=marking_rubric,
                explanation=answer_key.get("explanation")
            )
        else:
            # Simple string answer
            from ..models import AnswerKey
            question.answer_key = AnswerKey(final_answer=final_answer)

    def _print_summary(self, exam_paper: ExamPaper) -> None:
        """Print extraction summary."""
        print("\n" + "=" * 60)
        print("EXTRACTION SUMMARY")
        print("=" * 60)
        print(f"Source:          {exam_paper.metadata.source_file}")
        print(f"Subject:         {exam_paper.metadata.subject.value}")
        print(f"Grade:           {exam_paper.metadata.grade_level or 'Unknown'}")
        print(f"Year:            {exam_paper.metadata.year or 'Unknown'}")
        print("-" * 60)
        print(f"Pages Processed: {exam_paper.extraction_metrics.pages_processed}")
        print(f"Questions:       {exam_paper.extraction_metrics.questions_extracted}")
        print(f"Diagrams:        {exam_paper.extraction_metrics.diagrams_extracted}")
        print("-" * 60)
        print(f"Total Tokens:    {exam_paper.extraction_metrics.total_tokens_used:,}")
        print(f"Total Cost:      ${exam_paper.extraction_metrics.total_cost_usd:.4f}")
        print(f"Processing Time: {exam_paper.extraction_metrics.processing_time_seconds:.1f}s")
        print("=" * 60)

        # Question breakdown
        if exam_paper.questions:
            print("\nQUESTION BREAKDOWN:")
            for q in exam_paper.questions:
                has_answer = "+" if q.answer_key else "-"
                has_diagram = "D" if q.diagrams else " "
                subparts = f" ({len(q.subparts)} parts)" if q.subparts else ""
                print(f"  [{has_answer}][{has_diagram}] Q{q.question_number}: {q.response_type.value}{subparts}")

        print()

    def get_cost_summary(self) -> Dict[str, Any]:
        """Get cost tracking summary."""
        return self.cost_tracker.get_current_stats()


class ExamExtractor:
    """
    High-level API for exam extraction.
    Simple interface for common use cases.
    """

    def __init__(
        self,
        api_key: Optional[str] = None,
        output_dir: str = "output"
    ):
        self.orchestrator = OrchestratorAgent(
            api_key=api_key,
            output_dir=output_dir
        )

    def extract(self, pdf_path: str) -> ExamPaper:
        """
        Extract questions from a PDF file.

        Args:
            pdf_path: Path to the PDF file

        Returns:
            ExamPaper object with all extracted content
        """
        return self.orchestrator.process_pdf_sync(pdf_path)

    def extract_questions_only(self, pdf_path: str) -> List[Question]:
        """
        Extract only questions (no diagrams or answers).

        Args:
            pdf_path: Path to the PDF file

        Returns:
            List of Question objects
        """
        result = self.orchestrator.process_pdf_sync(
            pdf_path,
            extract_diagrams=False,
            extract_answers=False
        )
        return result.questions

    def extract_to_json(self, pdf_path: str, output_path: Optional[str] = None) -> str:
        """
        Extract and save to JSON file.

        Args:
            pdf_path: Path to the PDF file
            output_path: Optional output path (auto-generated if not provided)

        Returns:
            Path to the saved JSON file
        """
        result = self.extract(pdf_path)

        if not output_path:
            pdf_name = Path(pdf_path).stem
            output_path = f"{pdf_name}_extracted.json"

        with open(output_path, "w", encoding="utf-8") as f:
            f.write(result.to_json(indent=2))

        return output_path
</file>

<file path="agents/pdf_parser.py">
"""PDF Parser Agent - Extracts raw content from PDF files."""

import fitz  # PyMuPDF
from pathlib import Path
from typing import List, Optional, Tuple
from dataclasses import dataclass, field
from PIL import Image
import io
import logging

from ..tracking import CostTracker, PipelineLogger


@dataclass
class PageContent:
    """Content extracted from a single PDF page."""
    page_number: int
    text: str
    image: Optional[Image.Image] = None
    image_path: Optional[str] = None
    width: int = 0
    height: int = 0
    has_images: bool = False
    embedded_images: List[dict] = field(default_factory=list)

    def to_dict(self) -> dict:
        return {
            "page_number": self.page_number,
            "text_length": len(self.text),
            "has_image": self.image is not None,
            "width": self.width,
            "height": self.height,
            "has_embedded_images": self.has_images,
            "embedded_image_count": len(self.embedded_images)
        }


class PDFParserAgent:
    """
    Extracts raw content from PDF files using PyMuPDF.
    Handles both text-based and scanned PDFs.
    """

    def __init__(
        self,
        cost_tracker: Optional[CostTracker] = None,
        pipeline_logger: Optional[PipelineLogger] = None,
        output_dir: str = "output/pages"
    ):
        self.cost_tracker = cost_tracker
        self.logger = pipeline_logger
        self.output_dir = Path(output_dir)
        self.output_dir.mkdir(parents=True, exist_ok=True)
        self._logger = logging.getLogger("PDFParserAgent")

    def parse(self, pdf_path: str, render_dpi: int = 150) -> List[PageContent]:
        """
        Parse a PDF file and extract content from all pages.

        Args:
            pdf_path: Path to the PDF file
            render_dpi: DPI for rendering pages as images (higher = better quality but larger)

        Returns:
            List of PageContent objects, one per page
        """
        pdf_path = Path(pdf_path)
        if not pdf_path.exists():
            raise FileNotFoundError(f"PDF not found: {pdf_path}")

        self._logger.info(f"Parsing PDF: {pdf_path.name}")

        if self.logger:
            self.logger.log_agent_input("PDFParser", "parse", {
                "pdf_path": str(pdf_path),
                "render_dpi": render_dpi
            })

        pages = []
        doc = fitz.open(str(pdf_path))

        try:
            for page_num in range(len(doc)):
                page = doc[page_num]
                page_content = self._extract_page_content(
                    page,
                    page_num + 1,  # 1-indexed
                    pdf_path.stem,
                    render_dpi
                )
                pages.append(page_content)
                self._logger.debug(f"Extracted page {page_num + 1}: {len(page_content.text)} chars")

        finally:
            doc.close()

        if self.logger:
            self.logger.log_agent_output("PDFParser", "parse", {
                "total_pages": len(pages),
                "pages": [p.to_dict() for p in pages]
            })

        if self.cost_tracker:
            self.cost_tracker.update_counts(pages=len(pages))

        self._logger.info(f"Parsed {len(pages)} pages from {pdf_path.name}")
        return pages

    def _extract_page_content(
        self,
        page: fitz.Page,
        page_number: int,
        pdf_name: str,
        render_dpi: int
    ) -> PageContent:
        """Extract content from a single page."""
        # Extract text with layout preservation
        text = page.get_text("text")

        # Get page dimensions
        rect = page.rect
        width = int(rect.width)
        height = int(rect.height)

        # Render page as image
        mat = fitz.Matrix(render_dpi / 72, render_dpi / 72)
        pix = page.get_pixmap(matrix=mat)

        # Convert to PIL Image
        img_data = pix.tobytes("png")
        image = Image.open(io.BytesIO(img_data))

        # Save the page image
        image_filename = f"{pdf_name}_page_{page_number}.png"
        image_path = self.output_dir / image_filename
        image.save(image_path)

        # Extract embedded images
        embedded_images = self._extract_embedded_images(page, page_number, pdf_name)

        return PageContent(
            page_number=page_number,
            text=text,
            image=image,
            image_path=str(image_path),
            width=width,
            height=height,
            has_images=len(embedded_images) > 0,
            embedded_images=embedded_images
        )

    def _extract_embedded_images(
        self,
        page: fitz.Page,
        page_number: int,
        pdf_name: str
    ) -> List[dict]:
        """Extract embedded images from a page."""
        images = []
        image_list = page.get_images()

        for img_idx, img_info in enumerate(image_list):
            try:
                xref = img_info[0]
                base_image = page.parent.extract_image(xref)

                if base_image:
                    image_bytes = base_image["image"]
                    image_ext = base_image["ext"]

                    # Save embedded image
                    img_filename = f"{pdf_name}_page_{page_number}_img_{img_idx}.{image_ext}"
                    img_path = self.output_dir / img_filename

                    with open(img_path, "wb") as f:
                        f.write(image_bytes)

                    # Get image position on page
                    img_rect = page.get_image_rects(xref)
                    bbox = None
                    if img_rect:
                        r = img_rect[0]
                        page_rect = page.rect
                        bbox = {
                            "x1": (r.x0 / page_rect.width) * 100,
                            "y1": (r.y0 / page_rect.height) * 100,
                            "x2": (r.x1 / page_rect.width) * 100,
                            "y2": (r.y1 / page_rect.height) * 100
                        }

                    images.append({
                        "index": img_idx,
                        "path": str(img_path),
                        "format": image_ext,
                        "width": base_image.get("width", 0),
                        "height": base_image.get("height", 0),
                        "bounding_box": bbox
                    })

            except Exception as e:
                self._logger.warning(f"Failed to extract image {img_idx} from page {page_number}: {e}")

        return images

    def get_page_count(self, pdf_path: str) -> int:
        """Get the number of pages in a PDF."""
        doc = fitz.open(pdf_path)
        count = len(doc)
        doc.close()
        return count

    def extract_text_only(self, pdf_path: str) -> str:
        """Extract all text from PDF without rendering images."""
        doc = fitz.open(pdf_path)
        text = ""
        for page in doc:
            text += page.get_text("text") + "\n\n"
        doc.close()
        return text

    def detect_if_scanned(self, pdf_path: str, min_text_ratio: float = 0.1) -> bool:
        """
        Detect if PDF is primarily scanned (images) vs native text.

        Args:
            pdf_path: Path to PDF
            min_text_ratio: Minimum ratio of text to page count to consider native

        Returns:
            True if PDF appears to be scanned (needs OCR)
        """
        doc = fitz.open(pdf_path)
        total_text_len = 0
        page_count = len(doc)

        for page in doc:
            total_text_len += len(page.get_text("text").strip())

        doc.close()

        # If very little text, likely scanned
        avg_text_per_page = total_text_len / max(page_count, 1)
        return avg_text_per_page < 100  # Less than 100 chars per page = likely scanned
</file>

<file path="agents/prompts.py">
"""Prompt templates for all extraction agents."""

# =============================================================================
# PDF LAYOUT ANALYSIS PROMPTS
# =============================================================================

LAYOUT_ANALYSIS_PROMPT = """You are classifying exam paper pages by type. This is CRITICAL for routing pages to the correct extraction agent.

Analyze this page and determine its PRIMARY type:

**Page Types:**
- **question**: Contains exam questions (with question numbers like "1", "2", "Q1", etc.)
- **answer_key**: Contains answers/solutions (may have "Answer Key", "Answers", "Solutions" header, or answer patterns like "1. A", "1. 42")
- **instruction**: Contains exam instructions, rules, or guidelines
- **cover**: Cover page with exam title, subject, date
- **mixed**: Contains both questions and answers (rare, but possible)

**CRITICAL RULES:**
- If page has question numbers (1, 2, 3, Q1, Q2, etc.)  "question"
- If page has answer patterns (1. A, 2. B, or "Answer: 42")  "answer_key"
- If page has both  "mixed" (but prefer "answer_key" if answers are primary content)
- Be decisive - choose the PRIMARY purpose of the page

Return JSON:
{
    "page_type": "question|answer_key|instruction|cover|mixed",
    "confidence": 0.95,
    "reasoning": "Brief explanation of classification"
}

Focus ONLY on classification. Do NOT extract content."""


# =============================================================================
# QUESTION EXTRACTION PROMPTS
# =============================================================================

QUESTION_EXTRACTION_PROMPT = """You are extracting exam questions from a page. Extract ALL questions with complete structure AND detect/describe any diagrams.

For each question found, extract:

1. **Question Number**: The exact number/label (e.g., "7", "7a", "7(a)", "7.a.i")
2. **Question Text**: The complete question text
   - Preserve mathematical notation using LaTeX (e.g., $x^2 + 5x = 12$)
   - Preserve chemical formulas (e.g., HO, CO)
   - Keep any special formatting
   - **If there is a diagram associated with this question, describe it in detail within the question text**
3. **Subparts**: If the question has parts (a), (b), (c) or (i), (ii), (iii)
4. **Response Type**: What type of answer is expected?
   - MULTIPLE_CHOICE: Has options A, B, C, D or 1, 2, 3, 4
   - SHORT_ANSWER: Single word, number, or phrase
   - LONG_ANSWER: Paragraph or essay response
   - WORKING_AREA: Mathematical working required (show steps)
   - FILL_IN_BLANK: Blanks to fill in
   - TRUE_FALSE: True or false question
   - DIAGRAM_LABEL: Label parts of a diagram

**CRITICAL RULE FOR MULTIPLE-CHOICE QUESTIONS:**
- If response_type is MULTIPLE_CHOICE, you MUST extract ALL answer options.
- Options are REQUIRED and cannot be omitted.
- Options may appear:
   immediately after the question text
   AFTER a diagram or figure
   separated by line breaks or spacing
   on the same line or different lines
- Options are typically labeled (1)-(4), A-D, (A)-(D), or similar formats.
- If options are missing or unclear, still extract the best possible option list and LOWER the confidence score.
- A MULTIPLE_CHOICE question WITHOUT options is considered an INVALID extraction.

5. **MCQ Options** (REQUIRED for MULTIPLE_CHOICE): Extract ALL options with their labels
   - Format: [{"label": "A", "text": "option text"}, ...]
   - Include ALL options even if they appear after diagrams
6. **Marks/Points**: If shown (e.g., "[2 marks]", "(3)")
7. **Diagrams**: For each diagram/visual element associated with this question:
   - **diagram_description**: Detailed text description of what the diagram shows
   - **diagram_type**: Type of diagram (graph, table, figure, chart, illustration, formula, etc.)
   - **bounding_box**: Approximate position on page in 0-1000 scale: {"x_min": 0-1000, "y_min": 0-1000, "x_max": 0-1000, "y_max": 0-1000}
   - **associated_question**: Question number this diagram belongs to

Return JSON array:
{
    "questions": [
        {
            "question_number": "1",
            "question_text": "Which one of the following is sixty-three thousand and forty in numerals?",
            "question_text_latex": "Which one of the following is sixty-three thousand and forty in numerals?",
            "response_type": "MULTIPLE_CHOICE",
            "options": [
                {"label": "1", "text": "6340"},
                {"label": "2", "text": "63 040"},
                {"label": "3", "text": "63 400"},
                {"label": "4", "text": "630 040"}
            ],
            "marks": 1,
            "diagrams": [],
            "confidence": 0.95
        },
        {
            "question_number": "7",
            "question_text": "A rectangle has length (2x + 3) cm and width (x - 1) cm. [Diagram: A rectangle is shown with labeled sides]",
            "question_text_latex": "A rectangle has length $(2x + 3)$ cm and width $(x - 1)$ cm.",
            "response_type": "WORKING_AREA",
            "marks": 8,
            "has_subparts": true,
            "subparts": [
                {
                    "part_label": "a",
                    "question_text": "Write an expression for the perimeter of the rectangle.",
                    "response_type": "WORKING_AREA",
                    "marks": 2
                }
            ],
            "diagrams": [
                {
                    "diagram_description": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side. The sides are clearly labeled.",
                    "diagram_type": "figure",
                    "bounding_box": {"x_min": 50, "y_min": 200, "x_max": 300, "y_max": 400},
                    "associated_question": "7"
                }
            ],
            "confidence": 0.95
        }
    ],
    "page_number": 1,
    "extraction_notes": "Any issues or ambiguities encountered"
}

IMPORTANT:
- Extract EVERY question on the page, even partial ones
- Preserve exact wording
- Use LaTeX for all mathematical expressions
- **If a question has a diagram, include a detailed description in the question_text AND provide diagram info in the diagrams array**
- **Describe diagrams in natural language so the content is self-contained**
- **CRITICAL: MULTIPLE_CHOICE questions MUST include options array - this is REQUIRED, not optional**
- Note if a question continues from previous page or to next page"""


# =============================================================================
# MCQ EXTRACTION PROMPT
# =============================================================================

MCQ_EXTRACTION_PROMPT = """Extract multiple choice questions with all options.

For each MCQ, extract:
1. Question number
2. Question stem (the question text)
3. All options with their labels (A, B, C, D or 1, 2, 3, 4)
4. The correct answer if indicated

Return JSON:
{
    "questions": [
        {
            "question_number": "15",
            "stem": "What is the value of x in the equation 2x + 5 = 15?",
            "stem_latex": "What is the value of $x$ in the equation $2x + 5 = 15$?",
            "options": [
                {"label": "A", "text": "3"},
                {"label": "B", "text": "5"},
                {"label": "C", "text": "7"},
                {"label": "D", "text": "10"}
            ],
            "correct_answer": "B",
            "marks": 1
        }
    ]
}"""


# =============================================================================
# DIAGRAM DETECTION PROMPTS
# =============================================================================

DIAGRAM_DETECTION_PROMPT = """Identify ALL visual elements in this exam page that are diagrams, figures, graphs, charts, tables, or images.

For EACH visual element found, provide:
1. **Bounding Box**: Coordinates as percentages [x1, y1, x2, y2] where:
   - x1, y1 = top-left corner (0-1000 scale)
   - x2, y2 = bottom-right corner (0-1000 scale)
2. **Type**: GRAPH, GEOMETRIC_FIGURE, CHART, ILLUSTRATION, TABLE, CIRCUIT, MAP, SCIENTIFIC
3. **Associated Question**: Which question number this relates to (if identifiable)
4. **Description**: Brief description of what the diagram shows
5. **Is Shared**: True if used by multiple questions (e.g., "Use this diagram for questions 5-8")

Return JSON:
{
    "diagrams": [
        {
            "id": "diag_1",
            "bounding_box": {
                "x1": 100,
                "y1": 200,
                "x2": 400,
                "y2": 500
            },
            "type": "GEOMETRIC_FIGURE",
            "associated_question": "7",
            "description": "Right triangle with sides labeled a, b, c and a 90-degree angle marked",
            "is_shared": false,
            "labels_present": ["a", "b", "c", "90"],
            "confidence": 0.92
        }
    ],
    "shared_diagram_instructions": [
        {
            "text": "Use the diagram above to answer questions 5-8",
            "diagram_id": "diag_1",
            "question_range": ["5", "6", "7", "8"]
        }
    ],
    "total_diagrams_found": 1
}

IMPORTANT:
- Be precise with bounding boxes - include a small margin around the diagram
- Identify ALL visual elements, not just obvious diagrams
- Tables with data should be identified as TABLE type
- Note any labels or text within the diagram"""


# =============================================================================
# ANSWER KEY EXTRACTION PROMPTS
# =============================================================================

ANSWER_KEY_EXTRACTION_PROMPT = """Extract answer keys from this content. This is an answer key page.

For each answer, extract:
1. **Question Reference**: The question number/identifier (e.g., "1", "7a", "Q3", "3(a)")
   - Use the EXACT format as shown in the answer key
   - This will be matched to questions later
2. **Answer Type**: MULTIPLE_CHOICE, SHORT_ANSWER, WORKING_AREA, etc.
3. **Final Answer**: The correct answer
   - For MCQ: the option label (A, B, C, D or 1, 2, 3, 4)
   - For others: the answer text
4. **Worked Solution**: Step-by-step solution if provided (especially for Math)
5. **Marking Scheme**: Any marking criteria or rubric points

Return JSON:
{
    "answers": [
        {
            "question_ref": "1",
            "answer_type": "MULTIPLE_CHOICE",
            "answer": "2",
            "final_answer": "2",
            "confidence": 0.95
        },
        {
            "question_ref": "7a",
            "answer_type": "WORKING_AREA",
            "answer": "6x + 4",
            "final_answer": "6x + 4",
            "final_answer_latex": "$6x + 4$",
            "worked_solution": [
                {
                    "step": 1,
                    "description": "Write perimeter formula",
                    "expression": "P = 2(l + w)",
                    "expression_latex": "$P = 2(l + w)$"
                },
                {
                    "step": 2,
                    "description": "Substitute values",
                    "expression": "P = 2((2x+3) + (x-1))",
                    "expression_latex": "$P = 2((2x+3) + (x-1))$"
                },
                {
                    "step": 3,
                    "description": "Simplify",
                    "expression": "P = 2(3x + 2) = 6x + 4",
                    "expression_latex": "$P = 2(3x + 2) = 6x + 4$"
                }
            ],
            "marks_breakdown": [
                {"criterion": "Correct formula", "marks": 1},
                {"criterion": "Correct simplification", "marks": 1}
            ],
            "total_marks": 2,
            "confidence": 0.92
        }
    ],
    "is_complete_answer_key": true,
    "answer_key_type": "worked_solutions|final_answers_only|marking_scheme"
}

IMPORTANT:
- Extract EVERY answer on the page
- Use question_ref (not question_number) - this is the reference used for matching
- For MCQ, extract the option label (A, B, C, D or 1, 2, 3, 4)
- Preserve exact question numbering format from the answer key"""


# =============================================================================
# METADATA EXTRACTION PROMPT
# =============================================================================

EXAM_METADATA_PROMPT = """Extract metadata from this exam paper cover page or header.

Extract:
1. **Subject**: Mathematics, Science, Physics, Chemistry, Biology, etc.
2. **Grade/Level**: P5, P6, Secondary 1, etc.
3. **Exam Type**: Prelim, SA1, SA2, Final, Mid-year, etc.
4. **School Name**: If visible
5. **Year**: Exam year
6. **Duration**: Time allowed
7. **Total Marks**: Maximum marks
8. **Instructions**: Any important instructions for students

Return JSON:
{
    "subject": "MATHEMATICS",
    "grade_level": "P5",
    "exam_type": "SA2",
    "school": "ACS Primary",
    "year": 2023,
    "duration_minutes": 90,
    "total_marks": 100,
    "instructions": [
        "Answer all questions",
        "Show all working",
        "Calculators are allowed"
    ],
    "sections": [
        {"name": "Section A", "marks": 40, "description": "Multiple Choice"},
        {"name": "Section B", "marks": 60, "description": "Structured Questions"}
    ],
    "confidence": 0.9
}"""


# =============================================================================
# SCIENCE-SPECIFIC PROMPTS
# =============================================================================

SCIENCE_QUESTION_PROMPT = """Extract science exam questions with special attention to:

1. **Scientific Diagrams**: Experiments, life cycles, food chains, etc.
2. **Data Tables**: Experimental results, observations
3. **Scientific Terms**: Proper terminology preservation
4. **Process Questions**: "Explain why...", "Describe how..."
5. **Diagram Labeling**: Questions asking to label parts

For diagrams, note:
- What the diagram shows (organism, experiment setup, etc.)
- Parts that need labeling
- Arrows or flow directions
- Scale or measurements if shown

Return same JSON structure as general questions but with additional:
{
    "scientific_context": {
        "topic": "Living Things|Forces|Matter|Energy|etc.",
        "requires_diagram_analysis": true,
        "key_concepts": ["photosynthesis", "chlorophyll", "sunlight"]
    }
}"""


# =============================================================================
# VALIDATION PROMPT
# =============================================================================

SCHEMA_VALIDATION_PROMPT = """Review and validate the extracted exam data for completeness and accuracy.

Check for:
1. **Completeness**: Are all questions extracted? Any missing parts?
2. **Consistency**: Do question numbers follow logical sequence?
3. **Accuracy**: Does the extracted text match the original?
4. **Links**: Are diagrams correctly linked to questions?
5. **Answers**: Are answer keys matched to correct questions?

Return validation report:
{
    "is_valid": true,
    "completeness_score": 0.95,
    "issues": [
        {
            "type": "missing_subpart",
            "question": "7",
            "description": "Question 7c appears to be missing"
        }
    ],
    "warnings": [
        {
            "type": "low_confidence",
            "question": "12",
            "description": "OCR confidence low for mathematical expressions"
        }
    ],
    "suggestions": [
        "Review question 7 for missing parts",
        "Verify diagram 3 is linked correctly"
    ]
}"""
</file>

<file path="agents/question_extractor.py">
"""Question Extractor Agent - Extracts structured questions from exam pages."""

import google.generativeai as genai
from typing import List, Optional, Dict, Any
import json
import logging
import re
from PIL import Image
import base64
import io

from ..models import (
    Question, QuestionContent, QuestionSource, ResponseType,
    MCQOption, ResponseConfig, BoundingBox
)
from ..tracking import CostTracker, PipelineLogger
from .prompts import QUESTION_EXTRACTION_PROMPT, MCQ_EXTRACTION_PROMPT
from .pdf_parser import PageContent


class QuestionExtractorAgent:
    """
    Extracts individual questions from exam pages using Gemini Vision.
    Handles question text, subparts, response types, and marks.
    """

    def __init__(
        self,
        model_name: str = "gemini-2.5-flash",
        cost_tracker: Optional[CostTracker] = None,
        pipeline_logger: Optional[PipelineLogger] = None,
        api_key: Optional[str] = None
    ):
        self.model_name = model_name
        self.cost_tracker = cost_tracker
        self.pipeline_logger = pipeline_logger
        self._logger = logging.getLogger("QuestionExtractor")

        if api_key:
            genai.configure(api_key=api_key)

        self.model = genai.GenerativeModel(model_name)

    async def extract_questions(
        self,
        page_content: PageContent,
        context: Optional[str] = None
    ) -> tuple[List[Question], List[dict]]:
        """
        Extract all questions from a page and detect diagrams.

        Args:
            page_content: PageContent object with text and image
            context: Optional context from previous pages

        Returns:
            Tuple of (List of Question objects, List of diagram info dicts)
        """
        self._logger.info(f"Extracting questions from page {page_content.page_number}")

        if self.pipeline_logger:
            self.pipeline_logger.log_agent_input("QuestionExtractor", "extract", {
                "page_number": page_content.page_number,
                "text_length": len(page_content.text),
                "has_image": page_content.image is not None
            })

        # Build the prompt
        prompt = self._build_extraction_prompt(page_content.text, context)

        # Prepare image for Gemini
        image_parts = []
        if page_content.image:
            image_parts = [self._image_to_part(page_content.image)]

        # Call Gemini
        try:
            if image_parts:
                response = await self.model.generate_content_async(
                    [prompt] + image_parts,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )
            else:
                response = await self.model.generate_content_async(
                    prompt,
                    generation_config=genai.GenerationConfig(
                        temperature=0.1,
                        response_mime_type="application/json"
                    )
                )

            # Track token usage
            if self.cost_tracker and hasattr(response, 'usage_metadata'):
                self.cost_tracker.log_usage(
                    agent="QuestionExtractor",
                    operation="extract_questions",
                    input_tokens=response.usage_metadata.prompt_token_count,
                    output_tokens=response.usage_metadata.candidates_token_count,
                    model=self.model_name
                )

            # Parse response
            result = self._parse_response(response.text)
            questions = self._convert_to_questions(result, page_content.page_number)
            
            # Extract diagram info from LLM response
            diagram_info_list = self._extract_diagram_info(result, page_content.page_number)

            if self.pipeline_logger:
                self.pipeline_logger.log_agent_output("QuestionExtractor", "extract", {
                    "questions_found": len(questions),
                    "question_numbers": [q.question_number for q in questions],
                    "diagrams_detected": len(diagram_info_list)
                })

            if self.cost_tracker:
                self.cost_tracker.update_counts(questions=len(questions))

            self._logger.info(f"Extracted {len(questions)} questions and {len(diagram_info_list)} diagrams from page {page_content.page_number}")
            return questions, diagram_info_list

        except Exception as e:
            self._logger.error(f"Failed to extract questions: {e}")
            if self.pipeline_logger:
                self.pipeline_logger.log_error("QuestionExtractor", "extract", e, {
                    "page_number": page_content.page_number
                })
            return [], []  # Return empty lists for questions and diagram_info

    def extract_questions_sync(
        self,
        page_content: PageContent,
        context: Optional[str] = None
    ) -> List[Question]:
        """Synchronous version of extract_questions."""
        import asyncio
        return asyncio.run(self.extract_questions(page_content, context))

    def _build_extraction_prompt(self, page_text: str, context: Optional[str]) -> str:
        """Build the extraction prompt with page text and context."""
        prompt = QUESTION_EXTRACTION_PROMPT

        if context:
            prompt += f"\n\nContext from previous pages:\n{context}\n"

        prompt += f"\n\nPage text content:\n{page_text}\n"
        prompt += "\n\nAnalyze the image of this exam page and extract all questions. Return JSON."

        return prompt

    def _image_to_part(self, image: Image.Image) -> dict:
        """Convert PIL Image to Gemini part format."""
        buffer = io.BytesIO()
        image.save(buffer, format="PNG")
        image_bytes = buffer.getvalue()

        return {
            "mime_type": "image/png",
            "data": base64.b64encode(image_bytes).decode()
        }

    def _parse_response(self, response_text: str) -> Dict[str, Any]:
        """Parse the JSON response from Gemini with robust error handling."""
        import re
        
        def fix_json_escapes(text: str) -> str:
            """
            Fix invalid escape sequences in JSON strings.
            Escapes backslashes that aren't part of valid escape sequences.
            """
            result = []
            i = 0
            in_string = False
            escape_next = False
            valid_escapes = {'n', 't', 'r', 'b', 'f', '"', "'", '\\', '/', 'u'}
            
            while i < len(text):
                char = text[i]
                
                if escape_next:
                    # We're processing the character after a backslash
                    if char in valid_escapes:
                        # Valid escape sequence - keep as is
                        result.append('\\' + char)
                        escape_next = False
                    elif char == 'u' and i + 4 < len(text):
                        # Unicode escape \uXXXX - keep as is
                        result.append('\\' + text[i:i+5])
                        i += 4  # Skip the 4 hex digits
                        escape_next = False
                    else:
                        # Invalid escape - escape the backslash itself
                        result.append('\\\\' + char)
                        escape_next = False
                elif char == '\\':
                    # Check if we're in a string
                    if in_string:
                        escape_next = True
                    else:
                        result.append(char)
                elif char == '"':
                    # Toggle string state (but check if it's escaped)
                    if i > 0 and text[i-1] == '\\' and (i < 2 or text[i-2] != '\\'):
                        # Escaped quote - still in string
                        result.append(char)
                    else:
                        # Quote that starts/ends a string
                        in_string = not in_string
                        result.append(char)
                else:
                    result.append(char)
                
                i += 1
            
            # Handle trailing backslash
            if escape_next:
                result.append('\\\\')
            
            return ''.join(result)
        
        try:
            # Try to extract JSON from response
            response_text = response_text.strip()

            # Handle markdown code blocks
            if response_text.startswith("```"):
                lines = response_text.split("\n")
                json_lines = []
                in_json = False
                for line in lines:
                    if line.startswith("```json"):
                        in_json = True
                        continue
                    elif line.startswith("```"):
                        in_json = False
                        continue
                    if in_json:
                        json_lines.append(line)
                response_text = "\n".join(json_lines)

            # First attempt: direct parse
            try:
                return json.loads(response_text)
            except json.JSONDecodeError as e:
                # Try to fix escape sequence issues
                self._logger.debug(f"Initial JSON parse failed: {e}, attempting fixes...")
                
                if "Invalid \\escape" in str(e) or "Invalid escape" in str(e):
                    # Fix all escape sequences in the entire JSON
                    fixed_text = fix_json_escapes(response_text)
                    
                    try:
                        return json.loads(fixed_text)
                    except json.JSONDecodeError as e2:
                        self._logger.debug(f"Escape fix attempt failed: {e2}")
                        
                        # Try fixing just the problematic area
                        error_str = str(e)
                        line_match = re.search(r'line (\d+)', error_str)
                        col_match = re.search(r'column (\d+)', error_str)
                        
                        if line_match and col_match:
                            error_line = int(line_match.group(1)) - 1
                            error_col = int(col_match.group(1)) - 1
                            
                            lines = response_text.split('\n')
                            if 0 <= error_line < len(lines):
                                # Fix the specific problematic line
                                problem_line = lines[error_line]
                                fixed_line = fix_json_escapes(problem_line)
                                lines[error_line] = fixed_line
                                fixed_text = '\n'.join(lines)
                                
                                try:
                                    return json.loads(fixed_text)
                                except json.JSONDecodeError:
                                    pass
                
                # Try to extract JSON object using balanced braces
                # Find the first { and match it with the last }
                brace_count = 0
                start_idx = response_text.find('{')
                if start_idx >= 0:
                    for i in range(start_idx, len(response_text)):
                        if response_text[i] == '{':
                            brace_count += 1
                        elif response_text[i] == '}':
                            brace_count -= 1
                            if brace_count == 0:
                                # Found matching brace
                                extracted = response_text[start_idx:i+1]
                                try:
                                    fixed_extracted = fix_json_escapes(extracted)
                                    return json.loads(fixed_extracted)
                                except json.JSONDecodeError:
                                    pass
                                break
                
                # Last resort: try regex extraction
                json_match = re.search(r'\{[\s\S]*\}', response_text)
                if json_match:
                    try:
                        extracted = json_match.group(0)
                        fixed_extracted = fix_json_escapes(extracted)
                        return json.loads(fixed_extracted)
                    except json.JSONDecodeError:
                        pass
                
                # If all else fails, log detailed error
                self._logger.error(f"Failed to parse JSON after all fixes: {e}")
                # Log the problematic area
                error_str = str(e)
                line_match = re.search(r'line (\d+)', error_str)
                if line_match:
                    error_line = int(line_match.group(1)) - 1
                    lines = response_text.split('\n')
                    if 0 <= error_line < len(lines):
                        self._logger.debug(f"Problematic line {error_line + 1}: {lines[error_line][:200]}")
                
                self._logger.debug(f"Response text (first 1000 chars): {response_text[:1000]}")
                if len(response_text) > 1000:
                    self._logger.debug(f"Response text (last 500 chars): {response_text[-500:]}")
                
                return {"questions": [], "error": str(e), "raw_response_preview": response_text[:200]}
                    
        except Exception as e:
            self._logger.error(f"Unexpected error parsing JSON: {e}")
            import traceback
            self._logger.debug(traceback.format_exc())
            return {"questions": [], "error": str(e)}

    def _convert_to_questions(
        self,
        result: Dict[str, Any],
        page_number: int
    ) -> List[Question]:
        """Convert parsed JSON to Question objects."""
        questions = []

        for q_data in result.get("questions", []):
            try:
                question = self._create_question(q_data, page_number)
                questions.append(question)

                # Process subparts
                for subpart_data in q_data.get("subparts", []):
                    subpart = self._create_question(
                        subpart_data,
                        page_number,
                        parent_id=question.id,
                        parent_number=question.question_number,
                        hierarchy_level=1
                    )
                    question.subparts.append(subpart)

            except Exception as e:
                self._logger.warning(f"Failed to create question: {e}")
                continue

        return questions

    def _extract_diagram_info(
        self,
        result: Dict[str, Any],
        page_number: int
    ) -> List[dict]:
        """Extract diagram information from LLM response."""
        diagram_info_list = []
        
        for q_data in result.get("questions", []):
            diagrams = q_data.get("diagrams", [])
            for diag_data in diagrams:
                diagram_info = {
                    "question_number": q_data.get("question_number"),
                    "description": diag_data.get("diagram_description", ""),
                    "diagram_type": diag_data.get("diagram_type", "figure"),
                    "bounding_box": diag_data.get("bounding_box", {}),
                    "page_number": page_number,
                    "associated_question": diag_data.get("associated_question", q_data.get("question_number"))
                }
                diagram_info_list.append(diagram_info)
        
        return diagram_info_list

    def _create_question(
        self,
        q_data: Dict[str, Any],
        page_number: int,
        parent_id: Optional[str] = None,
        parent_number: Optional[str] = None,
        hierarchy_level: int = 0
    ) -> Question:
        """Create a Question object from parsed data."""
        # Determine question number
        q_num = q_data.get("question_number", "")
        if not q_num and q_data.get("part_label"):
            q_num = f"{parent_number}{q_data['part_label']}" if parent_number else q_data['part_label']

        # Create content
        content = QuestionContent(
            text=q_data.get("question_text", ""),
            text_latex=q_data.get("question_text_latex"),
            text_html=q_data.get("question_text_html")
        )

        # Determine response type
        response_type = self._map_response_type(q_data.get("response_type", "SHORT_ANSWER"))

        # Create response config for MCQ
        response_config = None
        if response_type == ResponseType.MULTIPLE_CHOICE:
            if "options" in q_data and q_data.get("options"):
                options = [
                    MCQOption(
                        label=opt.get("label", ""),
                        text=opt.get("text", ""),
                        is_correct=opt.get("is_correct", False)
                    )
                    for opt in q_data.get("options", [])
                ]
                response_config = ResponseConfig(options=options)
            else:
                # CRITICAL: MULTIPLE_CHOICE without options is invalid
                self._logger.warning(
                    f"MULTIPLE_CHOICE question {q_data.get('question_number', 'unknown')} "
                    f"on page {page_number} is missing options! This violates extraction rules."
                )

        # Create source reference
        source = QuestionSource(page_number=page_number)

        # Parse marks
        marks = q_data.get("marks")
        if isinstance(marks, str):
            try:
                marks = float(re.search(r'[\d.]+', marks).group())
            except:
                marks = None

        return Question(
            question_number=q_num,
            parent_question_id=parent_id,
            hierarchy_level=hierarchy_level,
            content=content,
            response_type=response_type,
            response_config=response_config,
            marks=marks,
            source=source,
            extraction_confidence=q_data.get("confidence", 0.8),
            raw_text=q_data.get("question_text", "")
        )

    def _map_response_type(self, type_str: str) -> ResponseType:
        """Map string response type to enum."""
        if not type_str:
            return ResponseType.SHORT_ANSWER
        type_map = {
            "MULTIPLE_CHOICE": ResponseType.MULTIPLE_CHOICE,
            "MCQ": ResponseType.MULTIPLE_CHOICE,
            "SHORT_ANSWER": ResponseType.SHORT_ANSWER,
            "LONG_ANSWER": ResponseType.LONG_ANSWER,
            "WORKING_AREA": ResponseType.WORKING_AREA,
            "FILL_IN_BLANK": ResponseType.FILL_IN_BLANK,
            "TRUE_FALSE": ResponseType.TRUE_FALSE,
            "MATCHING": ResponseType.MATCHING,
            "DIAGRAM_LABEL": ResponseType.DIAGRAM_LABEL
        }
        return type_map.get(type_str.upper(), ResponseType.SHORT_ANSWER)

    async def extract_mcq_batch(
        self,
        page_contents: List[PageContent]
    ) -> List[Question]:
        """Extract MCQ questions from multiple pages optimized for MCQ format."""
        all_questions = []

        for page in page_contents:
            prompt = MCQ_EXTRACTION_PROMPT + f"\n\nPage text:\n{page.text}"

            image_parts = []
            if page.image:
                image_parts = [self._image_to_part(page.image)]

            try:
                if image_parts:
                    response = await self.model.generate_content_async(
                        [prompt] + image_parts,
                        generation_config=genai.GenerationConfig(
                            temperature=0.1,
                            response_mime_type="application/json"
                        )
                    )
                else:
                    response = await self.model.generate_content_async(
                        prompt,
                        generation_config=genai.GenerationConfig(
                            temperature=0.1,
                            response_mime_type="application/json"
                        )
                    )

                if self.cost_tracker and hasattr(response, 'usage_metadata'):
                    self.cost_tracker.log_usage(
                        agent="QuestionExtractor",
                        operation="extract_mcq",
                        input_tokens=response.usage_metadata.prompt_token_count,
                        output_tokens=response.usage_metadata.candidates_token_count,
                        model=self.model_name
                    )

                result = self._parse_response(response.text)
                questions = self._convert_to_questions(result, page.page_number)
                all_questions.extend(questions)

            except Exception as e:
                self._logger.error(f"Failed to extract MCQ from page {page.page_number}: {e}")

        return all_questions
</file>

<file path="models/__init__.py">
"""Data models for exam extraction."""

from .enums import (
    ResponseType,
    DiagramType,
    ContentSegmentType,
    Subject,
    ExtractionStatus
)

from .question import (
    BoundingBox,
    ContentSegment,
    QuestionContent,
    MCQOption,
    BlankAnswer,
    ResponseConfig,
    WorkedSolutionStep,
    MarkingCriterion,
    AnswerKey,
    Diagram,
    QuestionSource,
    Question,
    ExamMetadata,
    ExtractionMetrics,
    ExamPaper
)

__all__ = [
    # Enums
    "ResponseType",
    "DiagramType",
    "ContentSegmentType",
    "Subject",
    "ExtractionStatus",
    # Models
    "BoundingBox",
    "ContentSegment",
    "QuestionContent",
    "MCQOption",
    "BlankAnswer",
    "ResponseConfig",
    "WorkedSolutionStep",
    "MarkingCriterion",
    "AnswerKey",
    "Diagram",
    "QuestionSource",
    "Question",
    "ExamMetadata",
    "ExtractionMetrics",
    "ExamPaper",
]
</file>

<file path="models/enums.py">
"""Enums for exam extraction system."""

from enum import Enum


class ResponseType(str, Enum):
    """Types of expected responses for questions."""
    MULTIPLE_CHOICE = "MULTIPLE_CHOICE"
    SHORT_ANSWER = "SHORT_ANSWER"
    LONG_ANSWER = "LONG_ANSWER"
    WORKING_AREA = "WORKING_AREA"
    FILL_IN_BLANK = "FILL_IN_BLANK"
    TRUE_FALSE = "TRUE_FALSE"
    MATCHING = "MATCHING"
    DIAGRAM_LABEL = "DIAGRAM_LABEL"


class DiagramType(str, Enum):
    """Types of diagrams found in exams."""
    GRAPH = "GRAPH"
    GEOMETRIC_FIGURE = "GEOMETRIC_FIGURE"
    CHART = "CHART"
    ILLUSTRATION = "ILLUSTRATION"
    TABLE = "TABLE"
    CIRCUIT = "CIRCUIT"
    DIAGRAM = "DIAGRAM"
    MAP = "MAP"
    SCIENTIFIC = "SCIENTIFIC"


class ContentSegmentType(str, Enum):
    """Types of content segments within a question."""
    TEXT = "TEXT"
    EQUATION = "EQUATION"
    DIAGRAM_REF = "DIAGRAM_REF"
    TABLE = "TABLE"
    CODE = "CODE"
    CHEMICAL_FORMULA = "CHEMICAL_FORMULA"
    LIST = "LIST"


class Subject(str, Enum):
    """Subject types for exams."""
    MATHEMATICS = "MATHEMATICS"
    SCIENCE = "SCIENCE"
    PHYSICS = "PHYSICS"
    CHEMISTRY = "CHEMISTRY"
    BIOLOGY = "BIOLOGY"
    ENGLISH = "ENGLISH"
    OTHER = "OTHER"


class ExtractionStatus(str, Enum):
    """Status of extraction process."""
    PENDING = "PENDING"
    IN_PROGRESS = "IN_PROGRESS"
    COMPLETED = "COMPLETED"
    FAILED = "FAILED"
    PARTIAL = "PARTIAL"
</file>

<file path="models/question.py">
"""Data models for questions and related structures."""

from dataclasses import dataclass, field
from typing import List, Optional, Dict, Any
from datetime import datetime
import uuid

from .enums import ResponseType, DiagramType, ContentSegmentType, Subject


@dataclass
class BoundingBox:
    """Bounding box coordinates (0-100 percentage scale)."""
    x1: float
    y1: float
    x2: float
    y2: float

    def to_dict(self) -> Dict[str, float]:
        return {"x1": self.x1, "y1": self.y1, "x2": self.x2, "y2": self.y2}

    @classmethod
    def from_dict(cls, data: Dict[str, float]) -> "BoundingBox":
        return cls(x1=data["x1"], y1=data["y1"], x2=data["x2"], y2=data["y2"])


@dataclass
class ContentSegment:
    """A segment of content within a question."""
    type: ContentSegmentType
    content: str
    order: int
    latex: Optional[str] = None

    def to_dict(self) -> Dict[str, Any]:
        return {
            "type": self.type.value,
            "content": self.content,
            "order": self.order,
            "latex": self.latex
        }


@dataclass
class QuestionContent:
    """Content of a question with multiple format options."""
    text: str
    text_latex: Optional[str] = None
    text_html: Optional[str] = None
    segments: List[ContentSegment] = field(default_factory=list)

    def to_dict(self) -> Dict[str, Any]:
        return {
            "text": self.text,
            "text_latex": self.text_latex,
            "text_html": self.text_html,
            "segments": [s.to_dict() for s in self.segments]
        }


@dataclass
class MCQOption:
    """Multiple choice option."""
    label: str  # A, B, C, D
    text: str
    is_correct: bool = False

    def to_dict(self) -> Dict[str, Any]:
        return {
            "label": self.label,
            "text": self.text,
            "is_correct": self.is_correct
        }


@dataclass
class BlankAnswer:
    """Fill in the blank answer."""
    position: int
    expected_answer: str
    acceptable_answers: List[str] = field(default_factory=list)

    def to_dict(self) -> Dict[str, Any]:
        return {
            "position": self.position,
            "expected_answer": self.expected_answer,
            "acceptable_answers": self.acceptable_answers
        }


@dataclass
class ResponseConfig:
    """Configuration for expected response type."""
    options: List[MCQOption] = field(default_factory=list)  # For MCQ
    blanks: List[BlankAnswer] = field(default_factory=list)  # For fill-in-blank
    word_limit: Optional[int] = None  # For long answer
    show_working: bool = False  # For working area
    matching_pairs: List[Dict[str, str]] = field(default_factory=list)  # For matching

    def to_dict(self) -> Dict[str, Any]:
        return {
            "options": [o.to_dict() for o in self.options],
            "blanks": [b.to_dict() for b in self.blanks],
            "word_limit": self.word_limit,
            "show_working": self.show_working,
            "matching_pairs": self.matching_pairs
        }


@dataclass
class WorkedSolutionStep:
    """A step in a worked solution."""
    step_number: int
    description: str
    expression: Optional[str] = None
    expression_latex: Optional[str] = None

    def to_dict(self) -> Dict[str, Any]:
        return {
            "step_number": self.step_number,
            "description": self.description,
            "expression": self.expression,
            "expression_latex": self.expression_latex
        }


@dataclass
class MarkingCriterion:
    """A marking criterion for rubric-based grading."""
    criterion: str
    marks: float

    def to_dict(self) -> Dict[str, Any]:
        return {"criterion": self.criterion, "marks": self.marks}


@dataclass
class AnswerKey:
    """Answer key for a question."""
    final_answer: str
    acceptable_answers: List[str] = field(default_factory=list)
    worked_solution: List[WorkedSolutionStep] = field(default_factory=list)
    marking_rubric: List[MarkingCriterion] = field(default_factory=list)
    explanation: Optional[str] = None

    def to_dict(self) -> Dict[str, Any]:
        return {
            "final_answer": self.final_answer,
            "acceptable_answers": self.acceptable_answers,
            "worked_solution": [s.to_dict() for s in self.worked_solution],
            "marking_rubric": [m.to_dict() for m in self.marking_rubric],
            "explanation": self.explanation
        }


@dataclass
class Diagram:
    """A diagram/figure extracted from the exam.
    
    Diagrams are stored as region references on the page image.
    The full page image is kept, and diagrams are referenced by bounding box.
    """
    id: str = field(default_factory=lambda: str(uuid.uuid4()))
    type: DiagramType = DiagramType.DIAGRAM
    alt_text: Optional[str] = None
    description: Optional[str] = None
    bounding_box: Optional[BoundingBox] = None
    source_page: int = 0
    is_shared: bool = False
    shared_with_questions: List[str] = field(default_factory=list)
    extraction_confidence: float = 0.0

    def to_dict(self) -> Dict[str, Any]:
        """Convert Diagram to dictionary. Diagrams are region references on page images."""
        return {
            "id": self.id,
            "type": self.type.value,
            "alt_text": self.alt_text,
            "description": self.description,
            "bounding_box": self.bounding_box.to_dict() if self.bounding_box else None,
            "source_page": self.source_page,
            "is_shared": self.is_shared,
            "shared_with_questions": self.shared_with_questions,
            "extraction_confidence": self.extraction_confidence
        }


@dataclass
class QuestionSource:
    """Source location of a question in the PDF."""
    page_number: int
    bounding_box: Optional[BoundingBox] = None

    def to_dict(self) -> Dict[str, Any]:
        return {
            "page_number": self.page_number,
            "bounding_box": self.bounding_box.to_dict() if self.bounding_box else None
        }


@dataclass
class Question:
    """A question extracted from an exam paper."""
    id: str = field(default_factory=lambda: str(uuid.uuid4()))
    question_number: str = ""
    parent_question_id: Optional[str] = None
    hierarchy_level: int = 0  # 0=main, 1=part(a,b), 2=subpart(i,ii)
    content: Optional[QuestionContent] = None
    response_type: ResponseType = ResponseType.SHORT_ANSWER
    response_config: Optional[ResponseConfig] = None
    diagrams: List[Diagram] = field(default_factory=list)
    answer_key: Optional[AnswerKey] = None
    marks: Optional[float] = None
    subparts: List["Question"] = field(default_factory=list)
    source: Optional[QuestionSource] = None
    extraction_confidence: float = 0.0
    raw_text: str = ""

    def to_dict(self) -> Dict[str, Any]:
        return {
            "id": self.id,
            "question_number": self.question_number,
            "parent_question_id": self.parent_question_id,
            "hierarchy_level": self.hierarchy_level,
            "content": self.content.to_dict() if self.content else None,
            "response_type": self.response_type.value,
            "response_config": self.response_config.to_dict() if self.response_config else None,
            "diagrams": [d.to_dict() for d in self.diagrams],
            "answer_key": self.answer_key.to_dict() if self.answer_key else None,
            "marks": self.marks,
            "subparts": [s.to_dict() for s in self.subparts],
            "source": self.source.to_dict() if self.source else None,
            "extraction_confidence": self.extraction_confidence
        }


@dataclass
class ExamMetadata:
    """Metadata about the exam paper."""
    id: str = field(default_factory=lambda: str(uuid.uuid4()))
    source_file: str = ""
    subject: Subject = Subject.OTHER
    grade_level: Optional[str] = None
    exam_type: Optional[str] = None
    school: Optional[str] = None
    year: Optional[int] = None
    total_marks: Optional[int] = None
    duration_minutes: Optional[int] = None
    extracted_at: datetime = field(default_factory=datetime.now)
    extraction_confidence: float = 0.0

    def to_dict(self) -> Dict[str, Any]:
        return {
            "id": self.id,
            "source_file": self.source_file,
            "subject": self.subject.value,
            "grade_level": self.grade_level,
            "exam_type": self.exam_type,
            "school": self.school,
            "year": self.year,
            "total_marks": self.total_marks,
            "duration_minutes": self.duration_minutes,
            "extracted_at": self.extracted_at.isoformat(),
            "extraction_confidence": self.extraction_confidence
        }


@dataclass
class ExtractionMetrics:
    """Metrics from the extraction process."""
    total_tokens_used: int = 0
    total_cost_usd: float = 0.0
    processing_time_seconds: float = 0.0
    pages_processed: int = 0
    questions_extracted: int = 0
    diagrams_extracted: int = 0
    agents_used: List[str] = field(default_factory=list)
    errors: List[Dict[str, Any]] = field(default_factory=list)

    def to_dict(self) -> Dict[str, Any]:
        return {
            "total_tokens_used": self.total_tokens_used,
            "total_cost_usd": round(self.total_cost_usd, 4),
            "processing_time_seconds": round(self.processing_time_seconds, 2),
            "pages_processed": self.pages_processed,
            "questions_extracted": self.questions_extracted,
            "diagrams_extracted": self.diagrams_extracted,
            "agents_used": self.agents_used,
            "errors": self.errors
        }


@dataclass
class ExamPaper:
    """Complete extracted exam paper."""
    metadata: ExamMetadata = field(default_factory=ExamMetadata)
    questions: List[Question] = field(default_factory=list)
    extraction_metrics: ExtractionMetrics = field(default_factory=ExtractionMetrics)

    def to_dict(self) -> Dict[str, Any]:
        return {
            "metadata": self.metadata.to_dict(),
            "questions": [q.to_dict() for q in self.questions],
            "extraction_metrics": self.extraction_metrics.to_dict()
        }

    def to_json(self, indent: int = 2) -> str:
        import json
        return json.dumps(self.to_dict(), indent=indent, ensure_ascii=False)
</file>

<file path="output/logs/agents/4671a64d/PDFParser/181550289752_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/4671a64d/PDFParser/181554843908_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181554845069_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181558936005_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181558936625_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181608461064_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181608462653_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181616851125_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181616852286_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181622913199_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181622914455_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181635921415_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181635922027_extract_input.json">
{
  "page_number": 6,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181703125065_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "10",
    "11"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181703128607_extract_input.json">
{
  "page_number": 7,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181713406999_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "12",
    "13"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181713409212_extract_input.json">
{
  "page_number": 8,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181720292409_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "14",
    "15"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181720293210_extract_input.json">
{
  "page_number": 9,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181723656785_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4671a64d/QuestionExtractor/181723657165_extract_input.json">
{
  "page_number": 10,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/PDFParser/181928055140_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/4935b2ec/PDFParser/181932893607_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181932895331_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181937664481_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181937665711_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181951833912_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181951836252_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181959803753_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/181959805323_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182006536340_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182006537277_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182016526235_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "8",
    "9"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182016527311_extract_input.json">
{
  "page_number": 6,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182026138141_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "10",
    "11"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182026139235_extract_input.json">
{
  "page_number": 7,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182035576956_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "12",
    "13"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182035579906_extract_input.json">
{
  "page_number": 8,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182042777259_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "14",
    "15"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182042778366_extract_input.json">
{
  "page_number": 9,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182046098607_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182046100005_extract_input.json">
{
  "page_number": 10,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182053819815_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "16",
    "17",
    "18"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182053820786_extract_input.json">
{
  "page_number": 11,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182058517935_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "19",
    "20"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182058518456_extract_input.json">
{
  "page_number": 12,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182104739643_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "21",
    "22"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182104740590_extract_input.json">
{
  "page_number": 13,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182114880879_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "23",
    "24"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182114882964_extract_input.json">
{
  "page_number": 14,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182121474739_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "25",
    "26"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182121475771_extract_input.json">
{
  "page_number": 15,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182129151204_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "27",
    "28"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182129151859_extract_input.json">
{
  "page_number": 16,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182136014411_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "29"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182136016777_extract_input.json">
{
  "page_number": 17,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182144969068_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "30"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182144970161_extract_input.json">
{
  "page_number": 18,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182147601956_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182147603002_extract_input.json">
{
  "page_number": 19,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182150975105_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182150976749_extract_input.json">
{
  "page_number": 20,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182159064903_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182159066534_extract_input.json">
{
  "page_number": 21,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182207542274_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "3"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182207543549_extract_input.json">
{
  "page_number": 22,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182216598306_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "4",
    "5"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182216599532_extract_input.json">
{
  "page_number": 23,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182224483687_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "6"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182224484277_extract_input.json">
{
  "page_number": 24,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182230895784_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182230896592_extract_input.json">
{
  "page_number": 25,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182236414038_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "8"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182236415064_extract_input.json">
{
  "page_number": 26,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182244656936_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "9"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182244658884_extract_input.json">
{
  "page_number": 27,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182252430578_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "10"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182252431689_extract_input.json">
{
  "page_number": 28,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182258478514_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "11"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182258479167_extract_input.json">
{
  "page_number": 29,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182304035767_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "12"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182304037542_extract_input.json">
{
  "page_number": 30,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182312866176_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "13"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182312867410_extract_input.json">
{
  "page_number": 31,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182319264086_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "14"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182319264842_extract_input.json">
{
  "page_number": 32,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182327339454_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "15"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182327340656_extract_input.json">
{
  "page_number": 33,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182336899523_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "16"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182336901580_extract_input.json">
{
  "page_number": 34,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182347297569_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "17"
  ],
  "diagrams_detected": 5
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182347306249_extract_input.json">
{
  "page_number": 35,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182402853050_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "Q1"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182402856195_extract_input.json">
{
  "page_number": 36,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182437722956_extract_output.json">
{
  "questions_found": 12,
  "question_numbers": [
    "Q3a",
    "Q3b",
    "Q4",
    "Q5",
    "Q6",
    "Q7",
    "Q8",
    "Q9",
    "Q10a",
    "Q10b",
    "Q11a",
    "Q11b"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182437724498_extract_input.json">
{
  "page_number": 37,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182512928002_extract_output.json">
{
  "questions_found": 13,
  "question_numbers": [
    "Q12a",
    "Q12b",
    "Q13a",
    "Q13b",
    "Q14",
    "Q15a",
    "Q15b",
    "Q16a",
    "Q16b",
    "Q16c",
    "Q17a",
    "Q17b",
    "Q17c"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182512931245_extract_input.json">
{
  "page_number": 38,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/4935b2ec/QuestionExtractor/182515384282_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/PDFParser/175536478256_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/510fe64a/PDFParser/175541310832_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175541312019_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175546130283_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175546130742_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175556647790_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175556649616_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175609917454_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175609918824_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175616322924_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175616324525_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175628942687_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "8",
    "9"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175628945603_extract_input.json">
{
  "page_number": 6,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175651994552_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "10",
    "11"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175651995472_extract_input.json">
{
  "page_number": 7,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175659855101_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "12",
    "13"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175659857172_extract_input.json">
{
  "page_number": 8,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175705907719_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "14",
    "15"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175705908768_extract_input.json">
{
  "page_number": 9,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175710064722_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175710065781_extract_input.json">
{
  "page_number": 10,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175716029957_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "16",
    "17",
    "18"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175716031124_extract_input.json">
{
  "page_number": 11,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175722590681_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "19",
    "20"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175722592959_extract_input.json">
{
  "page_number": 12,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175729327841_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "21",
    "22"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175729328473_extract_input.json">
{
  "page_number": 13,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175739627037_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "23",
    "24"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175739628348_extract_input.json">
{
  "page_number": 14,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175747066570_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "25",
    "26"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175747068537_extract_input.json">
{
  "page_number": 15,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175754618932_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "27",
    "28"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175754620269_extract_input.json">
{
  "page_number": 16,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175801541468_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "29"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175801543603_extract_input.json">
{
  "page_number": 17,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175809529018_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "30"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175809530272_extract_input.json">
{
  "page_number": 18,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175811989432_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175811989907_extract_input.json">
{
  "page_number": 19,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175816219484_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175816219901_extract_input.json">
{
  "page_number": 20,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175828016012_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175828017449_extract_input.json">
{
  "page_number": 21,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175837026041_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "3"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175837027779_extract_input.json">
{
  "page_number": 22,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175845461903_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "4",
    "5"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175845463436_extract_input.json">
{
  "page_number": 23,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175853889984_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "6"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175853892834_extract_input.json">
{
  "page_number": 24,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175859104053_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175859105412_extract_input.json">
{
  "page_number": 25,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175903784567_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "8"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175903785704_extract_input.json">
{
  "page_number": 26,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175912341067_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "9"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175912342171_extract_input.json">
{
  "page_number": 27,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175924141390_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "10"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175924142894_extract_input.json">
{
  "page_number": 28,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175929134508_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "11"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175929135526_extract_input.json">
{
  "page_number": 29,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175934838166_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "12"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175934846882_extract_input.json">
{
  "page_number": 30,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175941107953_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "13"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175941108578_extract_input.json">
{
  "page_number": 31,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175946923863_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "14"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175946925056_extract_input.json">
{
  "page_number": 32,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175956748124_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "15"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/175956749020_extract_input.json">
{
  "page_number": 33,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180005432974_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "16"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180005434694_extract_input.json">
{
  "page_number": 34,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180029212214_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "17"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180029213147_extract_input.json">
{
  "page_number": 35,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180035151668_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180035154145_extract_input.json">
{
  "page_number": 36,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180123138925_extract_output.json">
{
  "questions_found": 12,
  "question_numbers": [
    "Q3a",
    "Q3b",
    "Q4",
    "Q5",
    "Q6",
    "Q7",
    "Q8",
    "Q9",
    "Q10a",
    "Q10b",
    "Q11a",
    "Q11b"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180123140977_extract_input.json">
{
  "page_number": 37,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180207444716_extract_output.json">
{
  "questions_found": 13,
  "question_numbers": [
    "Q12a",
    "Q12b",
    "Q13a",
    "Q13b",
    "Q14",
    "Q15a",
    "Q15b",
    "Q16a",
    "Q16b",
    "Q16c",
    "Q17a",
    "Q17b",
    "Q17c"
  ],
  "diagrams_detected": 2
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180207446446_extract_input.json">
{
  "page_number": 38,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/510fe64a/QuestionExtractor/180211514844_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/PDFParser/183710237980_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/73789f16/PDFParser/183714955121_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183714956317_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183718638970_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183718639818_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183727935804_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183727936988_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183737122321_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183737128216_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183744207499_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183744208353_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183753064948_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "8",
    "9"
  ],
  "diagrams_detected": 2,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183753066167_extract_input.json">
{
  "page_number": 6,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183808682020_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "10",
    "11"
  ],
  "diagrams_detected": 2,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183808685995_extract_input.json">
{
  "page_number": 7,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183819173195_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "12",
    "13"
  ],
  "diagrams_detected": 2,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183819174589_extract_input.json">
{
  "page_number": 8,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183827765610_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "14",
    "15"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183827766666_extract_input.json">
{
  "page_number": 9,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183831518103_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183831519209_extract_input.json">
{
  "page_number": 10,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183838293392_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "16",
    "17",
    "18"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183838294321_extract_input.json">
{
  "page_number": 11,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183845058881_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "19",
    "20"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183845060012_extract_input.json">
{
  "page_number": 12,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183851378216_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "21",
    "22"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183851379266_extract_input.json">
{
  "page_number": 13,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183902395563_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "23",
    "24"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183902397562_extract_input.json">
{
  "page_number": 14,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183910855478_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "25",
    "26"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183910856115_extract_input.json">
{
  "page_number": 15,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183919807572_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "27",
    "28"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183919808784_extract_input.json">
{
  "page_number": 16,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183926705794_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "29"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183926707014_extract_input.json">
{
  "page_number": 17,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183934686103_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "30"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183934687338_extract_input.json">
{
  "page_number": 18,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183937376300_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183937376834_extract_input.json">
{
  "page_number": 19,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183940853966_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183940854564_extract_input.json">
{
  "page_number": 20,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183947933203_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183947933813_extract_input.json">
{
  "page_number": 21,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183954485432_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "3"
  ],
  "diagrams_detected": 2,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/183954486746_extract_input.json">
{
  "page_number": 22,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184006548875_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "4",
    "5"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184006550166_extract_input.json">
{
  "page_number": 23,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184013771569_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "6"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184013773215_extract_input.json">
{
  "page_number": 24,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184018655345_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "7"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184018656366_extract_input.json">
{
  "page_number": 25,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184023736531_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "8"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184023738475_extract_input.json">
{
  "page_number": 26,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184031083803_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "9"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184031085136_extract_input.json">
{
  "page_number": 27,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184040979162_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "10"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184040980133_extract_input.json">
{
  "page_number": 28,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184046815943_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "11"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184046816514_extract_input.json">
{
  "page_number": 29,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184052394941_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "12"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184052395976_extract_input.json">
{
  "page_number": 30,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184057665143_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "13"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184057665713_extract_input.json">
{
  "page_number": 31,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184102150132_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "14"
  ],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184102150702_extract_input.json">
{
  "page_number": 32,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184110910573_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "15"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184110911946_extract_input.json">
{
  "page_number": 33,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184120578935_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "16"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184120579634_extract_input.json">
{
  "page_number": 34,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184137964709_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "17"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184137966555_extract_input.json">
{
  "page_number": 35,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184151002167_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 32
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184151003102_extract_input.json">
{
  "page_number": 36,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184220554183_extract_output.json">
{
  "questions_found": 1,
  "question_numbers": [
    "Q3b"
  ],
  "diagrams_detected": 1,
  "answer_keys_detected": 11
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184220555158_extract_input.json">
{
  "page_number": 37,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184254493683_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "Q12a",
    "Q16c"
  ],
  "diagrams_detected": 2,
  "answer_keys_detected": 12
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184254496646_extract_input.json">
{
  "page_number": 38,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/73789f16/QuestionExtractor/184256876805_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0,
  "answer_keys_detected": 0
}
</file>

<file path="output/logs/agents/aa244942/PDFParser/181304049935_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/aa244942/PDFParser/181308624789_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181308625869_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181312560923_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181312561938_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181321995875_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181321997457_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181329399892_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181329401095_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181337702692_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181337703585_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181346727657_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/aa244942/QuestionExtractor/181346729089_extract_input.json">
{
  "page_number": 6,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/b9fd5479/PDFParser/081302940515_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/b9fd5479/PDFParser/081307551134_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/d993887d/PDFParser/175430633904_parse_input.json">
{
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "render_dpi": 150
}
</file>

<file path="output/logs/agents/d993887d/PDFParser/175435717714_parse_output.json">
{
  "total_pages": 38,
  "pages": [
    {
      "page_number": 1,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 2,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 3,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 4,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 5,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 6,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 7,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 8,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 9,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 10,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 11,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 12,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 13,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 14,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 15,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 16,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 17,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 18,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 19,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 20,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 21,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 22,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 23,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 24,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 25,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 26,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 27,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 28,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 29,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 30,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 31,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 32,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 33,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 34,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 35,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 36,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 37,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    },
    {
      "page_number": 38,
      "text_length": 0,
      "has_image": true,
      "width": 595,
      "height": 841,
      "has_embedded_images": true,
      "embedded_image_count": 1
    }
  ]
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175435718907_extract_input.json">
{
  "page_number": 1,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175438744694_extract_output.json">
{
  "questions_found": 0,
  "question_numbers": [],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175438745460_extract_input.json">
{
  "page_number": 2,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175450991212_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "1",
    "2"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175450995590_extract_input.json">
{
  "page_number": 3,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175507467235_extract_output.json">
{
  "questions_found": 2,
  "question_numbers": [
    "3",
    "4"
  ],
  "diagrams_detected": 1
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175507468143_extract_input.json">
{
  "page_number": 4,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175514367356_extract_output.json">
{
  "questions_found": 3,
  "question_numbers": [
    "5",
    "6",
    "7"
  ],
  "diagrams_detected": 0
}
</file>

<file path="output/logs/agents/d993887d/QuestionExtractor/175514368424_extract_input.json">
{
  "page_number": 5,
  "text_length": 0,
  "has_image": true
}
</file>

<file path="output/logs/costs/4935b2ec.json">
{
  "run_id": "4935b2ec",
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "start_time": "2025-12-13T18:19:28.054834",
  "end_time": "2025-12-13T18:25:15.385098",
  "processing_time_seconds": 347.33,
  "total_tokens": 86901,
  "total_input_tokens": 61256,
  "total_output_tokens": 25645,
  "total_cost_usd": 0.012288,
  "questions_extracted": 73,
  "diagrams_extracted": 30,
  "pages_processed": 38,
  "usage_by_agent": {
    "QuestionExtractor": {
      "input": 61256,
      "output": 25645,
      "calls": 38
    }
  },
  "token_usage_details": [
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 67,
      "total_tokens": 1679,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:19:37.664077"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 765,
      "total_tokens": 2377,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:19:51.833186"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 758,
      "total_tokens": 2370,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:19:59.802940"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 735,
      "total_tokens": 2347,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:06.535884"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 1206,
      "total_tokens": 2818,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:16.525681"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 974,
      "total_tokens": 2586,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:26.137780"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 1044,
      "total_tokens": 2656,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:35.575296"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 554,
      "total_tokens": 2166,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:42.776786"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 93,
      "total_tokens": 1705,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:46.097983"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 426,
      "total_tokens": 2038,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:53.819418"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 299,
      "total_tokens": 1911,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:20:58.517726"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 367,
      "total_tokens": 1979,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:04.739233"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 633,
      "total_tokens": 2245,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:14.879167"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 534,
      "total_tokens": 2146,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:21.472941"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 696,
      "total_tokens": 2308,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:29.150530"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 532,
      "total_tokens": 2144,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:36.013895"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 483,
      "total_tokens": 2095,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:44.968617"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 62,
      "total_tokens": 1674,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:47.601633"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 71,
      "total_tokens": 1683,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:50.972885"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 724,
      "total_tokens": 2336,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:21:59.064290"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 732,
      "total_tokens": 2344,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:07.541811"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 987,
      "total_tokens": 2599,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:16.597895"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 549,
      "total_tokens": 2161,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:24.483491"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 263,
      "total_tokens": 1875,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:30.895348"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 248,
      "total_tokens": 1860,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:36.413637"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 533,
      "total_tokens": 2145,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:44.655116"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 677,
      "total_tokens": 2289,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:52.430290"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 401,
      "total_tokens": 2013,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:22:58.478073"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 389,
      "total_tokens": 2001,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:04.034883"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 398,
      "total_tokens": 2010,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:12.864678"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 233,
      "total_tokens": 1845,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:19.263729"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 687,
      "total_tokens": 2299,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:27.338953"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 789,
      "total_tokens": 2401,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:36.899227"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 1295,
      "total_tokens": 2907,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:23:47.296274"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 330,
      "total_tokens": 1942,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:24:02.852499"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 3077,
      "total_tokens": 4689,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:24:37.720073"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 2973,
      "total_tokens": 4585,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:25:12.927270"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1612,
      "output_tokens": 61,
      "total_tokens": 1673,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:25:15.384155"
    }
  ],
  "errors": []
}
</file>

<file path="output/logs/costs/510fe64a.json">
{
  "run_id": "510fe64a",
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "start_time": "2025-12-13T17:55:36.477961",
  "end_time": "2025-12-13T18:02:11.516825",
  "processing_time_seconds": 395.04,
  "total_tokens": 72218,
  "total_input_tokens": 45790,
  "total_output_tokens": 26428,
  "total_cost_usd": 0.011363,
  "questions_extracted": 72,
  "diagrams_extracted": 26,
  "pages_processed": 38,
  "usage_by_agent": {
    "QuestionExtractor": {
      "input": 45790,
      "output": 26428,
      "calls": 38
    }
  },
  "token_usage_details": [
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 81,
      "total_tokens": 1286,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:55:46.130108"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 770,
      "total_tokens": 1975,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:55:56.647315"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 807,
      "total_tokens": 2012,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:56:09.916462"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 789,
      "total_tokens": 1994,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:56:16.321867"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 1297,
      "total_tokens": 2502,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:56:28.941623"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 1138,
      "total_tokens": 2343,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:56:51.994312"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 1037,
      "total_tokens": 2242,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:56:59.854017"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 608,
      "total_tokens": 1813,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:05.907278"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 75,
      "total_tokens": 1280,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:10.064365"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 497,
      "total_tokens": 1702,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:16.029026"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 336,
      "total_tokens": 1541,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:22.590279"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 389,
      "total_tokens": 1594,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:29.327536"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 662,
      "total_tokens": 1867,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:39.626569"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 599,
      "total_tokens": 1804,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:47.065916"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 730,
      "total_tokens": 1935,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:57:54.618449"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 637,
      "total_tokens": 1842,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:01.540488"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 537,
      "total_tokens": 1742,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:09.527168"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 61,
      "total_tokens": 1266,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:11.989296"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 73,
      "total_tokens": 1278,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:16.219357"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 812,
      "total_tokens": 2017,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:28.015538"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 730,
      "total_tokens": 1935,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:37.025547"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 1029,
      "total_tokens": 2234,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:45.461481"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 644,
      "total_tokens": 1849,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:53.887852"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 301,
      "total_tokens": 1506,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:58:59.103638"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 253,
      "total_tokens": 1458,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:03.784113"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 654,
      "total_tokens": 1859,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:12.340658"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 649,
      "total_tokens": 1854,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:24.140621"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 400,
      "total_tokens": 1605,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:29.133959"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 375,
      "total_tokens": 1580,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:34.836184"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 374,
      "total_tokens": 1579,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:41.107679"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 274,
      "total_tokens": 1479,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:46.922871"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 626,
      "total_tokens": 1831,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T17:59:56.747902"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 785,
      "total_tokens": 1990,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:00:05.432487"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 1361,
      "total_tokens": 2566,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:00:29.211971"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 126,
      "total_tokens": 1331,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:00:35.149931"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 2909,
      "total_tokens": 4114,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:01:23.136987"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 2943,
      "total_tokens": 4148,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:02:07.444144"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1205,
      "output_tokens": 60,
      "total_tokens": 1265,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:02:11.514508"
    }
  ],
  "errors": []
}
</file>

<file path="output/logs/costs/73789f16.json">
{
  "run_id": "73789f16",
  "pdf_path": "sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf",
  "start_time": "2025-12-13T18:37:10.237679",
  "end_time": "2025-12-13T18:42:56.879358",
  "processing_time_seconds": 346.64,
  "total_tokens": 97902,
  "total_input_tokens": 72314,
  "total_output_tokens": 25588,
  "total_cost_usd": 0.0131,
  "questions_extracted": 50,
  "diagrams_extracted": 26,
  "pages_processed": 38,
  "usage_by_agent": {
    "QuestionExtractor": {
      "input": 72314,
      "output": 25588,
      "calls": 38
    }
  },
  "token_usage_details": [
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 76,
      "total_tokens": 1979,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:37:18.638589"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 737,
      "total_tokens": 2640,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:37:27.935519"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 799,
      "total_tokens": 2702,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:37:37.117164"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 769,
      "total_tokens": 2672,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:37:44.207015"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1168,
      "total_tokens": 3071,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:37:53.064510"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1093,
      "total_tokens": 2996,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:08.681484"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1042,
      "total_tokens": 2945,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:19.172131"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 566,
      "total_tokens": 2469,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:27.765050"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 108,
      "total_tokens": 2011,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:31.517710"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 467,
      "total_tokens": 2370,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:38.293004"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 341,
      "total_tokens": 2244,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:45.058459"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 386,
      "total_tokens": 2289,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:38:51.377804"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 702,
      "total_tokens": 2605,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:02.393756"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 698,
      "total_tokens": 2601,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:10.855274"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 695,
      "total_tokens": 2598,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:19.806938"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 527,
      "total_tokens": 2430,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:26.704885"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 582,
      "total_tokens": 2485,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:34.685619"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 72,
      "total_tokens": 1975,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:37.376148"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 92,
      "total_tokens": 1995,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:40.853625"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 726,
      "total_tokens": 2629,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:47.932500"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 753,
      "total_tokens": 2656,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:39:54.484989"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 966,
      "total_tokens": 2869,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:06.548409"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 605,
      "total_tokens": 2508,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:13.766647"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 291,
      "total_tokens": 2194,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:18.654944"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 272,
      "total_tokens": 2175,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:23.735544"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 566,
      "total_tokens": 2469,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:31.083035"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 684,
      "total_tokens": 2587,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:40.978849"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 426,
      "total_tokens": 2329,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:46.815731"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 422,
      "total_tokens": 2325,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:52.394535"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 466,
      "total_tokens": 2369,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:40:57.664907"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 263,
      "total_tokens": 2166,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:41:02.149925"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 753,
      "total_tokens": 2656,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:41:10.909773"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 842,
      "total_tokens": 2745,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:41:20.578315"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1073,
      "total_tokens": 2976,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:41:37.961600"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1731,
      "total_tokens": 3634,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:41:51.001788"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 1440,
      "total_tokens": 3343,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:42:20.553481"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 2317,
      "total_tokens": 4220,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:42:54.491813"
    },
    {
      "agent": "QuestionExtractor",
      "operation": "extract_questions",
      "input_tokens": 1903,
      "output_tokens": 72,
      "total_tokens": 1975,
      "model": "gemini-2.5-flash",
      "timestamp": "2025-12-13T18:42:56.876655"
    }
  ],
  "errors": []
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q1.json">
{
  "id": "41e6e8ef-0655-450c-9e02-7b5c554e724c",
  "question_number": "1",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "7500 ml of water was poured into 6 containers equally. How many litres of water were there in one container?",
    "text_latex": "7500 ml of water was poured into 6 containers equally. How many litres of water were there in one container?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": 2,
  "subparts": [],
  "source": {
    "page_number": 20,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q10.json">
{
  "id": "50f17ee9-617d-46db-977e-96645e0e1578",
  "question_number": "10",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The line graph shows the number of visitors at a science exhibition from January to June. [Diagram: A line graph titled 'Number of Visitors' vs 'Month' from January to June. The y-axis ranges from 0 to 800, labeled 'Number of Visitors', with increments of 100. The x-axis is labeled 'Month' and shows Jan, Feb, Mar, Apr, May, Jun. The line plot shows visitor numbers: January (~300), February (~550), March (~750), April (~700), May (~300), June (~650).]",
    "text_latex": "The line graph shows the number of visitors at a science exhibition from January to June.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "f3264b84-3400-4252-a718-b0d1e3ee8f74",
      "question_number": "10a",
      "parent_question_id": "50f17ee9-617d-46db-977e-96645e0e1578",
      "hierarchy_level": 1,
      "content": {
        "text": "During which one-month period did the number of visitors increase the most?",
        "text_latex": null,
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "May to June",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 27,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "5d57abad-552f-4efa-8462-20b070d1167e",
      "question_number": "10b",
      "parent_question_id": "50f17ee9-617d-46db-977e-96645e0e1578",
      "hierarchy_level": 1,
      "content": {
        "text": "Each visitor paid $6.50 for a ticket to the exhibition. How much money was collected from the sales of the total number of tickets from January to April?",
        "text_latex": null,
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Total visitors = $300 + 600 + 760 + 700 = 2360$\nTotal sales = $2360 \\times \\$6.50 = \\$15340$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 27,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 27,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q11.json">
{
  "id": "c1edba26-978b-460d-a834-259472c6417c",
  "question_number": "11",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "In a race, there were 1050 participants altogether. 70% of the participants were men and the rest were women. 80% of the women and some men finished the race. A total of 230 participants did not finish the race.",
    "text_latex": "In a race, there were 1050 participants altogether. 70% of the participants were men and the rest were women. 80% of the women and some men finished the race. A total of 230 participants did not finish the race.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "711f00eb-1b39-45ab-a10d-bdd39d443695",
      "question_number": "11a",
      "parent_question_id": "c1edba26-978b-460d-a834-259472c6417c",
      "hierarchy_level": 1,
      "content": {
        "text": "How many women joined the race?",
        "text_latex": "How many women joined the race?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "10u = 1050\n1u = 105\n3u = 315",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 28,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "1705a474-40ce-4fce-a2be-871b2d4e9f5a",
      "question_number": "11b",
      "parent_question_id": "c1edba26-978b-460d-a834-259472c6417c",
      "hierarchy_level": 1,
      "content": {
        "text": "How many men finished the race?",
        "text_latex": "How many men finished the race?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "No. of women who did not finish race = $0.2 \\times 315 = 63$\nNo. of men who did not finish race = $230 - 63 = 167$\nNo. of men who finished race = $(1050 - 315) - 167 = 568$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 28,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 28,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q12.json">
{
  "id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
  "question_number": "12",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Alice has some paperclips. If she gives each friend 14 paperclips, she will have 4 paperclips left. If she gives each of them 20 paperclips, she will be short of 68 paperclips.",
    "text_latex": "Alice has some paperclips. If she gives each friend 14 paperclips, she will have 4 paperclips left. If she gives each of them 20 paperclips, she will be short of 68 paperclips.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "ce3dc5fc-5074-4ac1-9ce1-e17d1b6d1805",
      "question_number": "12a",
      "parent_question_id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
      "hierarchy_level": 1,
      "content": {
        "text": "How many friends did Alice have?",
        "text_latex": "How many friends did Alice have?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "168 \\div 14 = 12",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 29,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "fc8a8cfe-ec18-44a0-94b7-1579df03ccea",
      "question_number": "12b",
      "parent_question_id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
      "hierarchy_level": 1,
      "content": {
        "text": "How many paperclips did Alice have?",
        "text_latex": "How many paperclips did Alice have?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "172",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 29,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 29,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q13.json">
{
  "id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
  "question_number": "13",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Alex, Ben and Charles shared some stickers. Ben received 3 times as many stickers as Charles. The number of stickers Alex received was $\\frac{3}{5}$ the total number of stickers. Alex received 120 more stickers than Charles.",
    "text_latex": "Alex, Ben and Charles shared some stickers. Ben received 3 times as many stickers as Charles. The number of stickers Alex received was $\\frac{3}{5}$ the total number of stickers. Alex received 120 more stickers than Charles.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "ee2de78c-1fb5-4cba-9043-615f71d24ef0",
      "question_number": "13a",
      "parent_question_id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
      "hierarchy_level": 1,
      "content": {
        "text": "What fraction of the stickers did Charles have?",
        "text_latex": "What fraction of the stickers did Charles have?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Alex: 6u, Ben: 3u, Charles: 1u\nFraction Charles has = $\\frac{1}{10}$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 30,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "0855677f-2bc6-40ae-bd52-13c988acab2c",
      "question_number": "13b",
      "parent_question_id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
      "hierarchy_level": 1,
      "content": {
        "text": "How many stickers did the boys have altogether?",
        "text_latex": "How many stickers did the boys have altogether?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "6u - 1u = 120\n5u = 120\n1u = 24\n10u = 240",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 30,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 30,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q14.json">
{
  "id": "67f84e28-79dd-43da-a6c1-a7a658c36425",
  "question_number": "14",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Simon bought an equal number of sandwiches and pies. A sandwich cost $4 and a pie cost $1.80 less than a sandwich. He paid a total of $279. How much did Simon pay for the pies?",
    "text_latex": "Simon bought an equal number of sandwiches and pies. A sandwich cost $4 and a pie cost $1.80 less than a sandwich. He paid a total of $279. How much did Simon pay for the pies?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": 4,
  "subparts": [],
  "source": {
    "page_number": 31,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q15.json">
{
  "id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
  "question_number": "15",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Container A measuring 30 cm by 16 cm by 15 cm was completely filled with water at first. Container B is a cubical tank of edge 10 cm. Ravi poured some of the water from Container A into Container B to fill it completely. [Diagram: Two containers are shown. Container A is a rectangular prism labeled with dimensions 30 cm (length), 16 cm (width), and 15 cm (height). Container B is a cube labeled with an edge length of 10 cm. An arrow indicates water being poured from Container A to Container B.]",
    "text_latex": "Container A measuring $30 \\text{ cm}$ by $16 \\text{ cm}$ by $15 \\text{ cm}$ was completely filled with water at first. Container B is a cubical tank of edge $10 \\text{ cm}$. Ravi poured some of the water from Container A into Container B to fill it completely.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "243f66ca-4153-4ca0-b402-2a204ad64576",
      "question_number": "15a",
      "parent_question_id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
      "hierarchy_level": 1,
      "content": {
        "text": "How much water was left in Container A?",
        "text_latex": "How much water was left in Container A?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Vol. of container A = 30 x 15 x 16 = 7200 ml\nVol. of container B = 10 x 10 x 10 = 1000 ml\nAmt. of water left = 7200 - 1000 = 6200 ml",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 32,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "0deb68ef-093d-4328-8b56-4948a2e0bb8d",
      "question_number": "15b",
      "parent_question_id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
      "hierarchy_level": 1,
      "content": {
        "text": "After Ravi used some water to water his plants, he had 5150 ml of water left. How much water did Ravi use to water his plants? Give your answer in litres.",
        "text_latex": "After Ravi used some water to water his plants, he had $5150 \\text{ ml}$ of water left. How much water did Ravi use to water his plants? Give your answer in litres.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Water used = 6200 - 5150 = 1050 ml = 1.05 $\\ell$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 32,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 32,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q16.json">
{
  "id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
  "question_number": "16",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The bar graph below shows the number of cupcakes sold from Monday to Friday. [Diagram: A bar graph titled 'Number of cupcakes sold' shows the number of cupcakes sold from Monday to Friday. The x-axis is labeled with days: Mon, Tue, Wed, Thu, Fri. The y-axis is labeled 'Number of cupcakes sold' and ranges from 0 to 80 in increments of 20. Bars are present for Monday (approx. 35 cupcakes), Tuesday (approx. 55 cupcakes), Wednesday (approx. 65 cupcakes), and Thursday (approx. 70 cupcakes). There is no bar for Friday, but a dashed vertical line indicates where it would be, extending up to the 80 mark.]",
    "text_latex": "The bar graph below shows the number of cupcakes sold from Monday to Friday.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "d0a121e6",
      "type": "DIAGRAM",
      "alt_text": "A bar graph showing the number of cupcakes sold from Monday to Friday. The x-axis represents the days of the week (Mon, Tue, Wed, Thu, Fri). The y-axis represents the 'Number of cupcakes sold', scaled from 0 to 80 in increments of 20. The bars indicate sales as follows: Monday (approx. 35), Tuesday (approx. 55), Wednesday (approx. 65), Thursday (approx. 70). The Friday column is empty, marked by a dashed vertical line, indicating a value to be determined and shaded.",
      "description": "A bar graph showing the number of cupcakes sold from Monday to Friday. The x-axis represents the days of the week (Mon, Tue, Wed, Thu, Fri). The y-axis represents the 'Number of cupcakes sold', scaled from 0 to 80 in increments of 20. The bars indicate sales as follows: Monday (approx. 35), Tuesday (approx. 55), Wednesday (approx. 65), Thursday (approx. 70). The Friday column is empty, marked by a dashed vertical line, indicating a value to be determined and shaded.",
      "bounding_box": {
        "x1": 18.0,
        "y1": 17.0,
        "x2": 84.0,
        "y2": 46.0
      },
      "source_page": 33,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "28e4a2d2-e368-4d43-ac82-cbdd9ee4af68",
      "question_number": "16a",
      "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
      "hierarchy_level": 1,
      "content": {
        "text": "What was the average number of cupcakes sold on Monday and Tuesday?",
        "text_latex": "What was the average number of cupcakes sold on Monday and Tuesday?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Average = (35 + 55) \\div 2 = 45",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 33,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "6fe18e64-910d-4cc0-ad9a-b3025a709c5c",
      "question_number": "16b",
      "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
      "hierarchy_level": 1,
      "content": {
        "text": "Find the total number of cupcakes sold from Monday to Thursday.",
        "text_latex": "Find the total number of cupcakes sold from Monday to Thursday.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "Total = 35 + 55 + 65 + 75 = 230",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 33,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "b8e99eb7-231d-45cd-8cca-eb86e4f97d47",
      "question_number": "16c",
      "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
      "hierarchy_level": 1,
      "content": {
        "text": "The average number of cupcakes sold for the 5 days was 56. Find the number of cupcakes sold on Friday. Shade your answer in the graph above.",
        "text_latex": "The average number of cupcakes sold for the 5 days was 56. Find the number of cupcakes sold on Friday. Shade your answer in the graph above.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 33,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 33,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q17.json">
{
  "id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
  "question_number": "17",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The pattern below is made up of squares and dots. Study the pattern carefully and answer the following questions. [Diagrams: Four figures (Figure 1, Figure 2, Figure 3, Figure 4) illustrate a pattern of squares and dots. Figure 1 shows a single square with dots at its four vertices. Figure 2 shows three squares arranged in an L-shape, with dots at all seven vertices. Figure 3 shows five squares arranged in a larger L-shape, with dots at all eleven vertices. Figure 4 shows seven squares arranged in an even larger L-shape, with dots at all fifteen vertices. Below these figures, a table is provided, showing 'Figure' numbers (1-5), 'Number of squares', and 'Number of dots' for each figure, with a blank cell for 'Number of dots' in Figure 5.]",
    "text_latex": "The pattern below is made up of squares and dots. Study the pattern carefully and answer the following questions.",
    "text_html": null,
    "segments": []
  },
  "response_type": "LONG_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "92c9ab59-e2f3-4cb9-be71-d7711e257a1f",
      "question_number": "17a",
      "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
      "hierarchy_level": 1,
      "content": {
        "text": "Complete the table below by filling in the number of dots in Figure 5.",
        "text_latex": "Complete the table below by filling in the number of dots in Figure 5.",
        "text_html": null,
        "segments": []
      },
      "response_type": "FILL_IN_BLANK",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "19",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 34,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "0dc63f5d-28ab-4d73-bdf5-b4030b59fb23",
      "question_number": "17b",
      "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
      "hierarchy_level": 1,
      "content": {
        "text": "How many squares are there in Figure 12?",
        "text_latex": "How many squares are there in Figure 12?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "12 - 1 = 11\n11 x 2 = 22\n22 + 1 = 23",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 34,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "ff60fa8f-2989-49e6-8975-3f91d53cabc2",
      "question_number": "17c",
      "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
      "hierarchy_level": 1,
      "content": {
        "text": "In which figure are there 295 dots?",
        "text_latex": "In which figure are there 295 dots?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "295 - 3 = 292\n292 \\div 4 = 73\n73 + 1 = 74",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 34,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    }
  ],
  "source": {
    "page_number": 34,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q18.json">
{
  "id": "444f600d-cdb1-44c0-9bf8-be5640c286e4",
  "question_number": "18",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Find the value of $\\frac{2}{9} \\times \\frac{3}{5}$. Give your answer in its simplest form.",
    "text_latex": "Find the value of $\\frac{2}{9} \\times \\frac{3}{5}$. Give your answer in its simplest form.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "$\\frac{2}{15}$",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": 1,
  "subparts": [],
  "source": {
    "page_number": 10,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q19.json">
{
  "id": "f7010b58-ea27-4b35-87d6-a7f86777da67",
  "question_number": "19",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A baker sells 65 slices of cakes per day. How many slices of cakes will the baker sell in a week?",
    "text_latex": "A baker sells 65 slices of cakes per day. How many slices of cakes will the baker sell in a week?",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "455",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 11,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q2.json">
{
  "id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
  "question_number": "2",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "There are less than 40 apples in a box. Adam, Chloe and Eddy shared the box of apples in the ratio $3 : 1 : 5$. Each statement below is either true, false or not possible to tell from the information given. For each statement, put a tick ($\\checkmark$) to indicate your answer. [Diagram: A table with three columns labeled 'Statement', 'True', 'False', and 'Not possible to tell'. The table contains two rows for statements to be evaluated.]",
    "text_latex": "There are less than 40 apples in a box. Adam, Chloe and Eddy shared the box of apples in the ratio $3 : 1 : 5$. Each statement below is either true, false or not possible to tell from the information given. For each statement, put a tick ($\\checkmark$) to indicate your answer.",
    "text_html": null,
    "segments": []
  },
  "response_type": "TRUE_FALSE",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": 2,
  "subparts": [
    {
      "id": "9a5cb036-1597-4322-b48e-32488f784814",
      "question_number": "2statement_1",
      "parent_question_id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
      "hierarchy_level": 1,
      "content": {
        "text": "There are 9 apples in the box.",
        "text_latex": null,
        "text_html": null,
        "segments": []
      },
      "response_type": "TRUE_FALSE",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 20,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "f842c602-2cf2-4ae0-817e-5c24be79849c",
      "question_number": "2statement_2",
      "parent_question_id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
      "hierarchy_level": 1,
      "content": {
        "text": "Adam received 10 more apples than Chloe.",
        "text_latex": null,
        "text_html": null,
        "segments": []
      },
      "response_type": "TRUE_FALSE",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 20,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 20,
    "bounding_box": null
  },
  "extraction_confidence": 0.95
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q20.json">
{
  "id": "589fe7dd-2edf-4cbf-85e0-b658a7363b87",
  "question_number": "20",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "What is the value of $20 + (24 - 6) \\div 6 \\times 3$.",
    "text_latex": "What is the value of $20 + (24 - 6) \\div 6 \\times 3$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "29",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 11,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q21.json">
{
  "id": "c738236b-f5fa-447c-94d2-86796dcd9012",
  "question_number": "21",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A machine takes 3 minutes to print 7 posters. At the same rate, how long will it take to print 42 posters?",
    "text_latex": "A machine takes 3 minutes to print 7 posters. At the same rate, how long will it take to print 42 posters?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "18 min",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": 2,
  "subparts": [],
  "source": {
    "page_number": 12,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q22.json">
{
  "id": "85aa40b2-9901-4bb2-9139-39cdd45d5d07",
  "question_number": "22",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A piece of string is cut into three pieces in the ratio $2 : 4 : 7$. The longest piece is 40 cm longer than the shortest piece. Find the original length of the piece of string.",
    "text_latex": "A piece of string is cut into three pieces in the ratio $2 : 4 : 7$. The longest piece is $40$ cm longer than the shortest piece. Find the original length of the piece of string.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "1.04 m",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": 2,
  "subparts": [],
  "source": {
    "page_number": 12,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q23.json">
{
  "id": "82ccd7fe-482a-425e-809a-5f182669bbc0",
  "question_number": "23",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A box can hold either 12 big cubes or 48 small cubes. Keane put 6 big cubes and 7 small cubes in the box. How many more small cubes can Keane put into the box?",
    "text_latex": "A box can hold either 12 big cubes or 48 small cubes. Keane put 6 big cubes and 7 small cubes in the box. How many more small cubes can Keane put into the box?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "17",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 13,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q24.json">
{
  "id": "85c66a83-a2b2-4065-9dc0-ed448a42f9b0",
  "question_number": "24",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "In the figure below, ACD is an isosceles triangle and BCD is a straight line. $\\angle ABC = 42^\\circ$ and $\\angle ADC = 70^\\circ$. Find $\\angle BAC$. [Diagram: A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.]",
    "text_latex": "In the figure below, ACD is an isosceles triangle and BCD is a straight line. $\\angle ABC = 42^\\circ$ and $\\angle ADC = 70^\\circ$. Find $\\angle BAC$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "7ca78079",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.",
      "description": "A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.",
      "bounding_box": {
        "x1": 22.0,
        "y1": 52.0,
        "x2": 62.0,
        "y2": 66.0
      },
      "source_page": 13,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "final_answer": "$28^{\\circ}$",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 13,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q25.json">
{
  "id": "a7603872-b57e-4e1a-b01d-832caf15a4ff",
  "question_number": "25",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Carol has $215 more than Raju. Raju has $35 less than Joel. Carol has $148 more than the total amount of money Raju and Joel have. How much money does Raju have?",
    "text_latex": "Carol has $215 more than Raju. Raju has $35 less than Joel. Carol has $148 more than the total amount of money Raju and Joel have. How much money does Raju have?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "$32",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 14,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q26.json">
{
  "id": "ab7f28ed-9433-4625-87a5-a9fd3e1e223f",
  "question_number": "26",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The table below shows the number of pages of a book Anna read from Monday to Friday. Anna read an average of 8 pages from Monday to Friday. How many pages did she read on Friday? [Diagram: A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.]",
    "text_latex": "The table below shows the number of pages of a book Anna read from Monday to Friday. Anna read an average of 8 pages from Monday to Friday. How many pages did she read on Friday?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "24909aae",
      "type": "TABLE",
      "alt_text": "A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.",
      "description": "A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.",
      "bounding_box": {
        "x1": 21.5,
        "y1": 52.0,
        "x2": 80.0,
        "y2": 58.0
      },
      "source_page": 14,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "final_answer": "14",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 14,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q27.json">
{
  "id": "8875a6aa-95d1-4995-89ce-18b7f6d205da",
  "question_number": "27",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "In the figure below, ACDE is a parallelogram. $\\angle AEB = 36^\\circ$ and $\\angle CBE = 157^\\circ$. Find $\\angle BCD$. [Diagram: A geometric figure is shown. It is a parallelogram labeled ACDE. A line segment EB is drawn, where B is a point on the side AC. Angle AEB is marked as $36^\\circ$. Angle CBE is marked as $157^\\circ$. The vertices are labeled A, B, C, D, E.]",
    "text_latex": "In the figure below, ACDE is a parallelogram. $\\angle AEB = 36^\\circ$ and $\\angle CBE = 157^\\circ$. Find $\\angle BCD$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "38129def",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure showing a parallelogram ACDE. A line segment EB is drawn from vertex E to a point B on the side AC. Angle AEB is indicated as $36^\\circ$. Angle CBE is indicated as $157^\\circ$. The vertices are labeled A, B, C, D, E.",
      "description": "A geometric figure showing a parallelogram ACDE. A line segment EB is drawn from vertex E to a point B on the side AC. Angle AEB is indicated as $36^\\circ$. Angle CBE is indicated as $157^\\circ$. The vertices are labeled A, B, C, D, E.",
      "bounding_box": {
        "x1": 25.0,
        "y1": 17.0,
        "x2": 58.0,
        "y2": 29.0
      },
      "source_page": 15,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "final_answer": "$59^{\\circ}$",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 15,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q28.json">
{
  "id": "480ca313-7b54-454d-8d7e-f2809fe4a257",
  "question_number": "28",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Annie, Ben and Caili shared some money. The ratio of Annie's money to Ben's money was $4 : 1$. Caili received $84 and she had $24 more than Annie. How much money did Ben receive?",
    "text_latex": "Annie, Ben and Caili shared some money. The ratio of Annie's money to Ben's money was $4 : 1$. Caili received $84 and she had $24 more than Annie. How much money did Ben receive?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": {
    "final_answer": "$15",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 15,
    "bounding_box": null
  },
  "extraction_confidence": 0.97
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q29.json">
{
  "id": "7c42e8fc-0378-476b-b621-e1a42debca30",
  "question_number": "29",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "In the figure below, ABD is an equilateral triangle and ABCE is a trapezium. CDE is a straight line and $\\angle DAE = 49^\\circ$. Find $\\angle CBD$. [Diagram: A geometric figure is shown with points A, B, C, D, E. Triangle ABD is an equilateral triangle, indicated by tick marks on sides AB, BD, and AD. Quadrilateral ABCE is a trapezium, indicated by single arrows on sides AE and BC, suggesting AE is parallel to BC. Line segment CDE is a straight line. Angle DAE is labeled as $49^\\circ$.]",
    "text_latex": "In the figure below, ABD is an equilateral triangle and ABCE is a trapezium. CDE is a straight line and $\\angle DAE = 49^\\circ$. Find $\\angle CBD$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [
    {
      "id": "af8c1e7f",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure composed of a triangle ABD and a quadrilateral ABCE. Points are labeled A, B, C, D, E. Triangle ABD is marked with single tick marks on sides AB, BD, and AD, indicating it is an equilateral triangle. Quadrilateral ABCE has single arrows on sides AE and BC, indicating they are parallel, thus forming a trapezium. The line segment CDE is shown as a straight line. Angle DAE is explicitly labeled as $49^\\circ$.",
      "description": "A geometric figure composed of a triangle ABD and a quadrilateral ABCE. Points are labeled A, B, C, D, E. Triangle ABD is marked with single tick marks on sides AB, BD, and AD, indicating it is an equilateral triangle. Quadrilateral ABCE has single arrows on sides AE and BC, indicating they are parallel, thus forming a trapezium. The line segment CDE is shown as a straight line. Angle DAE is explicitly labeled as $49^\\circ$.",
      "bounding_box": {
        "x1": 22.0,
        "y1": 19.0,
        "x2": 44.0,
        "y2": 36.0
      },
      "source_page": 16,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "final_answer": "$11^{\\circ}$",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 16,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q3.json">
{
  "id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
  "question_number": "3",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The solid below is made up of 1-cm cubes. [Diagram: An isometric drawing of a solid made of 1-cm cubes is shown. The solid appears to have a base of 3 cubes in length and 2 cubes in width, with varying heights. From the indicated 'Front View', the solid would appear to be 3 units wide and 3 units high at its tallest point. An arrow points to the front, labeled 'Front View'.]",
    "text_latex": "The solid below is made up of 1-cm cubes.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [
    {
      "id": "a5b455eb-3c24-4233-b480-7ca1e62ba2b8",
      "question_number": "3a",
      "parent_question_id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
      "hierarchy_level": 1,
      "content": {
        "text": "What is the volume of the solid?",
        "text_latex": "What is the volume of the solid?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "13 cm",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 21,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "8fa3d3c8-a25c-4589-a955-1a7605deeaa4",
      "question_number": "3b",
      "parent_question_id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
      "hierarchy_level": 1,
      "content": {
        "text": "Draw the front view of the solid on the square grid below. [Diagram: A 6x4 grid of squares is provided below the question text for drawing the front view.]",
        "text_latex": "Draw the front view of the solid on the square grid below.",
        "text_html": null,
        "segments": []
      },
      "response_type": "DIAGRAM_LABEL",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 21,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    }
  ],
  "source": {
    "page_number": 21,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q30.json">
{
  "id": "dea12821-3083-4683-8477-117f6019a205",
  "question_number": "30",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A triangular piece of paper is folded at one corner to form 3 smaller identical triangles as shown below. Find the area of the triangular piece of paper before it was folded? [Diagram: A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.]",
    "text_latex": "A triangular piece of paper is folded at one corner to form 3 smaller identical triangles as shown below. Find the area of the triangular piece of paper before it was folded?",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [
    {
      "id": "a0eecefb",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.",
      "description": "A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.",
      "bounding_box": {
        "x1": 23.0,
        "y1": 21.0,
        "x2": 80.0,
        "y2": 37.0
      },
      "source_page": 17,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "final_answer": "$240 \\text{ cm}^2$",
    "acceptable_answers": [],
    "worked_solution": [],
    "marking_rubric": [],
    "explanation": null
  },
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 17,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q4.json">
{
  "id": "125c4de6-8b31-475e-8f65-bc5bf3bc3575",
  "question_number": "4",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The table shows the postage rates for sending mails in Singapore. Mr Cheng sent a small envelope with a mass of 30 g and a large envelope with a mass of 400 g. How much postage did Mr Cheng pay altogether? [Diagram: A table titled 'The table shows the postage rates for sending mails in Singapore.' with columns 'Mass step not over', 'Small envelope', and 'Large envelope'. Rows are for mass steps: 20 g, 40 g, 100 g, 250 g, 500 g. The corresponding rates are: for Small envelope: $0.31 (20g), $0.38 (40g). The cells for 100g, 250g, and 500g under 'Small envelope' are obscured. For Large envelope: $0.60 (20g), $0.60 (40g), $0.60 (100g), $0.90 (250g), $1.15 (500g).]",
    "text_latex": "The table shows the postage rates for sending mails in Singapore. Mr Cheng sent a small envelope with a mass of 30 g and a large envelope with a mass of 400 g. How much postage did Mr Cheng pay altogether?",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 22,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q5.json">
{
  "id": "67dad736-5a71-4c1a-b227-e9ee8acfff4e",
  "question_number": "5",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Siti spent $\\frac{1}{3}$ of her money on a dress and $\\frac{1}{5}$ of her money on a handbag. She had $168 left. How much money did she spend on her handbag?",
    "text_latex": "Siti spent $\\frac{1}{3}$ of her money on a dress and $\\frac{1}{5}$ of her money on a handbag. She had $168 left. How much money did she spend on her handbag?",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 22,
    "bounding_box": null
  },
  "extraction_confidence": 0.95
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q6.json">
{
  "id": "3e5adbb4-2712-4429-9248-099f9bf3eb4c",
  "question_number": "6",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "In the figure below, ABCE is a rhombus and CDE is a right-angled triangle. $\\angle ABC = 56^\\circ$ and $\\angle AED = 97^\\circ$. Find $\\angle CDE$. [Diagram: A geometric figure is shown, composed of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has all four sides (AB, BC, CE, EA) marked with a single tick, indicating equal length. Angle ABC is labeled as $56^\\circ$. Angle AED is labeled as $97^\\circ$. The triangle CDE is attached to side CE of the rhombus. Angle ECD is marked with a right-angle symbol, indicating $90^\\circ$. The vertices are labeled A, B, C, D, E.]",
    "text_latex": "In the figure below, ABCE is a rhombus and CDE is a right-angled triangle. $\\angle ABC = 56^\\circ$ and $\\angle AED = 97^\\circ$. Find $\\angle CDE$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "6d44809f",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure consisting of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has sides AB, BC, CE, and EA marked with single tick marks, indicating they are equal in length. Angle ABC is labeled as 56 degrees. Angle AED is labeled as 97 degrees. The triangle CDE shares side CE with the rhombus. Angle ECD is marked with a right-angle symbol (90 degrees). The vertices are labeled A, B, C, D, E.",
      "description": "A geometric figure consisting of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has sides AB, BC, CE, and EA marked with single tick marks, indicating they are equal in length. Angle ABC is labeled as 56 degrees. Angle AED is labeled as 97 degrees. The triangle CDE shares side CE with the rhombus. Angle ECD is marked with a right-angle symbol (90 degrees). The vertices are labeled A, B, C, D, E.",
      "bounding_box": {
        "x1": 23.0,
        "y1": 25.0,
        "x2": 54.0,
        "y2": 47.0
      },
      "source_page": 23,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": null,
  "marks": 3,
  "subparts": [],
  "source": {
    "page_number": 23,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q7.json">
{
  "id": "c6f03ce2-ada0-475d-a980-d5ed852067be",
  "question_number": "7",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "There are some paper clips in a box. $\\frac{4}{5}$ of them are blue. $\\frac{3}{4}$ of the remaining paper clips are red and the rest are yellow. There are 48 red paper clips. How many paper clips are there in the box?",
    "text_latex": "There are some paper clips in a box. $\\frac{4}{5}$ of them are blue. $\\frac{3}{4}$ of the remaining paper clips are red and the rest are yellow. There are 48 red paper clips. How many paper clips are there in the box?",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": 3,
  "subparts": [],
  "source": {
    "page_number": 24,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q8.json">
{
  "id": "d04cf555-f70b-4bd7-8374-6eaee9ace580",
  "question_number": "8",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "There was a total of 185 mugs and cups in a shop. There were 4 times as many mugs as cups. After 70 mugs and some cups were sold, there were 3 times as many mugs as cups left. How many cups were left?",
    "text_latex": "There was a total of 185 mugs and cups in a shop. There were 4 times as many mugs as cups. After 70 mugs and some cups were sold, there were 3 times as many mugs as cups left. How many cups were left?",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": 3,
  "subparts": [],
  "source": {
    "page_number": 25,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/q9.json">
{
  "id": "c0bbb0be-b7d2-4613-a5f6-4407eeb2c883",
  "question_number": "9",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The figure below is made up of square ABDE and triangle CDE. The area of square ABDE is $64 \\text{ cm}^2$ and the height of triangle CDE is $20 \\text{ cm}$. Find the area of the shaded triangle CBD. [Diagram: A geometric figure is shown, composed of a square ABDE and a triangle CDE. The square has vertices A, B, D, E. Point C is positioned such that triangle CDE is formed. A dashed line indicates the height of triangle CDE from vertex C to the base line containing DE, and this height is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the figure.]",
    "text_latex": "The figure below is made up of square ABDE and triangle CDE. The area of square ABDE is $64 \\text{ cm}^2$ and the height of triangle CDE is $20 \\text{ cm}$. Find the area of the shaded triangle CBD.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [
    {
      "id": "1e21c1bb",
      "type": "DIAGRAM",
      "alt_text": "A geometric figure composed of a square ABDE and a triangle CDE. The square ABDE has vertices A, B, D, E. Point C is located above and to the right of D, forming triangle CDE. A dashed line extends from C perpendicularly down to the line containing DE, indicating the height of triangle CDE, which is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the larger figure.",
      "description": "A geometric figure composed of a square ABDE and a triangle CDE. The square ABDE has vertices A, B, D, E. Point C is located above and to the right of D, forming triangle CDE. A dashed line extends from C perpendicularly down to the line containing DE, indicating the height of triangle CDE, which is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the larger figure.",
      "bounding_box": {
        "x1": 24.0,
        "y1": 28.0,
        "x2": 55.0,
        "y2": 42.0
      },
      "source_page": 26,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": null,
  "marks": 3,
  "subparts": [],
  "source": {
    "page_number": 26,
    "bounding_box": null
  },
  "extraction_confidence": 0.98
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ1.json">
{
  "id": "5f6db550-2734-4f41-870f-12db6697fcd1",
  "question_number": "Q1",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "7500 ml  6 = 1250 ml = 1.25 ",
    "text_latex": "$7500 \\text{ ml} \\div 6 = 1250 \\text{ ml} = 1.25 \\ell$",
    "text_html": null,
    "segments": []
  },
  "response_type": "TRUE_FALSE",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 35,
    "bounding_box": null
  },
  "extraction_confidence": 0.6
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ10a.json">
{
  "id": "06ea7d48-ebcc-4346-937a-1502da376e7c",
  "question_number": "Q10a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Identify the period 'May to June'.",
    "text_latex": "Identify the period 'May to June'.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.7
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ10b.json">
{
  "id": "623154c4-ec6d-4143-a5c0-5cf206a8655e",
  "question_number": "Q10b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the total visitors and total sales based on the given data: Total visitors = $300 + 600 + 760 + 700 = 2360$. Total sales = $2360 \\times \\$6.50 = \\$15340$.",
    "text_latex": "Calculate the total visitors and total sales based on the given data: Total visitors = $300 + 600 + 760 + 700 = 2360$. Total sales = $2360 \\times \\$6.50 = \\$15340$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ11a.json">
{
  "id": "4016706f-c32e-476f-a8d5-1f5a611ad119",
  "question_number": "Q11a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Solve for the values of 1 unit and 3 units, given that 10 units equals 1050. The provided solution shows: $10u = 1050$, $1u = 105$, $3u = 315$.",
    "text_latex": "Solve for the values of $10u$ and $3u$, given that $10u = 1050$. The provided solution shows: $10u = 1050$, $1u = 105$, $3u = 315$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ11b.json">
{
  "id": "55a78c1b-ab03-4929-a74d-46f66e960d39",
  "question_number": "Q11b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the number of women who did not finish the race, the number of men who did not finish the race, and the number of men who finished the race, based on the following steps: No. of women who did not finish race = $0.2 \\times 315 = 63$. No. of men who did not finish race = $230 - 63 = 167$. No. of men who finished race = $(1050 - 315) - 167 = 568$.",
    "text_latex": "Calculate the number of women who did not finish the race, the number of men who did not finish the race, and the number of men who finished the race, based on the following steps: No. of women who did not finish race = $0.2 \\times 315 = 63$. No. of men who did not finish race = $230 - 63 = 167$. No. of men who finished race = $(1050 - 315) - 167 = 568$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ12a.json">
{
  "id": "0210368b-55b0-4695-90cf-8a82c147bc04",
  "question_number": "Q12a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The question text is missing. A table is provided showing 'Multiples of 14' with corresponding 'Paperclips' values (84, 88; 98, 102; 112, 116; 126, 130; 140, 144; 154, 158; 168, 172) and 'Multiples of 20' with corresponding 'Paperclips' values (120, 52; 140, 72; 160, 92; 180, 112; 200, 132; 220, 152; 240, 172).",
    "text_latex": "The question text is missing. A table is provided showing 'Multiples of 14' with corresponding 'Paperclips' values (84, 88; 98, 102; 112, 116; 126, 130; 140, 144; 154, 158; 168, 172) and 'Multiples of 20' with corresponding 'Paperclips' values (120, 52; 140, 72; 160, 92; 180, 112; 200, 132; 220, 152; 240, 172).",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.5
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ12b.json">
{
  "id": "215e10b8-5cbd-4925-9fed-438fb184ecd7",
  "question_number": "Q12b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "State the value: 172.",
    "text_latex": "State the value: 172.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.6
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ13a.json">
{
  "id": "b54f9d57-1ed7-4d23-b837-4dd6d72f7102",
  "question_number": "Q13a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Given Alex has 6u, Ben has 3u, and Charles has 1u. What fraction does Charles have? The fraction Charles has is $\\frac{1}{10}$.",
    "text_latex": "Given Alex has $6u$, Ben has $3u$, and Charles has $1u$. What fraction does Charles have? The fraction Charles has is $\\frac{1}{10}$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.7
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ13b.json">
{
  "id": "2486edd7-d0f2-4f41-927c-453191a551ce",
  "question_number": "Q13b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Solve the following sequence of equations: $6u - 1u = 120$, $5u = 120$, $1u = 24$, $10u = 240$.",
    "text_latex": "Solve the following sequence of equations: $6u - 1u = 120$, $5u = 120$, $1u = 24$, $10u = 240$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ14.json">
{
  "id": "bb2f3a51-8ff6-4266-a8f3-01a219c0a8f3",
  "question_number": "Q14",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Analyze the following problem and its solution regarding grouping method for sandwiches and pies: Group 1 sandwich and 1 pie together. Cost of pie = $4 - $1.80 = $2.20. Cost of 1 group = $4 + $2.20 = $6.20. Number of groups = $279 \\div $6.20 = 45. Total paid for pies = 45 x $2.20 = $99.",
    "text_latex": "Analyze the following problem and its solution regarding grouping method for sandwiches and pies: Group 1 sandwich and 1 pie together. Cost of pie = $4 - $1.80 = $2.20. Cost of 1 group = $4 + $2.20 = $6.20. No. of groups = $279 \\div $6.20 = 45. Total paid for pies = 45 \\times $2.20 = $99.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ15a.json">
{
  "id": "9fd493b2-0763-42fe-a5e3-e3e8ed67b327",
  "question_number": "Q15a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the volume of container A and container B, and the amount of water left, given: Vol. of container A = 30 x 15 x 16 = 7200 ml. Vol. of container B = 10 x 10 x 10 = 1000 ml. Amount of water left = 7200 - 1000 = 6200 ml.",
    "text_latex": "Calculate the volume of container A and container B, and the amount of water left, given: Vol. of container A = $30 \\times 15 \\times 16 = 7200$ ml. Vol. of container B = $10 \\times 10 \\times 10 = 1000$ ml. Amt. of water left = $7200 - 1000 = 6200$ ml.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ15b.json">
{
  "id": "1b56995c-cb41-46e1-af97-22f4e50616ce",
  "question_number": "Q15b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the amount of water used and convert it to liters, given: Water used = 6200 - 5150 = 1050 ml = 1.05 $\\ell$.",
    "text_latex": "Calculate the amount of water used and convert it to liters, given: Water used = $6200 - 5150 = 1050$ ml = $1.05 \\ell$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ16a.json">
{
  "id": "005e638f-2a60-4ef7-8a85-128071f4cea3",
  "question_number": "Q16a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the average of 35 and 55: Average = (35 + 55) $\\div$ 2 = 45.",
    "text_latex": "Calculate the average of 35 and 55: Average = $(35 + 55) \\div 2 = 45$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ16b.json">
{
  "id": "158123b6-8831-42dc-be2c-8176749657b8",
  "question_number": "Q16b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the total sum of 35, 55, 65, and 75: Total = 35 + 55 + 65 + 75 = 230.",
    "text_latex": "Calculate the total sum of 35, 55, 65, and 75: Total = $35 + 55 + 65 + 75 = 230$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ16c.json">
{
  "id": "795fa377-d80e-41b2-aa2c-c19486f8a552",
  "question_number": "Q16c",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The question text is missing. A bar chart is provided with a y-axis ranging from 0 to 80, marked at 20, 40, 60, 80. There are five bars. The first four bars have heights approximately 35, 55, 65, and 75 units respectively. The fifth bar is partially obscured and patterned, appearing to be around 45-50 units high.",
    "text_latex": "The question text is missing. A bar chart is provided with a y-axis ranging from 0 to 80, marked at 20, 40, 60, 80. There are five bars. The first four bars have heights approximately 35, 55, 65, and 75 units respectively. The fifth bar is partially obscured and patterned, appearing to be around 45-50 units high.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.5
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ17a.json">
{
  "id": "412d146c-ea21-4856-9fd8-2967823262ad",
  "question_number": "Q17a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "State the value: 19.",
    "text_latex": "State the value: 19.",
    "text_html": null,
    "segments": []
  },
  "response_type": "SHORT_ANSWER",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.6
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ17b.json">
{
  "id": "487e7b1d-6dff-4c28-9e2b-e223620a476a",
  "question_number": "Q17b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Perform the following sequence of calculations: $12 - 1 = 11$, $11 \\times 2 = 22$, $22 + 1 = 23$.",
    "text_latex": "Perform the following sequence of calculations: $12 - 1 = 11$, $11 \\times 2 = 22$, $22 + 1 = 23$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ17c.json">
{
  "id": "9c547837-d88d-4ecc-a14c-01667df8b893",
  "question_number": "Q17c",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Perform the following sequence of calculations: $295 - 3 = 292$, $292 \\div 4 = 73$, $73 + 1 = 74$.",
    "text_latex": "Perform the following sequence of calculations: $295 - 3 = 292$, $292 \\div 4 = 73$, $73 + 1 = 74$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 37,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ3a.json">
{
  "id": "8b47edd6-538c-4cc0-88d1-552bf634d31e",
  "question_number": "Q3a",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "The value given for Q3a is 13 cm.",
    "text_latex": "The value given for Q3a is $13$ cm$^3$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.6
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ3b.json">
{
  "id": "37451c35-562b-4c8c-a692-625c254999dc",
  "question_number": "Q3b",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Determine the volume of the shaded shape shown on the grid, where each cube represents 1 cm. [Diagram: A 3D shaded shape is shown on a grid of squares. The shape appears to be made of 13 unit cubes, forming an irregular L-shape or similar structure. Each square on the grid represents a unit cube.]",
    "text_latex": "Determine the volume of the shaded shape shown on the grid, where each cube represents $1$ cm$^3$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ4.json">
{
  "id": "790464c7-2800-476d-b8ef-cb7cf13e89ed",
  "question_number": "Q4",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Perform the following calculation: $0.38 + 1.15 = 1.53$.",
    "text_latex": "Perform the following calculation: $0.38 + 1.15 = 1.53$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ5.json">
{
  "id": "5974c44b-6a19-4c52-aa11-9a063ccfbf0e",
  "question_number": "Q5",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A problem involves a total of 15 units, where 8 units were spent, leaving 7 units. Given that 7 units equals $168, calculate the value of 1 unit and 3 units. The provided solution shows: $7u = \\$168$, $1u = \\$24$, $3u = \\$72$.",
    "text_latex": "A problem involves a total of $15u$, where $8u$ were spent, leaving $7u$. Given that $7u = \\$168$, calculate the value of $1u$ and $3u$. The provided solution shows: $7u = \\$168$, $1u = \\$24$, $3u = \\$72$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ6.json">
{
  "id": "dd176d20-410c-4489-8b45-20ef89522718",
  "question_number": "Q6",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the angles $\\angle CED$ and $\\angle CDE$ based on the given operations: $\\angle CED = 97^\\circ - 56^\\circ = 41^\\circ$ and $\\angle CDE = 180^\\circ - 41^\\circ - 90^\\circ = 49^\\circ$.",
    "text_latex": "Calculate the angles $\\angle CED$ and $\\angle CDE$ based on the given operations: $\\angle CED = 97^\\circ - 56^\\circ = 41^\\circ$ and $\\angle CDE = 180^\\circ - 41^\\circ - 90^\\circ = 49^\\circ$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ7.json">
{
  "id": "5ee6f497-b5e1-4ef1-a431-e68ebfedf9cd",
  "question_number": "Q7",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Perform the following sequence of calculations: $48 \\div 3 = 16$, then $16 \\times 4 = 64$, then $64 \\times 5 = 320$.",
    "text_latex": "Perform the following sequence of calculations: $48 \\div 3 = 16$, then $16 \\times 4 = 64$, then $64 \\times 5 = 320$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ8.json">
{
  "id": "2243f497-bb16-43f8-95e9-296023eacbf3",
  "question_number": "Q8",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Perform the following sequence of calculations: $185 \\div 5 = 37$, then $37 \\times 4 = 148$, then $148 - 70 = 78$, then $78 \\div 3 = 26$.",
    "text_latex": "Perform the following sequence of calculations: $185 \\div 5 = 37$, then $37 \\times 4 = 148$, then $148 - 70 = 78$, then $78 \\div 3 = 26$.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.9
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary/qQ9.json">
{
  "id": "39b0f4f7-7675-49c6-94e0-9db6aeefac43",
  "question_number": "Q9",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "Calculate the area of a shaded triangle based on the following steps: $\\sqrt{64} = 8$ cm. Area of $\\triangle CED = \\frac{1}{2} \\times 8 \\times 20 = 80$ cm$^2$. Area of $\\triangle BED = 32$ cm$^2$. Shaded $\\triangle = 80 - 32 = 48$ cm$^2$. (A diagram showing triangles CED and BED is implied but not provided on this page).",
    "text_latex": "Calculate the area of a shaded triangle based on the following steps: $\\sqrt{64} = 8$ cm. Area of $\\triangle CED = \\frac{1}{2} \\times 8 \\times 20 = 80$ cm$^2$. Area of $\\triangle BED = 32$ cm$^2$. Shaded $\\triangle = 80 - 32 = 48$ cm$^2$. (A diagram showing triangles CED and BED is implied but not provided on this page).",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "diagrams": [],
  "answer_key": null,
  "marks": null,
  "subparts": [],
  "source": {
    "page_number": 36,
    "bounding_box": null
  },
  "extraction_confidence": 0.8
}
</file>

<file path="output/questions/P5_Maths_2023_SA2_acsprimary_extracted.json">
{
  "metadata": {
    "id": "5f395a84-2907-4c12-a1ae-ec4e687917eb",
    "source_file": "P5_Maths_2023_SA2_acsprimary.pdf",
    "subject": "MATHEMATICS",
    "grade_level": "P5",
    "exam_type": "SA2",
    "school": "acsprimary",
    "year": 2023,
    "total_marks": null,
    "duration_minutes": null,
    "extracted_at": "2025-12-13T18:37:14.955795",
    "extraction_confidence": 0.0
  },
  "questions": [
    {
      "id": "9d522cf5-9a58-42f0-b2e1-2edc7317cced",
      "question_number": "1",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Which one of the following is sixty-three thousand and forty in numerals?",
        "text_latex": "Which one of the following is sixty-three thousand and forty in numerals?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "6340",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "63 040",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "63 400",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "630 040",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 2,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "7a9c48b1-18d8-496b-8a08-d6b34bb78806",
      "question_number": "2",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The figure below is made up of 20 identical small rectangles. What percentage of the figure is shaded? [Diagram: A grid of 20 identical small rectangles arranged in 4 rows and 5 columns. Four of these rectangles are shaded black: three in the first row (columns 1, 2, 3) and one in the second row (column 1).]",
        "text_latex": "The figure below is made up of 20 identical small rectangles. What percentage of the figure is shaded?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "35%",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "20%",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "3%",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "7%",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [
        {
          "id": "046203e9",
          "type": "DIAGRAM",
          "alt_text": "A grid composed of 20 identical small rectangles, arranged in 4 rows and 5 columns. The rectangles in the first row, columns 1, 2, and 3 are shaded black. The rectangle in the second row, column 1 is also shaded black. The remaining 16 rectangles are unshaded.",
          "description": "A grid composed of 20 identical small rectangles, arranged in 4 rows and 5 columns. The rectangles in the first row, columns 1, 2, and 3 are shaded black. The rectangle in the second row, column 1 is also shaded black. The remaining 16 rectangles are unshaded.",
          "bounding_box": {
            "x1": 27.0,
            "y1": 47.0,
            "x2": 50.0,
            "y2": 57.0
          },
          "source_page": 2,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 2,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "08bb92b1-0a2e-421b-968b-f16295542ccc",
      "question_number": "3",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Which of the following is equal to $4 \\frac{5}{7}$?",
        "text_latex": "Which of the following is equal to $4 \\frac{5}{7}$?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$\\frac{20}{7}$",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "$\\frac{27}{7}$",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "$\\frac{33}{7}$",
            "is_correct": true
          },
          {
            "label": "4",
            "text": "$\\frac{45}{7}$",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 3,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "7591b2ce-c48d-4574-b61d-500b3766fdfc",
      "question_number": "4",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Given that AD is the base of triangle ABD. Identify the height that is related to the base AD. [Diagram: A triangle ABD is shown. A point C is on the side BD. A line segment AC is drawn from vertex A to C, forming a right angle with BD at C. A point E is on the side AD. A dashed line segment BE is drawn from vertex B to E, forming a right angle with AD at E. The vertices are labeled A, B, D, and the points on the sides are C and E.]",
        "text_latex": "Given that AD is the base of triangle ABD. Identify the height that is related to the base AD.",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "AB",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "AC",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "BD",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "BE",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 3,
        "bounding_box": null
      },
      "extraction_confidence": 0.97
    },
    {
      "id": "e3708ebe-95fb-4510-b0a9-821473ca42c6",
      "question_number": "5",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "What is the value of the digit 5 in 50 146?",
        "text_latex": "What is the value of the digit 5 in 50 146?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "50",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "500",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "5000",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "50 000",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 4,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "6479c08f-dca3-41e9-9e63-93683433316b",
      "question_number": "6",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Mrs Tan bought 4 kg of vegetables. She cooked $\\frac{5}{8}$ of them. How many kilograms of vegetables did she have left?",
        "text_latex": "Mrs Tan bought 4 kg of vegetables. She cooked $\\frac{5}{8}$ of them. How many kilograms of vegetables did she have left?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$1\\frac{1}{2}$ kg",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "$2\\frac{1}{2}$ kg",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "$3\\frac{5}{8}$ kg",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "$\\frac{3}{8}$ kg",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 4,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c6aa495f-c35e-4635-af69-ab215a454645",
      "question_number": "7",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Which of the following numbers is the smallest?",
        "text_latex": "Which of the following numbers is the smallest?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "0.13",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "0.31",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "0.103",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "0.301",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 4,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "64ac1abf-0b58-46ed-8d5e-1d9e6e5d579c",
      "question_number": "8",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, AE, BF and CG are straight lines. Which two angles are equal? [Diagram: A geometric figure showing three straight lines AE, BF, and CG intersecting at a central point. Angles formed by these intersections are labeled 'a', 'b', 'c', and 'd'. Angle 'a' is formed by lines CG and AE in the bottom-left quadrant. Angle 'b' is formed by lines AE and BF in the top-left quadrant. Angle 'c' is formed by lines BF and CG in the top-right quadrant. Angle 'd' is formed by lines CG and AE in the bottom-right quadrant. The lines extend outwards and are labeled with points A, B, C, D, E, F, G.]",
        "text_latex": "In the figure below, AE, BF and CG are straight lines. Which two angles are equal?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$\\angle a$ and $\\angle c$",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "$\\angle a$ and $\\angle d$",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "$\\angle b$ and $\\angle c$",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "$\\angle b$ and $\\angle d$",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [
        {
          "id": "b63b5fa8",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing three straight lines AE, BF, and CG intersecting at a central point. Angles formed by these intersections are labeled 'a', 'b', 'c', and 'd'. Angle 'a' is formed by lines CG and AE in the bottom-left quadrant. Angle 'b' is formed by lines AE and BF in the top-left quadrant. Angle 'c' is formed by lines BF and CG in the top-right quadrant. Angle 'd' is formed by lines CG and AE in the bottom-right quadrant. The lines extend outwards and are labeled with points A, B, C, D, E, F, G.",
          "description": "A geometric figure showing three straight lines AE, BF, and CG intersecting at a central point. Angles formed by these intersections are labeled 'a', 'b', 'c', and 'd'. Angle 'a' is formed by lines CG and AE in the bottom-left quadrant. Angle 'b' is formed by lines AE and BF in the top-left quadrant. Angle 'c' is formed by lines BF and CG in the top-right quadrant. Angle 'd' is formed by lines CG and AE in the bottom-right quadrant. The lines extend outwards and are labeled with points A, B, C, D, E, F, G.",
          "bounding_box": {
            "x1": 27.9,
            "y1": 16.9,
            "x2": 53.0,
            "y2": 33.0
          },
          "source_page": 5,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        },
        {
          "id": "fa68cab2",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing angles around a central point where several lines intersect. A vertical line and a horizontal line form a right angle (90 degrees) in the top-right quadrant, indicated by a square symbol. Other angles are labeled: 100 degrees in the top-left quadrant, angle 'a' in the bottom-left quadrant, 60 degrees adjacent to angle 'a' in the bottom-left quadrant, and 85 degrees in the bottom-right quadrant.",
          "description": "A geometric figure showing angles around a central point where several lines intersect. A vertical line and a horizontal line form a right angle (90 degrees) in the top-right quadrant, indicated by a square symbol. Other angles are labeled: 100 degrees in the top-left quadrant, angle 'a' in the bottom-left quadrant, 60 degrees adjacent to angle 'a' in the bottom-left quadrant, and 85 degrees in the bottom-right quadrant.",
          "bounding_box": {
            "x1": 32.9,
            "y1": 52.9,
            "x2": 56.8,
            "y2": 68.9
          },
          "source_page": 5,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 5,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c8c46cd9-2d1b-4f07-b1fd-a8850d4f0e8b",
      "question_number": "9",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Find $\\angle a$ in the figure shown below. [Diagram: A geometric figure showing angles around a central point where several lines intersect. A vertical line and a horizontal line form a right angle (90 degrees) in the top-right quadrant, indicated by a square symbol. Other angles are labeled: 100 degrees in the top-left quadrant, angle 'a' in the bottom-left quadrant, 60 degrees adjacent to angle 'a' in the bottom-left quadrant, and 85 degrees in the bottom-right quadrant.]",
        "text_latex": "Find $\\angle a$ in the figure shown below.",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$20^{\\circ}$",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "$25^{\\circ}$",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "$30^{\\circ}$",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "$35^{\\circ}$",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [
        {
          "id": "b63b5fa8",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing three straight lines AE, BF, and CG intersecting at a central point. Angles formed by these intersections are labeled 'a', 'b', 'c', and 'd'. Angle 'a' is formed by lines CG and AE in the bottom-left quadrant. Angle 'b' is formed by lines AE and BF in the top-left quadrant. Angle 'c' is formed by lines BF and CG in the top-right quadrant. Angle 'd' is formed by lines CG and AE in the bottom-right quadrant. The lines extend outwards and are labeled with points A, B, C, D, E, F, G.",
          "description": "A geometric figure showing three straight lines AE, BF, and CG intersecting at a central point. Angles formed by these intersections are labeled 'a', 'b', 'c', and 'd'. Angle 'a' is formed by lines CG and AE in the bottom-left quadrant. Angle 'b' is formed by lines AE and BF in the top-left quadrant. Angle 'c' is formed by lines BF and CG in the top-right quadrant. Angle 'd' is formed by lines CG and AE in the bottom-right quadrant. The lines extend outwards and are labeled with points A, B, C, D, E, F, G.",
          "bounding_box": {
            "x1": 27.9,
            "y1": 16.9,
            "x2": 53.0,
            "y2": 33.0
          },
          "source_page": 5,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        },
        {
          "id": "fa68cab2",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing angles around a central point where several lines intersect. A vertical line and a horizontal line form a right angle (90 degrees) in the top-right quadrant, indicated by a square symbol. Other angles are labeled: 100 degrees in the top-left quadrant, angle 'a' in the bottom-left quadrant, 60 degrees adjacent to angle 'a' in the bottom-left quadrant, and 85 degrees in the bottom-right quadrant.",
          "description": "A geometric figure showing angles around a central point where several lines intersect. A vertical line and a horizontal line form a right angle (90 degrees) in the top-right quadrant, indicated by a square symbol. Other angles are labeled: 100 degrees in the top-left quadrant, angle 'a' in the bottom-left quadrant, 60 degrees adjacent to angle 'a' in the bottom-left quadrant, and 85 degrees in the bottom-right quadrant.",
          "bounding_box": {
            "x1": 32.9,
            "y1": 52.9,
            "x2": 56.8,
            "y2": 68.9
          },
          "source_page": 5,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 5,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "32cc5f6d-638a-4036-a9ee-8670e339ccd2",
      "question_number": "10",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Tina drew a boat using circles, triangles and rectangles. What is the ratio of the number of circles to the total number of triangles and rectangles? Give your answer in its simplest form. [Diagram: A line drawing of a boat composed of geometric shapes. The hull is a large trapezoid. There are three circles representing windows on the hull. A mast, represented by a vertical line, supports a large triangular sail and a small triangular flag at its peak. A small rectangular base is at the bottom of the mast. Towards the stern, there is a cabin structure made of three stacked rectangles of decreasing size from bottom to top.]",
        "text_latex": "Tina drew a boat using circles, triangles and rectangles. What is the ratio of the number of circles to the total number of triangles and rectangles? Give your answer in its simplest form.",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "1 : 1",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "2 : 3",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "2 : 5",
            "is_correct": true
          },
          {
            "label": "4",
            "text": "5 : 2",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 6,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "1e6cdd2f-7231-4d26-8e33-3d7fc45430fd",
      "question_number": "11",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A solid cuboid height 10 cm has a square base of side 2 cm. What is its volume? [Diagram: A 3D isometric drawing of a cuboid. Its height is labeled as '10 cm' along one vertical edge. The side length of its square base is labeled as '2 cm' along one edge of the base.]",
        "text_latex": "A solid cuboid height $10 \\text{ cm}$ has a square base of side $2 \\text{ cm}$. What is its volume?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$20 \\text{ cm}^3$",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "$40 \\text{ cm}^3$",
            "is_correct": true
          },
          {
            "label": "3",
            "text": "$120 \\text{ cm}^3$",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "$200 \\text{ cm}^3$",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 6,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "a19ceef1-67cd-4161-9e6f-a35046b5cb8f",
      "question_number": "12",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The table shows the prices for a farm tour. A group went for the farm tour and paid $160. How many tickets did the group buy? [Diagram: A table titled 'Prices for a farm tour' with two columns: 'Quantity' and 'Price'. The first row indicates 'First 10 tickets' cost '$8 each'. The second row indicates 'Every additional ticket' costs '$5'.]",
        "text_latex": "The table shows the prices for a farm tour. A group went for the farm tour and paid $160. How many tickets did the group buy?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "16",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "20",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "26",
            "is_correct": true
          },
          {
            "label": "4",
            "text": "32",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 7,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "8706d88e-ce01-46bf-9eb8-0e3a804c00f0",
      "question_number": "13",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, ACD and BCE are straight lines. Find $\\angle CDE$. [Diagram: A geometric figure showing two intersecting straight lines, ACD and BCE, which intersect at point C. There are two triangles formed: $\\triangle ABC$ and $\\triangle CDE$. In $\\triangle ABC$, angle B is $35^\\circ$ and angle BAC is indicated as a right angle ($90^\\circ$). In $\\triangle CDE$, angle CED is $64^\\circ$. The vertices are labeled A, B, C, D, E.]",
        "text_latex": "In the figure below, ACD and BCE are straight lines. Find $\\angle CDE$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "$61^\\circ$",
            "is_correct": true
          },
          {
            "label": "2",
            "text": "$55^\\circ$",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "$29^\\circ$",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "$26^\\circ$",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [
        {
          "id": "e702ad90",
          "type": "TABLE",
          "alt_text": "A table titled 'Prices for a farm tour' with two columns: 'Quantity' and 'Price'. The first row under the header specifies 'First 10 tickets' with a price of '$8 each'. The second row specifies 'Every additional ticket' with a price of '$5'.",
          "description": "A table titled 'Prices for a farm tour' with two columns: 'Quantity' and 'Price'. The first row under the header specifies 'First 10 tickets' with a price of '$8 each'. The second row specifies 'Every additional ticket' with a price of '$5'.",
          "bounding_box": {
            "x1": 24.0,
            "y1": 13.0,
            "x2": 69.0,
            "y2": 20.0
          },
          "source_page": 7,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        },
        {
          "id": "38cd35e0",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing two intersecting straight lines, ACD and BCE, which intersect at point C. There are two triangles formed: $\\triangle ABC$ and $\\triangle CDE$. In $\\triangle ABC$, angle B is $35^\\circ$ and angle BAC is indicated as a right angle ($90^\\circ$). In $\\triangle CDE$, angle CED is $64^\\circ$. The vertices are labeled A, B, C, D, E.",
          "description": "A geometric figure showing two intersecting straight lines, ACD and BCE, which intersect at point C. There are two triangles formed: $\\triangle ABC$ and $\\triangle CDE$. In $\\triangle ABC$, angle B is $35^\\circ$ and angle BAC is indicated as a right angle ($90^\\circ$). In $\\triangle CDE$, angle CED is $64^\\circ$. The vertices are labeled A, B, C, D, E.",
          "bounding_box": {
            "x1": 27.0,
            "y1": 45.0,
            "x2": 59.0,
            "y2": 60.0
          },
          "source_page": 7,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 7,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "87364a5d-1c46-4f5e-b247-b621de74ea83",
      "question_number": "14",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Minyi received $300 as a prize. He gave $60 to his father. What percentage of the prize money did Minyi give to his father?",
        "text_latex": "Minyi received \\$300 as a prize. He gave \\$60 to his father. What percentage of the prize money did Minyi give to his father?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "20%",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "40%",
            "is_correct": false
          },
          {
            "label": "3",
            "text": "60%",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "80%",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 8,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "59fddc7a-2e2e-4dbf-bbbb-080384f19897",
      "question_number": "15",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "John had 30 more stamps than Peter at first. Peter gave 18 of his stamps to John. John now has 3 times as many stamps as Peter. How many stamps did Peter have at first?",
        "text_latex": "John had 30 more stamps than Peter at first. Peter gave 18 of his stamps to John. John now has 3 times as many stamps as Peter. How many stamps did Peter have at first?",
        "text_html": null,
        "segments": []
      },
      "response_type": "MULTIPLE_CHOICE",
      "response_config": {
        "options": [
          {
            "label": "1",
            "text": "42",
            "is_correct": false
          },
          {
            "label": "2",
            "text": "51",
            "is_correct": true
          },
          {
            "label": "3",
            "text": "72",
            "is_correct": false
          },
          {
            "label": "4",
            "text": "81",
            "is_correct": false
          }
        ],
        "blanks": [],
        "word_limit": null,
        "show_working": false,
        "matching_pairs": []
      },
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 8,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "7b20a34a-7493-4692-b013-4bbf61031307",
      "question_number": "16",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Find the largest multiple of 7 that is smaller than 60.",
        "text_latex": "Find the largest multiple of 7 that is smaller than 60.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "56",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 10,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c6e143cd-0f87-456e-8cc9-f42577034c57",
      "question_number": "17",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Round 33.652 to the nearest tenth.",
        "text_latex": "Round 33.652 to the nearest tenth.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "33.7",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 10,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "444f600d-cdb1-44c0-9bf8-be5640c286e4",
      "question_number": "18",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Find the value of $\\frac{2}{9} \\times \\frac{3}{5}$. Give your answer in its simplest form.",
        "text_latex": "Find the value of $\\frac{2}{9} \\times \\frac{3}{5}$. Give your answer in its simplest form.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "$\\frac{2}{15}$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 1,
      "subparts": [],
      "source": {
        "page_number": 10,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "f7010b58-ea27-4b35-87d6-a7f86777da67",
      "question_number": "19",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A baker sells 65 slices of cakes per day. How many slices of cakes will the baker sell in a week?",
        "text_latex": "A baker sells 65 slices of cakes per day. How many slices of cakes will the baker sell in a week?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "455",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 11,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "589fe7dd-2edf-4cbf-85e0-b658a7363b87",
      "question_number": "20",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "What is the value of $20 + (24 - 6) \\div 6 \\times 3$.",
        "text_latex": "What is the value of $20 + (24 - 6) \\div 6 \\times 3$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "29",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 11,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c738236b-f5fa-447c-94d2-86796dcd9012",
      "question_number": "21",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A machine takes 3 minutes to print 7 posters. At the same rate, how long will it take to print 42 posters?",
        "text_latex": "A machine takes 3 minutes to print 7 posters. At the same rate, how long will it take to print 42 posters?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "18 min",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 12,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "85aa40b2-9901-4bb2-9139-39cdd45d5d07",
      "question_number": "22",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A piece of string is cut into three pieces in the ratio $2 : 4 : 7$. The longest piece is 40 cm longer than the shortest piece. Find the original length of the piece of string.",
        "text_latex": "A piece of string is cut into three pieces in the ratio $2 : 4 : 7$. The longest piece is $40$ cm longer than the shortest piece. Find the original length of the piece of string.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "1.04 m",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 12,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "82ccd7fe-482a-425e-809a-5f182669bbc0",
      "question_number": "23",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A box can hold either 12 big cubes or 48 small cubes. Keane put 6 big cubes and 7 small cubes in the box. How many more small cubes can Keane put into the box?",
        "text_latex": "A box can hold either 12 big cubes or 48 small cubes. Keane put 6 big cubes and 7 small cubes in the box. How many more small cubes can Keane put into the box?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "17",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 13,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "85c66a83-a2b2-4065-9dc0-ed448a42f9b0",
      "question_number": "24",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, ACD is an isosceles triangle and BCD is a straight line. $\\angle ABC = 42^\\circ$ and $\\angle ADC = 70^\\circ$. Find $\\angle BAC$. [Diagram: A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.]",
        "text_latex": "In the figure below, ACD is an isosceles triangle and BCD is a straight line. $\\angle ABC = 42^\\circ$ and $\\angle ADC = 70^\\circ$. Find $\\angle BAC$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "7ca78079",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.",
          "description": "A geometric figure showing points A, B, C, D. Points B, C, D are collinear, forming a straight line. Triangle ACD is shown with AD and AC marked with single tick marks, indicating they are equal in length. Angle ADC is labeled $70^\\circ$. Angle ABC is labeled $42^\\circ$.",
          "bounding_box": {
            "x1": 22.0,
            "y1": 52.0,
            "x2": 62.0,
            "y2": 66.0
          },
          "source_page": 13,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "final_answer": "$28^{\\circ}$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 13,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "a7603872-b57e-4e1a-b01d-832caf15a4ff",
      "question_number": "25",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Carol has $215 more than Raju. Raju has $35 less than Joel. Carol has $148 more than the total amount of money Raju and Joel have. How much money does Raju have?",
        "text_latex": "Carol has $215 more than Raju. Raju has $35 less than Joel. Carol has $148 more than the total amount of money Raju and Joel have. How much money does Raju have?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "$32",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 14,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "ab7f28ed-9433-4625-87a5-a9fd3e1e223f",
      "question_number": "26",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The table below shows the number of pages of a book Anna read from Monday to Friday. Anna read an average of 8 pages from Monday to Friday. How many pages did she read on Friday? [Diagram: A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.]",
        "text_latex": "The table below shows the number of pages of a book Anna read from Monday to Friday. Anna read an average of 8 pages from Monday to Friday. How many pages did she read on Friday?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "24909aae",
          "type": "TABLE",
          "alt_text": "A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.",
          "description": "A table showing the number of pages read each day from Monday to Friday. The table has two rows and six columns. The first row contains headers: 'Day', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'. The second row contains 'Number of pages' in the first column, followed by the values: '6' for Mon, '5' for Tue, '8' for Wed, '7' for Thu, and '?' for Fri.",
          "bounding_box": {
            "x1": 21.5,
            "y1": 52.0,
            "x2": 80.0,
            "y2": 58.0
          },
          "source_page": 14,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "final_answer": "14",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 14,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "8875a6aa-95d1-4995-89ce-18b7f6d205da",
      "question_number": "27",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, ACDE is a parallelogram. $\\angle AEB = 36^\\circ$ and $\\angle CBE = 157^\\circ$. Find $\\angle BCD$. [Diagram: A geometric figure is shown. It is a parallelogram labeled ACDE. A line segment EB is drawn, where B is a point on the side AC. Angle AEB is marked as $36^\\circ$. Angle CBE is marked as $157^\\circ$. The vertices are labeled A, B, C, D, E.]",
        "text_latex": "In the figure below, ACDE is a parallelogram. $\\angle AEB = 36^\\circ$ and $\\angle CBE = 157^\\circ$. Find $\\angle BCD$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "38129def",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing a parallelogram ACDE. A line segment EB is drawn from vertex E to a point B on the side AC. Angle AEB is indicated as $36^\\circ$. Angle CBE is indicated as $157^\\circ$. The vertices are labeled A, B, C, D, E.",
          "description": "A geometric figure showing a parallelogram ACDE. A line segment EB is drawn from vertex E to a point B on the side AC. Angle AEB is indicated as $36^\\circ$. Angle CBE is indicated as $157^\\circ$. The vertices are labeled A, B, C, D, E.",
          "bounding_box": {
            "x1": 25.0,
            "y1": 17.0,
            "x2": 58.0,
            "y2": 29.0
          },
          "source_page": 15,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "final_answer": "$59^{\\circ}$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 15,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "480ca313-7b54-454d-8d7e-f2809fe4a257",
      "question_number": "28",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Annie, Ben and Caili shared some money. The ratio of Annie's money to Ben's money was $4 : 1$. Caili received $84 and she had $24 more than Annie. How much money did Ben receive?",
        "text_latex": "Annie, Ben and Caili shared some money. The ratio of Annie's money to Ben's money was $4 : 1$. Caili received $84 and she had $24 more than Annie. How much money did Ben receive?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": {
        "final_answer": "$15",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 15,
        "bounding_box": null
      },
      "extraction_confidence": 0.97
    },
    {
      "id": "7c42e8fc-0378-476b-b621-e1a42debca30",
      "question_number": "29",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, ABD is an equilateral triangle and ABCE is a trapezium. CDE is a straight line and $\\angle DAE = 49^\\circ$. Find $\\angle CBD$. [Diagram: A geometric figure is shown with points A, B, C, D, E. Triangle ABD is an equilateral triangle, indicated by tick marks on sides AB, BD, and AD. Quadrilateral ABCE is a trapezium, indicated by single arrows on sides AE and BC, suggesting AE is parallel to BC. Line segment CDE is a straight line. Angle DAE is labeled as $49^\\circ$.]",
        "text_latex": "In the figure below, ABD is an equilateral triangle and ABCE is a trapezium. CDE is a straight line and $\\angle DAE = 49^\\circ$. Find $\\angle CBD$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [
        {
          "id": "af8c1e7f",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure composed of a triangle ABD and a quadrilateral ABCE. Points are labeled A, B, C, D, E. Triangle ABD is marked with single tick marks on sides AB, BD, and AD, indicating it is an equilateral triangle. Quadrilateral ABCE has single arrows on sides AE and BC, indicating they are parallel, thus forming a trapezium. The line segment CDE is shown as a straight line. Angle DAE is explicitly labeled as $49^\\circ$.",
          "description": "A geometric figure composed of a triangle ABD and a quadrilateral ABCE. Points are labeled A, B, C, D, E. Triangle ABD is marked with single tick marks on sides AB, BD, and AD, indicating it is an equilateral triangle. Quadrilateral ABCE has single arrows on sides AE and BC, indicating they are parallel, thus forming a trapezium. The line segment CDE is shown as a straight line. Angle DAE is explicitly labeled as $49^\\circ$.",
          "bounding_box": {
            "x1": 22.0,
            "y1": 19.0,
            "x2": 44.0,
            "y2": 36.0
          },
          "source_page": 16,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "final_answer": "$11^{\\circ}$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 16,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "dea12821-3083-4683-8477-117f6019a205",
      "question_number": "30",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "A triangular piece of paper is folded at one corner to form 3 smaller identical triangles as shown below. Find the area of the triangular piece of paper before it was folded? [Diagram: A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.]",
        "text_latex": "A triangular piece of paper is folded at one corner to form 3 smaller identical triangles as shown below. Find the area of the triangular piece of paper before it was folded?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [
        {
          "id": "a0eecefb",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.",
          "description": "A geometric figure showing a large triangle, indicated by dashed lines for its upper part and solid lines for its base, representing the original piece of paper. This paper is folded such that its top corner is brought down to the midpoint of its base, forming three smaller identical triangles. The base of the central small triangle is labeled '10 cm'. The overall height of the original large triangle, from its base to its original apex (now folded down), is indicated as '6 cm'. The diagram shows the folded state with the outline of the original triangle clearly visible.",
          "bounding_box": {
            "x1": 23.0,
            "y1": 21.0,
            "x2": 80.0,
            "y2": 37.0
          },
          "source_page": 17,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "final_answer": "$240 \\text{ cm}^2$",
        "acceptable_answers": [],
        "worked_solution": [],
        "marking_rubric": [],
        "explanation": null
      },
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 17,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "41e6e8ef-0655-450c-9e02-7b5c554e724c",
      "question_number": "1",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "7500 ml of water was poured into 6 containers equally. How many litres of water were there in one container?",
        "text_latex": "7500 ml of water was poured into 6 containers equally. How many litres of water were there in one container?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 2,
      "subparts": [],
      "source": {
        "page_number": 20,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
      "question_number": "2",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "There are less than 40 apples in a box. Adam, Chloe and Eddy shared the box of apples in the ratio $3 : 1 : 5$. Each statement below is either true, false or not possible to tell from the information given. For each statement, put a tick ($\\checkmark$) to indicate your answer. [Diagram: A table with three columns labeled 'Statement', 'True', 'False', and 'Not possible to tell'. The table contains two rows for statements to be evaluated.]",
        "text_latex": "There are less than 40 apples in a box. Adam, Chloe and Eddy shared the box of apples in the ratio $3 : 1 : 5$. Each statement below is either true, false or not possible to tell from the information given. For each statement, put a tick ($\\checkmark$) to indicate your answer.",
        "text_html": null,
        "segments": []
      },
      "response_type": "TRUE_FALSE",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 2,
      "subparts": [
        {
          "id": "9a5cb036-1597-4322-b48e-32488f784814",
          "question_number": "2statement_1",
          "parent_question_id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
          "hierarchy_level": 1,
          "content": {
            "text": "There are 9 apples in the box.",
            "text_latex": null,
            "text_html": null,
            "segments": []
          },
          "response_type": "TRUE_FALSE",
          "response_config": null,
          "diagrams": [],
          "answer_key": null,
          "marks": null,
          "subparts": [],
          "source": {
            "page_number": 20,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "f842c602-2cf2-4ae0-817e-5c24be79849c",
          "question_number": "2statement_2",
          "parent_question_id": "4e2c7ea5-4d9b-4d44-8155-5075ad5d3a89",
          "hierarchy_level": 1,
          "content": {
            "text": "Adam received 10 more apples than Chloe.",
            "text_latex": null,
            "text_html": null,
            "segments": []
          },
          "response_type": "TRUE_FALSE",
          "response_config": null,
          "diagrams": [],
          "answer_key": null,
          "marks": null,
          "subparts": [],
          "source": {
            "page_number": 20,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 20,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
      "question_number": "3",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The solid below is made up of 1-cm cubes. [Diagram: An isometric drawing of a solid made of 1-cm cubes is shown. The solid appears to have a base of 3 cubes in length and 2 cubes in width, with varying heights. From the indicated 'Front View', the solid would appear to be 3 units wide and 3 units high at its tallest point. An arrow points to the front, labeled 'Front View'.]",
        "text_latex": "The solid below is made up of 1-cm cubes.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "a5b455eb-3c24-4233-b480-7ca1e62ba2b8",
          "question_number": "3a",
          "parent_question_id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
          "hierarchy_level": 1,
          "content": {
            "text": "What is the volume of the solid?",
            "text_latex": "What is the volume of the solid?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "13 cm",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": null,
          "subparts": [],
          "source": {
            "page_number": 21,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "8fa3d3c8-a25c-4589-a955-1a7605deeaa4",
          "question_number": "3b",
          "parent_question_id": "d5810de4-5f9b-4daa-8a05-42507fba847f",
          "hierarchy_level": 1,
          "content": {
            "text": "Draw the front view of the solid on the square grid below. [Diagram: A 6x4 grid of squares is provided below the question text for drawing the front view.]",
            "text_latex": "Draw the front view of the solid on the square grid below.",
            "text_html": null,
            "segments": []
          },
          "response_type": "DIAGRAM_LABEL",
          "response_config": null,
          "diagrams": [],
          "answer_key": null,
          "marks": null,
          "subparts": [],
          "source": {
            "page_number": 21,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 21,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "125c4de6-8b31-475e-8f65-bc5bf3bc3575",
      "question_number": "4",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The table shows the postage rates for sending mails in Singapore. Mr Cheng sent a small envelope with a mass of 30 g and a large envelope with a mass of 400 g. How much postage did Mr Cheng pay altogether? [Diagram: A table titled 'The table shows the postage rates for sending mails in Singapore.' with columns 'Mass step not over', 'Small envelope', and 'Large envelope'. Rows are for mass steps: 20 g, 40 g, 100 g, 250 g, 500 g. The corresponding rates are: for Small envelope: $0.31 (20g), $0.38 (40g). The cells for 100g, 250g, and 500g under 'Small envelope' are obscured. For Large envelope: $0.60 (20g), $0.60 (40g), $0.60 (100g), $0.90 (250g), $1.15 (500g).]",
        "text_latex": "The table shows the postage rates for sending mails in Singapore. Mr Cheng sent a small envelope with a mass of 30 g and a large envelope with a mass of 400 g. How much postage did Mr Cheng pay altogether?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 22,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "67dad736-5a71-4c1a-b227-e9ee8acfff4e",
      "question_number": "5",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Siti spent $\\frac{1}{3}$ of her money on a dress and $\\frac{1}{5}$ of her money on a handbag. She had $168 left. How much money did she spend on her handbag?",
        "text_latex": "Siti spent $\\frac{1}{3}$ of her money on a dress and $\\frac{1}{5}$ of her money on a handbag. She had $168 left. How much money did she spend on her handbag?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 22,
        "bounding_box": null
      },
      "extraction_confidence": 0.95
    },
    {
      "id": "3e5adbb4-2712-4429-9248-099f9bf3eb4c",
      "question_number": "6",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In the figure below, ABCE is a rhombus and CDE is a right-angled triangle. $\\angle ABC = 56^\\circ$ and $\\angle AED = 97^\\circ$. Find $\\angle CDE$. [Diagram: A geometric figure is shown, composed of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has all four sides (AB, BC, CE, EA) marked with a single tick, indicating equal length. Angle ABC is labeled as $56^\\circ$. Angle AED is labeled as $97^\\circ$. The triangle CDE is attached to side CE of the rhombus. Angle ECD is marked with a right-angle symbol, indicating $90^\\circ$. The vertices are labeled A, B, C, D, E.]",
        "text_latex": "In the figure below, ABCE is a rhombus and CDE is a right-angled triangle. $\\angle ABC = 56^\\circ$ and $\\angle AED = 97^\\circ$. Find $\\angle CDE$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "6d44809f",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure consisting of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has sides AB, BC, CE, and EA marked with single tick marks, indicating they are equal in length. Angle ABC is labeled as 56 degrees. Angle AED is labeled as 97 degrees. The triangle CDE shares side CE with the rhombus. Angle ECD is marked with a right-angle symbol (90 degrees). The vertices are labeled A, B, C, D, E.",
          "description": "A geometric figure consisting of a rhombus ABCE and a right-angled triangle CDE. The rhombus ABCE has sides AB, BC, CE, and EA marked with single tick marks, indicating they are equal in length. Angle ABC is labeled as 56 degrees. Angle AED is labeled as 97 degrees. The triangle CDE shares side CE with the rhombus. Angle ECD is marked with a right-angle symbol (90 degrees). The vertices are labeled A, B, C, D, E.",
          "bounding_box": {
            "x1": 23.0,
            "y1": 25.0,
            "x2": 54.0,
            "y2": 47.0
          },
          "source_page": 23,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 23,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c6f03ce2-ada0-475d-a980-d5ed852067be",
      "question_number": "7",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "There are some paper clips in a box. $\\frac{4}{5}$ of them are blue. $\\frac{3}{4}$ of the remaining paper clips are red and the rest are yellow. There are 48 red paper clips. How many paper clips are there in the box?",
        "text_latex": "There are some paper clips in a box. $\\frac{4}{5}$ of them are blue. $\\frac{3}{4}$ of the remaining paper clips are red and the rest are yellow. There are 48 red paper clips. How many paper clips are there in the box?",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 24,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "d04cf555-f70b-4bd7-8374-6eaee9ace580",
      "question_number": "8",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "There was a total of 185 mugs and cups in a shop. There were 4 times as many mugs as cups. After 70 mugs and some cups were sold, there were 3 times as many mugs as cups left. How many cups were left?",
        "text_latex": "There was a total of 185 mugs and cups in a shop. There were 4 times as many mugs as cups. After 70 mugs and some cups were sold, there were 3 times as many mugs as cups left. How many cups were left?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 25,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c0bbb0be-b7d2-4613-a5f6-4407eeb2c883",
      "question_number": "9",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The figure below is made up of square ABDE and triangle CDE. The area of square ABDE is $64 \\text{ cm}^2$ and the height of triangle CDE is $20 \\text{ cm}$. Find the area of the shaded triangle CBD. [Diagram: A geometric figure is shown, composed of a square ABDE and a triangle CDE. The square has vertices A, B, D, E. Point C is positioned such that triangle CDE is formed. A dashed line indicates the height of triangle CDE from vertex C to the base line containing DE, and this height is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the figure.]",
        "text_latex": "The figure below is made up of square ABDE and triangle CDE. The area of square ABDE is $64 \\text{ cm}^2$ and the height of triangle CDE is $20 \\text{ cm}$. Find the area of the shaded triangle CBD.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "1e21c1bb",
          "type": "DIAGRAM",
          "alt_text": "A geometric figure composed of a square ABDE and a triangle CDE. The square ABDE has vertices A, B, D, E. Point C is located above and to the right of D, forming triangle CDE. A dashed line extends from C perpendicularly down to the line containing DE, indicating the height of triangle CDE, which is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the larger figure.",
          "description": "A geometric figure composed of a square ABDE and a triangle CDE. The square ABDE has vertices A, B, D, E. Point C is located above and to the right of D, forming triangle CDE. A dashed line extends from C perpendicularly down to the line containing DE, indicating the height of triangle CDE, which is labeled as '20 cm'. A right angle symbol is shown at the base of this height. The triangle CBD is shaded within the larger figure.",
          "bounding_box": {
            "x1": 24.0,
            "y1": 28.0,
            "x2": 55.0,
            "y2": 42.0
          },
          "source_page": 26,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": 3,
      "subparts": [],
      "source": {
        "page_number": 26,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "50f17ee9-617d-46db-977e-96645e0e1578",
      "question_number": "10",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The line graph shows the number of visitors at a science exhibition from January to June. [Diagram: A line graph titled 'Number of Visitors' vs 'Month' from January to June. The y-axis ranges from 0 to 800, labeled 'Number of Visitors', with increments of 100. The x-axis is labeled 'Month' and shows Jan, Feb, Mar, Apr, May, Jun. The line plot shows visitor numbers: January (~300), February (~550), March (~750), April (~700), May (~300), June (~650).]",
        "text_latex": "The line graph shows the number of visitors at a science exhibition from January to June.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "f3264b84-3400-4252-a718-b0d1e3ee8f74",
          "question_number": "10a",
          "parent_question_id": "50f17ee9-617d-46db-977e-96645e0e1578",
          "hierarchy_level": 1,
          "content": {
            "text": "During which one-month period did the number of visitors increase the most?",
            "text_latex": null,
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "May to June",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 1,
          "subparts": [],
          "source": {
            "page_number": 27,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "5d57abad-552f-4efa-8462-20b070d1167e",
          "question_number": "10b",
          "parent_question_id": "50f17ee9-617d-46db-977e-96645e0e1578",
          "hierarchy_level": 1,
          "content": {
            "text": "Each visitor paid $6.50 for a ticket to the exhibition. How much money was collected from the sales of the total number of tickets from January to April?",
            "text_latex": null,
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Total visitors = $300 + 600 + 760 + 700 = 2360$\nTotal sales = $2360 \\times \\$6.50 = \\$15340$",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 27,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 27,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "c1edba26-978b-460d-a834-259472c6417c",
      "question_number": "11",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "In a race, there were 1050 participants altogether. 70% of the participants were men and the rest were women. 80% of the women and some men finished the race. A total of 230 participants did not finish the race.",
        "text_latex": "In a race, there were 1050 participants altogether. 70% of the participants were men and the rest were women. 80% of the women and some men finished the race. A total of 230 participants did not finish the race.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "711f00eb-1b39-45ab-a10d-bdd39d443695",
          "question_number": "11a",
          "parent_question_id": "c1edba26-978b-460d-a834-259472c6417c",
          "hierarchy_level": 1,
          "content": {
            "text": "How many women joined the race?",
            "text_latex": "How many women joined the race?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "10u = 1050\n1u = 105\n3u = 315",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 1,
          "subparts": [],
          "source": {
            "page_number": 28,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "1705a474-40ce-4fce-a2be-871b2d4e9f5a",
          "question_number": "11b",
          "parent_question_id": "c1edba26-978b-460d-a834-259472c6417c",
          "hierarchy_level": 1,
          "content": {
            "text": "How many men finished the race?",
            "text_latex": "How many men finished the race?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "No. of women who did not finish race = $0.2 \\times 315 = 63$\nNo. of men who did not finish race = $230 - 63 = 167$\nNo. of men who finished race = $(1050 - 315) - 167 = 568$",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 3,
          "subparts": [],
          "source": {
            "page_number": 28,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 28,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
      "question_number": "12",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Alice has some paperclips. If she gives each friend 14 paperclips, she will have 4 paperclips left. If she gives each of them 20 paperclips, she will be short of 68 paperclips.",
        "text_latex": "Alice has some paperclips. If she gives each friend 14 paperclips, she will have 4 paperclips left. If she gives each of them 20 paperclips, she will be short of 68 paperclips.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "ce3dc5fc-5074-4ac1-9ce1-e17d1b6d1805",
          "question_number": "12a",
          "parent_question_id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
          "hierarchy_level": 1,
          "content": {
            "text": "How many friends did Alice have?",
            "text_latex": "How many friends did Alice have?",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "168 \\div 14 = 12",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 29,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "fc8a8cfe-ec18-44a0-94b7-1579df03ccea",
          "question_number": "12b",
          "parent_question_id": "051eb5ed-62ff-4f4b-ae88-3502cbcc5d6e",
          "hierarchy_level": 1,
          "content": {
            "text": "How many paperclips did Alice have?",
            "text_latex": "How many paperclips did Alice have?",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "172",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 29,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 29,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
      "question_number": "13",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Alex, Ben and Charles shared some stickers. Ben received 3 times as many stickers as Charles. The number of stickers Alex received was $\\frac{3}{5}$ the total number of stickers. Alex received 120 more stickers than Charles.",
        "text_latex": "Alex, Ben and Charles shared some stickers. Ben received 3 times as many stickers as Charles. The number of stickers Alex received was $\\frac{3}{5}$ the total number of stickers. Alex received 120 more stickers than Charles.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "ee2de78c-1fb5-4cba-9043-615f71d24ef0",
          "question_number": "13a",
          "parent_question_id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
          "hierarchy_level": 1,
          "content": {
            "text": "What fraction of the stickers did Charles have?",
            "text_latex": "What fraction of the stickers did Charles have?",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Alex: 6u, Ben: 3u, Charles: 1u\nFraction Charles has = $\\frac{1}{10}$",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 1,
          "subparts": [],
          "source": {
            "page_number": 30,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "0855677f-2bc6-40ae-bd52-13c988acab2c",
          "question_number": "13b",
          "parent_question_id": "4267f6e9-753a-4e4a-aeb6-908a0e7654a8",
          "hierarchy_level": 1,
          "content": {
            "text": "How many stickers did the boys have altogether?",
            "text_latex": "How many stickers did the boys have altogether?",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "6u - 1u = 120\n5u = 120\n1u = 24\n10u = 240",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 3,
          "subparts": [],
          "source": {
            "page_number": 30,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 30,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "67f84e28-79dd-43da-a6c1-a7a658c36425",
      "question_number": "14",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Simon bought an equal number of sandwiches and pies. A sandwich cost $4 and a pie cost $1.80 less than a sandwich. He paid a total of $279. How much did Simon pay for the pies?",
        "text_latex": "Simon bought an equal number of sandwiches and pies. A sandwich cost $4 and a pie cost $1.80 less than a sandwich. He paid a total of $279. How much did Simon pay for the pies?",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": 4,
      "subparts": [],
      "source": {
        "page_number": 31,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
      "question_number": "15",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Container A measuring 30 cm by 16 cm by 15 cm was completely filled with water at first. Container B is a cubical tank of edge 10 cm. Ravi poured some of the water from Container A into Container B to fill it completely. [Diagram: Two containers are shown. Container A is a rectangular prism labeled with dimensions 30 cm (length), 16 cm (width), and 15 cm (height). Container B is a cube labeled with an edge length of 10 cm. An arrow indicates water being poured from Container A to Container B.]",
        "text_latex": "Container A measuring $30 \\text{ cm}$ by $16 \\text{ cm}$ by $15 \\text{ cm}$ was completely filled with water at first. Container B is a cubical tank of edge $10 \\text{ cm}$. Ravi poured some of the water from Container A into Container B to fill it completely.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "243f66ca-4153-4ca0-b402-2a204ad64576",
          "question_number": "15a",
          "parent_question_id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
          "hierarchy_level": 1,
          "content": {
            "text": "How much water was left in Container A?",
            "text_latex": "How much water was left in Container A?",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Vol. of container A = 30 x 15 x 16 = 7200 ml\nVol. of container B = 10 x 10 x 10 = 1000 ml\nAmt. of water left = 7200 - 1000 = 6200 ml",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 32,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "0deb68ef-093d-4328-8b56-4948a2e0bb8d",
          "question_number": "15b",
          "parent_question_id": "1351514a-e0d0-4810-a0a8-642f1e5b3c6d",
          "hierarchy_level": 1,
          "content": {
            "text": "After Ravi used some water to water his plants, he had 5150 ml of water left. How much water did Ravi use to water his plants? Give your answer in litres.",
            "text_latex": "After Ravi used some water to water his plants, he had $5150 \\text{ ml}$ of water left. How much water did Ravi use to water his plants? Give your answer in litres.",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Water used = 6200 - 5150 = 1050 ml = 1.05 $\\ell$",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 32,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 32,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
      "question_number": "16",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The bar graph below shows the number of cupcakes sold from Monday to Friday. [Diagram: A bar graph titled 'Number of cupcakes sold' shows the number of cupcakes sold from Monday to Friday. The x-axis is labeled with days: Mon, Tue, Wed, Thu, Fri. The y-axis is labeled 'Number of cupcakes sold' and ranges from 0 to 80 in increments of 20. Bars are present for Monday (approx. 35 cupcakes), Tuesday (approx. 55 cupcakes), Wednesday (approx. 65 cupcakes), and Thursday (approx. 70 cupcakes). There is no bar for Friday, but a dashed vertical line indicates where it would be, extending up to the 80 mark.]",
        "text_latex": "The bar graph below shows the number of cupcakes sold from Monday to Friday.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [
        {
          "id": "d0a121e6",
          "type": "DIAGRAM",
          "alt_text": "A bar graph showing the number of cupcakes sold from Monday to Friday. The x-axis represents the days of the week (Mon, Tue, Wed, Thu, Fri). The y-axis represents the 'Number of cupcakes sold', scaled from 0 to 80 in increments of 20. The bars indicate sales as follows: Monday (approx. 35), Tuesday (approx. 55), Wednesday (approx. 65), Thursday (approx. 70). The Friday column is empty, marked by a dashed vertical line, indicating a value to be determined and shaded.",
          "description": "A bar graph showing the number of cupcakes sold from Monday to Friday. The x-axis represents the days of the week (Mon, Tue, Wed, Thu, Fri). The y-axis represents the 'Number of cupcakes sold', scaled from 0 to 80 in increments of 20. The bars indicate sales as follows: Monday (approx. 35), Tuesday (approx. 55), Wednesday (approx. 65), Thursday (approx. 70). The Friday column is empty, marked by a dashed vertical line, indicating a value to be determined and shaded.",
          "bounding_box": {
            "x1": 18.0,
            "y1": 17.0,
            "x2": 84.0,
            "y2": 46.0
          },
          "source_page": 33,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "28e4a2d2-e368-4d43-ac82-cbdd9ee4af68",
          "question_number": "16a",
          "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
          "hierarchy_level": 1,
          "content": {
            "text": "What was the average number of cupcakes sold on Monday and Tuesday?",
            "text_latex": "What was the average number of cupcakes sold on Monday and Tuesday?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Average = (35 + 55) \\div 2 = 45",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 33,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "6fe18e64-910d-4cc0-ad9a-b3025a709c5c",
          "question_number": "16b",
          "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
          "hierarchy_level": 1,
          "content": {
            "text": "Find the total number of cupcakes sold from Monday to Thursday.",
            "text_latex": "Find the total number of cupcakes sold from Monday to Thursday.",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "Total = 35 + 55 + 65 + 75 = 230",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 1,
          "subparts": [],
          "source": {
            "page_number": 33,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        },
        {
          "id": "b8e99eb7-231d-45cd-8cca-eb86e4f97d47",
          "question_number": "16c",
          "parent_question_id": "b11298fa-a0de-4ae0-be5d-6111e9880f22",
          "hierarchy_level": 1,
          "content": {
            "text": "The average number of cupcakes sold for the 5 days was 56. Find the number of cupcakes sold on Friday. Shade your answer in the graph above.",
            "text_latex": "The average number of cupcakes sold for the 5 days was 56. Find the number of cupcakes sold on Friday. Shade your answer in the graph above.",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "response_config": null,
          "diagrams": [],
          "answer_key": null,
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 33,
            "bounding_box": null
          },
          "extraction_confidence": 0.8
        }
      ],
      "source": {
        "page_number": 33,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
      "question_number": "17",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The pattern below is made up of squares and dots. Study the pattern carefully and answer the following questions. [Diagrams: Four figures (Figure 1, Figure 2, Figure 3, Figure 4) illustrate a pattern of squares and dots. Figure 1 shows a single square with dots at its four vertices. Figure 2 shows three squares arranged in an L-shape, with dots at all seven vertices. Figure 3 shows five squares arranged in a larger L-shape, with dots at all eleven vertices. Figure 4 shows seven squares arranged in an even larger L-shape, with dots at all fifteen vertices. Below these figures, a table is provided, showing 'Figure' numbers (1-5), 'Number of squares', and 'Number of dots' for each figure, with a blank cell for 'Number of dots' in Figure 5.]",
        "text_latex": "The pattern below is made up of squares and dots. Study the pattern carefully and answer the following questions.",
        "text_html": null,
        "segments": []
      },
      "response_type": "LONG_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [
        {
          "id": "92c9ab59-e2f3-4cb9-be71-d7711e257a1f",
          "question_number": "17a",
          "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
          "hierarchy_level": 1,
          "content": {
            "text": "Complete the table below by filling in the number of dots in Figure 5.",
            "text_latex": "Complete the table below by filling in the number of dots in Figure 5.",
            "text_html": null,
            "segments": []
          },
          "response_type": "FILL_IN_BLANK",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "19",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 1,
          "subparts": [],
          "source": {
            "page_number": 34,
            "bounding_box": null
          },
          "extraction_confidence": 0.95
        },
        {
          "id": "0dc63f5d-28ab-4d73-bdf5-b4030b59fb23",
          "question_number": "17b",
          "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
          "hierarchy_level": 1,
          "content": {
            "text": "How many squares are there in Figure 12?",
            "text_latex": "How many squares are there in Figure 12?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "12 - 1 = 11\n11 x 2 = 22\n22 + 1 = 23",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 34,
            "bounding_box": null
          },
          "extraction_confidence": 0.95
        },
        {
          "id": "ff60fa8f-2989-49e6-8975-3f91d53cabc2",
          "question_number": "17c",
          "parent_question_id": "25ce7ba2-99c4-488c-a8c6-0c0a2532f9a7",
          "hierarchy_level": 1,
          "content": {
            "text": "In which figure are there 295 dots?",
            "text_latex": "In which figure are there 295 dots?",
            "text_html": null,
            "segments": []
          },
          "response_type": "SHORT_ANSWER",
          "response_config": null,
          "diagrams": [],
          "answer_key": {
            "final_answer": "295 - 3 = 292\n292 \\div 4 = 73\n73 + 1 = 74",
            "acceptable_answers": [],
            "worked_solution": [],
            "marking_rubric": [],
            "explanation": null
          },
          "marks": 2,
          "subparts": [],
          "source": {
            "page_number": 34,
            "bounding_box": null
          },
          "extraction_confidence": 0.95
        }
      ],
      "source": {
        "page_number": 34,
        "bounding_box": null
      },
      "extraction_confidence": 0.98
    },
    {
      "id": "37451c35-562b-4c8c-a692-625c254999dc",
      "question_number": "Q3b",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "Determine the volume of the shaded shape shown on the grid, where each cube represents 1 cm. [Diagram: A 3D shaded shape is shown on a grid of squares. The shape appears to be made of 13 unit cubes, forming an irregular L-shape or similar structure. Each square on the grid represents a unit cube.]",
        "text_latex": "Determine the volume of the shaded shape shown on the grid, where each cube represents $1$ cm$^3$.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 36,
        "bounding_box": null
      },
      "extraction_confidence": 0.8
    },
    {
      "id": "0210368b-55b0-4695-90cf-8a82c147bc04",
      "question_number": "Q12a",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The question text is missing. A table is provided showing 'Multiples of 14' with corresponding 'Paperclips' values (84, 88; 98, 102; 112, 116; 126, 130; 140, 144; 154, 158; 168, 172) and 'Multiples of 20' with corresponding 'Paperclips' values (120, 52; 140, 72; 160, 92; 180, 112; 200, 132; 220, 152; 240, 172).",
        "text_latex": "The question text is missing. A table is provided showing 'Multiples of 14' with corresponding 'Paperclips' values (84, 88; 98, 102; 112, 116; 126, 130; 140, 144; 154, 158; 168, 172) and 'Multiples of 20' with corresponding 'Paperclips' values (120, 52; 140, 72; 160, 92; 180, 112; 200, 132; 220, 152; 240, 172).",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 37,
        "bounding_box": null
      },
      "extraction_confidence": 0.5
    },
    {
      "id": "795fa377-d80e-41b2-aa2c-c19486f8a552",
      "question_number": "Q16c",
      "parent_question_id": null,
      "hierarchy_level": 0,
      "content": {
        "text": "The question text is missing. A bar chart is provided with a y-axis ranging from 0 to 80, marked at 20, 40, 60, 80. There are five bars. The first four bars have heights approximately 35, 55, 65, and 75 units respectively. The fifth bar is partially obscured and patterned, appearing to be around 45-50 units high.",
        "text_latex": "The question text is missing. A bar chart is provided with a y-axis ranging from 0 to 80, marked at 20, 40, 60, 80. There are five bars. The first four bars have heights approximately 35, 55, 65, and 75 units respectively. The fifth bar is partially obscured and patterned, appearing to be around 45-50 units high.",
        "text_html": null,
        "segments": []
      },
      "response_type": "SHORT_ANSWER",
      "response_config": null,
      "diagrams": [],
      "answer_key": null,
      "marks": null,
      "subparts": [],
      "source": {
        "page_number": 37,
        "bounding_box": null
      },
      "extraction_confidence": 0.5
    }
  ],
  "extraction_metrics": {
    "total_tokens_used": 97902,
    "total_cost_usd": 0.0131,
    "processing_time_seconds": 346.64,
    "pages_processed": 38,
    "questions_extracted": 50,
    "diagrams_extracted": 26,
    "agents_used": [
      "PDFParser",
      "QuestionExtractor",
      "DiagramExtractor",
      "AnswerKeyAgent"
    ],
    "errors": []
  }
}
</file>

<file path="tracking/__init__.py">
"""Tracking and monitoring for exam extraction pipeline."""

from .cost_tracker import CostTracker, TokenUsage, PipelineMetrics, DEFAULT_PRICING
from .pipeline_logger import PipelineLogger, ConsoleProgressLogger

__all__ = [
    "CostTracker",
    "TokenUsage",
    "PipelineMetrics",
    "DEFAULT_PRICING",
    "PipelineLogger",
    "ConsoleProgressLogger",
]
</file>

<file path="tracking/cost_tracker.py">
"""Cost tracking and monitoring for the extraction pipeline."""

from dataclasses import dataclass, field
from datetime import datetime
from typing import Dict, List, Optional
from pathlib import Path
import json
import logging
import uuid


@dataclass
class TokenUsage:
    """Track token usage for a single API call."""
    agent: str
    operation: str
    input_tokens: int
    output_tokens: int
    model: str
    timestamp: datetime = field(default_factory=datetime.now)

    @property
    def total_tokens(self) -> int:
        return self.input_tokens + self.output_tokens

    def calculate_cost(self, pricing: Dict[str, float]) -> float:
        """Calculate cost based on model pricing."""
        input_cost = (self.input_tokens / 1_000_000) * pricing.get(f"{self.model}_input", 0)
        output_cost = (self.output_tokens / 1_000_000) * pricing.get(f"{self.model}_output", 0)
        return input_cost + output_cost

    def to_dict(self) -> Dict:
        return {
            "agent": self.agent,
            "operation": self.operation,
            "input_tokens": self.input_tokens,
            "output_tokens": self.output_tokens,
            "total_tokens": self.total_tokens,
            "model": self.model,
            "timestamp": self.timestamp.isoformat()
        }


# Default pricing for Gemini models (per 1M tokens)
DEFAULT_PRICING = {
    "gemini-2.5-flash_input": 0.075,
    "gemini-2.5-flash_output": 0.30,
    "gemini-2.0-flash_input": 0.10,
    "gemini-2.0-flash_output": 0.40,
    "gemini-1.5-flash_input": 0.075,
    "gemini-1.5-flash_output": 0.30,
    "gemini-1.5-pro_input": 1.25,
    "gemini-1.5-pro_output": 5.00,
}


@dataclass
class PipelineMetrics:
    """Aggregate metrics for an extraction run."""
    run_id: str
    pdf_path: str
    start_time: datetime
    end_time: Optional[datetime] = None
    token_usage: List[TokenUsage] = field(default_factory=list)
    questions_extracted: int = 0
    diagrams_extracted: int = 0
    pages_processed: int = 0
    errors: List[Dict] = field(default_factory=list)
    pricing: Dict[str, float] = field(default_factory=lambda: DEFAULT_PRICING.copy())

    @property
    def total_tokens(self) -> int:
        return sum(t.total_tokens for t in self.token_usage)

    @property
    def total_input_tokens(self) -> int:
        return sum(t.input_tokens for t in self.token_usage)

    @property
    def total_output_tokens(self) -> int:
        return sum(t.output_tokens for t in self.token_usage)

    @property
    def total_cost(self) -> float:
        return sum(t.calculate_cost(self.pricing) for t in self.token_usage)

    @property
    def processing_time_seconds(self) -> float:
        if self.end_time:
            return (self.end_time - self.start_time).total_seconds()
        return 0

    def get_usage_by_agent(self) -> Dict[str, Dict[str, int]]:
        """Get token usage breakdown by agent."""
        breakdown = {}
        for usage in self.token_usage:
            if usage.agent not in breakdown:
                breakdown[usage.agent] = {"input": 0, "output": 0, "calls": 0}
            breakdown[usage.agent]["input"] += usage.input_tokens
            breakdown[usage.agent]["output"] += usage.output_tokens
            breakdown[usage.agent]["calls"] += 1
        return breakdown

    def to_dict(self) -> Dict:
        return {
            "run_id": self.run_id,
            "pdf_path": self.pdf_path,
            "start_time": self.start_time.isoformat(),
            "end_time": self.end_time.isoformat() if self.end_time else None,
            "processing_time_seconds": round(self.processing_time_seconds, 2),
            "total_tokens": self.total_tokens,
            "total_input_tokens": self.total_input_tokens,
            "total_output_tokens": self.total_output_tokens,
            "total_cost_usd": round(self.total_cost, 6),
            "questions_extracted": self.questions_extracted,
            "diagrams_extracted": self.diagrams_extracted,
            "pages_processed": self.pages_processed,
            "usage_by_agent": self.get_usage_by_agent(),
            "token_usage_details": [t.to_dict() for t in self.token_usage],
            "errors": self.errors
        }


class CostTracker:
    """
    Central cost tracking for the entire pipeline.
    Provides real-time monitoring and historical analysis.
    """

    def __init__(self, log_dir: str = "logs/costs"):
        self.log_dir = Path(log_dir)
        self.log_dir.mkdir(parents=True, exist_ok=True)
        self.current_run: Optional[PipelineMetrics] = None
        self.logger = logging.getLogger("CostTracker")
        self.pricing = DEFAULT_PRICING.copy()

    def start_run(self, pdf_path: str) -> str:
        """Start tracking a new extraction run."""
        run_id = str(uuid.uuid4())[:8]
        self.current_run = PipelineMetrics(
            run_id=run_id,
            pdf_path=pdf_path,
            start_time=datetime.now(),
            pricing=self.pricing
        )
        self.logger.info(f"Started extraction run {run_id} for {pdf_path}")
        return run_id

    def log_usage(
        self,
        agent: str,
        operation: str,
        input_tokens: int,
        output_tokens: int,
        model: str = "gemini-2.5-flash"
    ) -> None:
        """Log token usage for an API call."""
        if not self.current_run:
            self.logger.warning("No active run. Creating anonymous run.")
            self.start_run("unknown")

        usage = TokenUsage(
            agent=agent,
            operation=operation,
            input_tokens=input_tokens,
            output_tokens=output_tokens,
            model=model
        )
        self.current_run.token_usage.append(usage)

        cost = usage.calculate_cost(self.pricing)
        self.logger.debug(
            f"[{agent}] {operation}: {input_tokens:,} in / {output_tokens:,} out = ${cost:.6f}"
        )

    def log_error(self, agent: str, error: Exception, context: Dict = None) -> None:
        """Log an error during extraction."""
        if self.current_run:
            self.current_run.errors.append({
                "agent": agent,
                "error_type": type(error).__name__,
                "error_message": str(error),
                "context": context or {},
                "timestamp": datetime.now().isoformat()
            })
            self.logger.error(f"[{agent}] Error: {error}")

    def update_counts(
        self,
        questions: int = 0,
        diagrams: int = 0,
        pages: int = 0
    ) -> None:
        """Update extraction counts."""
        if self.current_run:
            self.current_run.questions_extracted += questions
            self.current_run.diagrams_extracted += diagrams
            self.current_run.pages_processed += pages

    def end_run(self) -> PipelineMetrics:
        """End the current run and save metrics."""
        if not self.current_run:
            raise ValueError("No active run to end.")

        self.current_run.end_time = datetime.now()

        # Save to file
        log_file = self.log_dir / f"{self.current_run.run_id}.json"
        with open(log_file, "w") as f:
            json.dump(self.current_run.to_dict(), f, indent=2, default=str)

        self.logger.info(
            f"Completed run {self.current_run.run_id}: "
            f"{self.current_run.questions_extracted} questions, "
            f"{self.current_run.diagrams_extracted} diagrams, "
            f"{self.current_run.total_tokens:,} tokens, "
            f"${self.current_run.total_cost:.4f}"
        )

        result = self.current_run
        self.current_run = None
        return result

    def get_current_stats(self) -> Dict:
        """Get current run statistics."""
        if not self.current_run:
            return {"status": "no_active_run"}

        return {
            "run_id": self.current_run.run_id,
            "elapsed_seconds": (datetime.now() - self.current_run.start_time).total_seconds(),
            "total_tokens": self.current_run.total_tokens,
            "current_cost": round(self.current_run.total_cost, 6),
            "api_calls": len(self.current_run.token_usage),
            "questions": self.current_run.questions_extracted,
            "diagrams": self.current_run.diagrams_extracted
        }

    def print_summary(self) -> None:
        """Print a summary of the current run."""
        if not self.current_run:
            print("No active run.")
            return

        stats = self.get_current_stats()
        print("\n" + "=" * 50)
        print("EXTRACTION PIPELINE STATS")
        print("=" * 50)
        print(f"Run ID:          {stats['run_id']}")
        print(f"Elapsed:         {stats['elapsed_seconds']:.1f}s")
        print(f"API Calls:       {stats['api_calls']}")
        print(f"Total Tokens:    {stats['total_tokens']:,}")
        print(f"Current Cost:    ${stats['current_cost']:.4f}")
        print(f"Questions:       {stats['questions']}")
        print(f"Diagrams:        {stats['diagrams']}")
        print("-" * 50)
        print("Usage by Agent:")
        for agent, usage in self.current_run.get_usage_by_agent().items():
            print(f"  {agent}: {usage['input']:,} in / {usage['output']:,} out ({usage['calls']} calls)")
        print("=" * 50 + "\n")
</file>

<file path="tracking/pipeline_logger.py">
"""Structured logging for agent interactions."""

from pathlib import Path
from datetime import datetime
from typing import Dict, Any, Optional
import json
import logging


class PipelineLogger:
    """
    Structured logging for all agent interactions.
    Enables debugging and quality analysis.
    """

    def __init__(self, log_dir: str = "logs/agents"):
        self.log_dir = Path(log_dir)
        self.log_dir.mkdir(parents=True, exist_ok=True)
        self.run_id: Optional[str] = None
        self.run_dir: Optional[Path] = None
        self.logger = logging.getLogger("PipelineLogger")

    def start_run(self, run_id: str) -> None:
        """Start logging for a run."""
        self.run_id = run_id
        self.run_dir = self.log_dir / run_id
        self.run_dir.mkdir(exist_ok=True)
        self.logger.info(f"Started logging for run {run_id}")

    def log_agent_input(self, agent: str, operation: str, input_data: Dict) -> None:
        """Log input to an agent."""
        self._write_log(agent, operation, "input", input_data)

    def log_agent_output(self, agent: str, operation: str, output_data: Dict) -> None:
        """Log output from an agent."""
        self._write_log(agent, operation, "output", output_data)

    def log_agent_prompt(
        self,
        agent: str,
        operation: str,
        prompt: str,
        response: str,
        model: str = "gemini-2.5-flash"
    ) -> None:
        """Log full prompt and response for LLM calls."""
        self._write_log(agent, operation, "llm_call", {
            "model": model,
            "prompt": prompt,
            "response": response,
            "timestamp": datetime.now().isoformat()
        })

    def log_extraction_result(
        self,
        agent: str,
        page_number: int,
        result: Dict[str, Any]
    ) -> None:
        """Log extraction results for a page."""
        self._write_log(agent, f"page_{page_number}", "extraction", result)

    def log_error(
        self,
        agent: str,
        operation: str,
        error: Exception,
        context: Dict = None
    ) -> None:
        """Log an error with context."""
        self._write_log(agent, operation, "error", {
            "error_type": type(error).__name__,
            "error_message": str(error),
            "context": context or {},
            "timestamp": datetime.now().isoformat()
        })
        self.logger.error(f"[{agent}:{operation}] {error}")

    def _write_log(
        self,
        agent: str,
        operation: str,
        log_type: str,
        data: Dict
    ) -> None:
        """Write a log entry to file."""
        if not self.run_id or not self.run_dir:
            self.logger.warning("No active run for logging")
            return

        agent_dir = self.run_dir / agent
        agent_dir.mkdir(exist_ok=True)

        timestamp = datetime.now().strftime("%H%M%S%f")
        filename = f"{timestamp}_{operation}_{log_type}.json"

        try:
            with open(agent_dir / filename, "w") as f:
                json.dump(data, f, indent=2, default=str, ensure_ascii=False)
        except Exception as e:
            self.logger.error(f"Failed to write log: {e}")

    def get_run_logs(self, agent: Optional[str] = None) -> Dict[str, Any]:
        """Get all logs for the current run."""
        if not self.run_dir or not self.run_dir.exists():
            return {}

        logs = {}
        search_dir = self.run_dir / agent if agent else self.run_dir

        for log_file in search_dir.rglob("*.json"):
            relative_path = log_file.relative_to(self.run_dir)
            try:
                with open(log_file) as f:
                    logs[str(relative_path)] = json.load(f)
            except Exception as e:
                logs[str(relative_path)] = {"error": str(e)}

        return logs


class ConsoleProgressLogger:
    """Simple console progress logger for visual feedback."""

    def __init__(self, total_pages: int = 0):
        self.total_pages = total_pages
        self.current_page = 0
        self.start_time = datetime.now()

    def update(self, page: int, status: str = "") -> None:
        """Update progress."""
        self.current_page = page
        elapsed = (datetime.now() - self.start_time).total_seconds()

        if self.total_pages > 0:
            progress = (page / self.total_pages) * 100
            print(f"\r[{progress:5.1f}%] Page {page}/{self.total_pages} - {status} ({elapsed:.1f}s)", end="")
        else:
            print(f"\rPage {page} - {status} ({elapsed:.1f}s)", end="")

    def complete(self, message: str = "Done") -> None:
        """Mark as complete."""
        elapsed = (datetime.now() - self.start_time).total_seconds()
        print(f"\n{message} in {elapsed:.1f}s")
</file>

<file path="utils/__init__.py">
"""Utility functions for exam extraction."""
</file>

<file path="__init__.py">
"""
Growtrics Exam Extractor - Multi-Agent System for extracting structured questions from exam PDFs.

This package provides a complete pipeline for:
- Parsing PDF exam papers
- Extracting questions with subparts
- Detecting and extracting diagrams using Gemini bounding box detection
- Extracting and linking answer keys
- Cost tracking and monitoring

Usage:
    from exam_extractor import ExamExtractor

    extractor = ExamExtractor(api_key="your-gemini-api-key")
    result = extractor.extract("path/to/exam.pdf")

    # Access extracted data
    for question in result.questions:
        print(f"Q{question.question_number}: {question.content.text}")
        for subpart in question.subparts:
            print(f"  {subpart.question_number}: {subpart.content.text}")
"""

from .models import (
    # Enums
    ResponseType,
    DiagramType,
    ContentSegmentType,
    Subject,
    ExtractionStatus,
    # Models
    BoundingBox,
    Question,
    QuestionContent,
    Diagram,
    AnswerKey,
    ExamPaper,
    ExamMetadata,
    ExtractionMetrics,
)

from .agents import (
    PDFParserAgent,
    QuestionExtractorAgent,
    DiagramExtractorAgent,
    AnswerKeyAgent,
    OrchestratorAgent,
    ExamExtractor,
)

from .tracking import (
    CostTracker,
    PipelineLogger,
)

__version__ = "0.1.0"
__author__ = "Growtrics"

__all__ = [
    # High-level API
    "ExamExtractor",
    # Agents
    "PDFParserAgent",
    "QuestionExtractorAgent",
    "DiagramExtractorAgent",
    "AnswerKeyAgent",
    "OrchestratorAgent",
    # Models
    "Question",
    "QuestionContent",
    "Diagram",
    "AnswerKey",
    "ExamPaper",
    "ExamMetadata",
    "ExtractionMetrics",
    "BoundingBox",
    # Enums
    "ResponseType",
    "DiagramType",
    "ContentSegmentType",
    "Subject",
    "ExtractionStatus",
    # Tracking
    "CostTracker",
    "PipelineLogger",
]
</file>

<file path="ANALYSIS_INDEX.md">
# Documentation Analysis - Index & Quick Navigation

## Overview
This analysis consolidates three key documentation files to extract essential information for building improved documentation structure.

**Analysis Date**: 2025-01-14  
**Files Analyzed**: 3 documents (1,222 total lines)

---

## Key Documents Generated

### 1. DOCUMENTATION_ANALYSIS.md (15KB)
**Detailed analysis covering:**
- Complete workflows and processes (5-phase pipeline)
- System architecture and data flow diagrams
- Full JSON schemas and data formats
- Optimization strategies explained
- Key concepts and terminology
- Output structure and directory layout
- Error handling and logging approaches
- Configuration points and settings
- Essential information to preserve
- Knowledge gaps and recommendations

**Use this for**: Deep understanding, comprehensive architecture overview

---

### 2. ANALYSIS_SUMMARY.txt (11KB)
**Quick reference guide with:**
- Document inventory
- 5-phase workflow overview
- Optimization highlights (50% cost reduction)
- Core data structures (tree format)
- Bounding box conversion system
- JSON schema hierarchy
- Response types supported (8 types)
- Diagram types supported (9 types)
- Entry points (3 methods)
- Output directory structure
- Configuration constants
- Question hierarchy example
- Extraction metrics tracked
- Error handling approach
- Essential info to preserve
- Knowledge gaps list

**Use this for**: Quick lookups, reference tables, at-a-glance understanding

---

## Quick Facts

### Pipeline Overview
- **Total Phases**: 5 (parse, metadata, extract, answers, build)
- **Current Optimization**: Combined question + diagram extraction
- **Cost Reduction**: 50% fewer API calls, tokens, and cost
- **Key Model**: Gemini 2.5 Flash at 0.1 temperature

### Data Structure Hierarchy
```
ExamPaper
 ExamMetadata
 Question[] (hierarchical)
    QuestionContent
    ResponseType (8 types)
    Subparts[] (recursive)
    Diagram[] (linked)
    AnswerKey (optional)
 ExtractionMetrics
```

### Critical Technical Details

| Aspect | Value |
|--------|-------|
| Bounding Box (LLM) | 0-1000 scale |
| Bounding Box (Stored) | 0-100 percentage |
| Image DPI | 150 |
| LLM Calls per Page | 1 (optimized) |
| Response Format | JSON |
| Temperature | 0.1 |
| Output Formats | JSON + PNG images |

---

## What Changed From Original to Optimized

### Before (FLOW.md)
- 2 LLM API calls per page
- Questions extracted separately
- Diagrams extracted separately
- Distance calculations for diagram linking

### After (FLOW_OPTIMIZED.md)
- 1 LLM API call per page
- Questions + diagrams extracted in single call
- Diagram cropping via pure Python (no LLM)
- Direct question_number matching

**Result**: 50% cost reduction, same quality

---

## Key Schemas

### Question Response Types
1. MULTIPLE_CHOICE
2. SHORT_ANSWER
3. LONG_ANSWER
4. WORKING_AREA (math with steps)
5. FILL_IN_BLANK
6. TRUE_FALSE
7. MATCHING
8. DIAGRAM_LABEL

### Diagram Types
1. GRAPH
2. GEOMETRIC_FIGURE
3. CHART
4. ILLUSTRATION
5. TABLE
6. CIRCUIT
7. MAP
8. SCIENTIFIC
9. DIAGRAM

---

## Entry Points to Document

### CLI
```bash
python -m exam_extractor.main <pdf> [--output DIR] [--api-key KEY] 
  [--parallel] [--no-diagrams] [--no-answers]
```

### Python API
```python
from exam_extractor import ExamExtractor
result = ExamExtractor(api_key="...").extract("exam.pdf")
```

### Direct Orchestrator
```python
from exam_extractor import OrchestratorAgent
result = await OrchestratorAgent(api_key="...").process_pdf("exam.pdf")
```

---

## Output Structure

```
output/
 pages/              # Rendered page images (150 DPI)
 diagrams/           # Extracted diagrams (PNG, base64)
 questions/          # JSON extraction results
    {name}_extracted.json    # Complete ExamPaper
    {name}/q*.json           # Individual questions
 logs/
     costs/          # API usage and cost tracking
     pipeline/       # Processing event logs
```

---

## Critical Information to Preserve

### High Priority
1. **5-Phase Pipeline**: Core processing architecture
2. **Optimization Strategy**: Combined extraction = 50% cost savings
3. **Data Models**: Question, Diagram, AnswerKey definitions
4. **JSON Schemas**: LLM I/O and storage formats
5. **Bounding Box System**: Conversion formulas (0-1000 to 0-100)

### Medium Priority
6. **Hierarchy Model**: Parent-child question relationships
7. **Confidence Metrics**: How quality is tracked
8. **Entry Points**: Multiple invocation methods
9. **Output Directory**: File organization and naming
10. **Configuration**: Constants and optional flags

### Lower Priority (Can Be Extracted Later)
- Detailed error handling edge cases
- Specific regex patterns for metadata parsing
- Internal cost calculation formulas
- Agent logging event details

---

## Knowledge Gaps Identified

These should be clarified by reviewing the actual source code:

1. **Question Numbering**: Edge cases in numbering (Q1 vs 1 vs (a) etc.)
2. **Metadata Patterns**: Exact regex used for filename parsing
3. **Diagram Linking**: Multiple diagrams per question handling
4. **Subpart Detection**: Nesting depth limits and markers
5. **Answer Key Detection**: Heuristics for page identification
6. **Confidence Calculation**: Algorithm for confidence scores
7. **Cost Calculation**: Current Gemini pricing structure
8. **Agent Details**: Class hierarchy and method signatures

---

## Recommendations for New Documentation Structure

### Suggested Organization

```
docs/
 ARCHITECTURE.md
    Agent architecture
    Data flow diagrams
    Processing pipeline
 USER_GUIDE.md
    Installation
    Quick start (CLI, API, Orchestrator)
    Configuration
 SCHEMAS.md
    Question hierarchy
    Diagram structure
    Metadata format
    JSON examples
 API_REFERENCE.md
    ExamExtractor class
    OrchestratorAgent methods
    Agent interfaces
    Configuration options
 TROUBLESHOOTING.md
    Common issues
    Error codes
    Debugging tips
    FAQ
 INTEGRATION_GUIDE.md
     Library vs CLI
     Async workflows
     Custom agents
     Error handling
```

---

## File Locations

All analysis files are in:  
`/Users/vbi2/Documents/testing_idea/test-candidate/docbot/exam_extractor/`

- **DOCUMENTATION_ANALYSIS.md** - Detailed analysis (read first for deep dive)
- **ANALYSIS_SUMMARY.txt** - Quick reference (use for lookups)
- **ANALYSIS_INDEX.md** - This file (navigation guide)

Original documents:
- **FLOW.md** - Original pipeline documentation
- **FLOW_OPTIMIZED.md** - Current optimized pipeline
- **JSON_EXAMPLES.md** - Complete schema examples

---

## Quick Access Checklists

### For Building New Documentation
- [ ] Review DOCUMENTATION_ANALYSIS.md section 1-3 (workflows, architecture, schemas)
- [ ] Reference ANALYSIS_SUMMARY.txt for quick facts
- [ ] Check section 9 for "Essential Information to Preserve"
- [ ] Consult section 10 for "Knowledge Gaps"
- [ ] Use extracted schemas from JSON_EXAMPLES.md section 3-9

### For Understanding the System
- [ ] Read "KEY WORKFLOWS (5 PHASES)" section
- [ ] Study "CORE DATA STRUCTURES" section
- [ ] Review "BOUNDING BOX SYSTEM" conversion details
- [ ] Understand "OPTIMIZATION HIGHLIGHTS" for design rationale

### For Implementation Guides
- [ ] Identify all "ENTRY POINTS" (3 methods)
- [ ] Reference "OUTPUT DIRECTORY STRUCTURE"
- [ ] Check "CONFIGURATION CONSTANTS"
- [ ] Review "ERROR HANDLING APPROACH"

---

## Summary Statistics

| Metric | Value |
|--------|-------|
| Original docs analyzed | 3 files |
| Total lines processed | 1,222 |
| Data structures defined | 6+ major types |
| Question response types | 8 |
| Diagram types supported | 9 |
| Processing phases | 5 |
| Entry points | 3 |
| Output formats | Multiple (JSON, PNG) |
| Cost reduction (optimization) | 50% |
| Configuration constants | 5 hardcoded + 3 optional flags |

---

## Version Information

- **Analysis Date**: 2025-01-14
- **System**: Exam Extractor
- **Current Version**: Optimized (FLOW_OPTIMIZED.md)
- **Model**: Gemini 2.5 Flash
- **Python Version**: 3.x (async/await support required)

---

**Next Steps**: Use these analysis documents as the foundation for creating improved, structured documentation that covers all aspects of the system with better organization and navigation.
</file>

<file path="ANALYSIS_SUMMARY.txt">
================================================================================
DOCUMENTATION ANALYSIS - QUICK REFERENCE
================================================================================

DOCUMENT INVENTORY:
- FLOW.md (335 lines): Original pipeline documentation with detailed flows
- FLOW_OPTIMIZED.md (350 lines): Current optimized pipeline with 50% cost reduction
- JSON_EXAMPLES.md (537 lines): Complete JSON schema examples and mappings

================================================================================
KEY WORKFLOWS (5 PHASES)
================================================================================

Phase 1: PDF PARSING (PDFParserAgent)
   Extract text, render images (150 DPI), save page images
   Output: List[PageContent]

Phase 2: METADATA DETECTION
   Parse filename for subject, year, grade, exam type, school
   Output: ExamMetadata

Phase 3: QUESTION & DIAGRAM EXTRACTION (OPTIMIZED)
   Single LLM call per page (COMBINED extraction)
   Questions + diagram info in one response
   No separate diagram API call
   Output: (List[Question], List[diagram_info])

Phase 3b: DIAGRAM CROPPING (DiagramExtractorAgent - no LLM)
   Crop diagrams using bounding boxes from Phase 3
   Save PNG files
   Output: List[Diagram]

Phase 4: ANSWER KEY EXTRACTION (Optional - AnswerKeyAgent)
   Detect answer pages, extract answers, link to questions
   Output: Updated Question[] with AnswerKey

Phase 5: BUILD FINAL RESULT
   Calculate metrics, create ExamPaper, save JSON files
   Output: ExamPaper object + files

================================================================================
OPTIMIZATION HIGHLIGHTS (vs Original)
================================================================================

OPTIMIZATION: Combined Question + Diagram Extraction
  Before: 2 LLM calls per page
  After:  1 LLM call per page
  Impact: 50% fewer API calls, 50% fewer tokens, 50% less cost

KEY TECHNIQUE: Modified extraction prompt to request both questions AND diagram
  information in single LLM response

DIAGRAM EXTRACTION: Pure Python post-processing (no LLM cost)
  - Use bounding boxes from LLM response
  - PIL image cropping (fast)
  - Accurate coordinate conversion

================================================================================
CORE DATA STRUCTURES
================================================================================

ExamPaper (root object)
   metadata: ExamMetadata
   questions: List[Question]
   extraction_metrics: ExtractionMetrics

Question (hierarchical)
   question_number: str (e.g., "7", "7a", "7b")
   content: QuestionContent (text, text_latex, text_html)
   response_type: ResponseType enum
   marks: int
   hierarchy_level: int (0=main, 1+=subpart)
   subparts: List[Question] (recursive)
   diagrams: List[Diagram]
   answer_key: Optional[AnswerKey]
   extraction_confidence: float (0.0-1.0)

Diagram
   id: str
   type: DiagramType (GRAPH, GEOMETRIC_FIGURE, TABLE, etc.)
   image_path: str
   image_base64: str
   bounding_box: BoundingBox (0-100 percentage)
   source_page: int
   extraction_confidence: float

AnswerKey
   question_number: str
   answer: str (e.g., "x = 5", "B", "True")
   answer_type: str
   working_steps: List[str]
   confidence: float

================================================================================
BOUNDING BOX SYSTEM
================================================================================

LLM Response Format:  0-1000 scale (0=left/top, 1000=right/bottom)
Storage Format:       0-100 percentage (x1, y1, x2, y2)
Conversion:           stored_value = llm_value / 10

Example:
  LLM: {"x_min": 50, "y_min": 200, "x_max": 300, "y_max": 400}
       (scaled to image dimensions 0-1000)
  Stored: {"x1": 5.0, "y1": 20.0, "x2": 30.0, "y2": 40.0}
          (percentage of image, 0-100)

================================================================================
JSON SCHEMA HIERARCHY
================================================================================

LLM INPUT:
  - Page image (PNG, base64)
  - Extraction prompt (QUESTION_EXTRACTION_PROMPT)

LLM OUTPUT:
  {
    "questions": [{
      "question_number": "7",
      "question_text": "...",
      "question_text_latex": "...",
      "response_type": "WORKING_AREA",
      "marks": 8,
      "has_subparts": true,
      "subparts": [...],
      "diagrams": [{
        "diagram_description": "...",
        "diagram_type": "figure",
        "bounding_box": {...},
        "associated_question": "7"
      }],
      "confidence": 0.95
    }],
    "page_number": 1,
    "extraction_notes": "..."
  }

STORED OUTPUT:
  Complete: {pdf_name}_extracted.json (ExamPaper root)
  Individual: {pdf_name}/q{num}.json (Question objects)

================================================================================
RESPONSE TYPES SUPPORTED
================================================================================

MULTIPLE_CHOICE    - Options A, B, C, D (with is_correct flag)
SHORT_ANSWER       - Single word, number, or phrase
LONG_ANSWER        - Paragraph or essay
WORKING_AREA       - Mathematical working required (show steps)
FILL_IN_BLANK      - Blanks to fill in with answers
TRUE_FALSE         - True or false question
MATCHING           - Matching pairs
DIAGRAM_LABEL      - Label parts of a diagram

================================================================================
DIAGRAM TYPES SUPPORTED
================================================================================

GRAPH              - Line, bar, scatter plots, charts
GEOMETRIC_FIGURE   - Mathematical/geometric diagrams
CHART              - Data visualization
ILLUSTRATION       - General illustrations
TABLE              - Data tables
CIRCUIT            - Electrical circuits
MAP                - Geographic/conceptual maps
SCIENTIFIC         - Laboratory equipment, organisms
DIAGRAM            - General diagrams

================================================================================
ENTRY POINTS
================================================================================

CLI:
  python -m exam_extractor.main <pdf_path> [--output DIR] [--api-key KEY]
                                 [--parallel] [--no-diagrams] [--no-answers]

Python API:
  from exam_extractor import ExamExtractor
  extractor = ExamExtractor(api_key="...")
  result = extractor.extract("exam.pdf")

Direct Orchestrator:
  from exam_extractor import OrchestratorAgent
  orchestrator = OrchestratorAgent(api_key="...")
  result = await orchestrator.process_pdf("exam.pdf")

================================================================================
OUTPUT DIRECTORY STRUCTURE
================================================================================

output/
   pages/                           # Page images (PNG)
      {pdf_name}_page_1.png
      ...
   diagrams/                        # Extracted diagrams (PNG)
      page1_diag_xyz.png
      ...
   questions/                       # JSON results
      {pdf_name}_extracted.json    # Complete ExamPaper
      {pdf_name}/
          q1.json
          ...
   logs/
       costs/
          {pdf_name}_costs.json
       pipeline/
           {pdf_name}_log.txt

================================================================================
CONFIGURATION CONSTANTS
================================================================================

Model:              "gemini-2.5-flash"
Temperature:        0.1 (for consistent extraction)
Response Format:    "application/json"
Image DPI:          150 (page rendering)
Bounding Box Scale: 0-1000 (LLM)  0-100% (stored)

Optional Flags:
  --no-diagrams     Skip diagram extraction
  --no-answers      Skip answer key extraction
  --parallel        Process multiple PDFs concurrently

================================================================================
QUESTION HIERARCHY EXAMPLE
================================================================================

Main Question (hierarchy_level=0):
  - question_number: "7"
  - marks: 8
  - Subpart a (hierarchy_level=1):
      - question_number: "7a"
      - parent_question_id: "q_7_abc123"
      - marks: 2
  - Subpart b (hierarchy_level=1):
      - question_number: "7b"
      - parent_question_id: "q_7_abc123"
      - marks: 3
  - Subpart c (hierarchy_level=1):
      - question_number: "7c"
      - parent_question_id: "q_7_abc123"
      - marks: 3

================================================================================
EXTRACTION METRICS TRACKED
================================================================================

total_tokens_used:    int
total_cost_usd:       float
processing_time_seconds: float
pages_processed:      int
questions_extracted:  int
diagrams_extracted:   int
agents_used:          List[str]
errors:               List[str]

Example:
  {
    "total_tokens_used": 83386,
    "total_cost_usd": 0.0114,
    "processing_time_seconds": 45.3,
    "pages_processed": 36,
    "questions_extracted": 50,
    "diagrams_extracted": 33,
    "agents_used": ["PDFParser", "QuestionExtractor", "DiagramExtractor", "AnswerKeyAgent"],
    "errors": []
  }

================================================================================
ERROR HANDLING APPROACH
================================================================================

Pipeline Resilience:
  - Errors logged to ExtractionMetrics.errors
  - Pipeline continues on individual page failures
  - Full exception traceback captured

Cost Tracking:
  - Every API call tracked via CostTracker.log_usage()
  - Token counts (input/output) recorded
  - Estimated cost saved to output/logs/costs/

Agent Logging:
  - Each agent logs to PipelineLogger
  - Events: start, completion, errors, metrics
  - Saved to output/logs/pipeline/

================================================================================
ESSENTIAL INFO TO PRESERVE IN NEW DOCS
================================================================================

Critical:
  1. 5-Phase Pipeline flow
  2. Optimization strategy (combined extraction = 50% cost reduction)
  3. Complete data model definitions
  4. JSON schema mappings (LLM I/O and storage)
  5. Bounding box conversion system
  6. Question hierarchy model
  7. All entry points
  8. Output directory structure
  9. Configuration constants
  10. Error handling strategy

Deprecated (from old version):
  - Original 2-call-per-page approach
  - Distance calculations for diagram linking
  - Old LLM diagram extraction calls

================================================================================
KNOWLEDGE GAPS FOR INVESTIGATION
================================================================================

1. QUESTION NUMBERING: Edge cases and nested numbering rules
2. METADATA PATTERNS: Exact regex for filename parsing
3. DIAGRAM LINKING: Multiple diagrams per question handling
4. SUBPART DETECTION: Depth limits and marker patterns
5. ANSWER KEY HEURISTICS: Page detection algorithm details
6. CONFIDENCE CALCULATION: Score determination logic
7. COST FORMULA: Current Gemini pricing structure
8. AGENT SPECIFICS: Detailed method signatures and class hierarchy

================================================================================

Document Analysis Complete
Report saved to: DOCUMENTATION_ANALYSIS.md (detailed)
Summary saved to: ANALYSIS_SUMMARY.txt (this file)
</file>

<file path="DOCUMENTATION_ANALYSIS.md">
# Exam Extractor - Documentation Analysis Report
Generated: 2025-01-13

## Executive Summary

This analysis consolidates three key documentation files (FLOW.md, FLOW_OPTIMIZED.md, and JSON_EXAMPLES.md) to extract essential information that should be preserved in a new documentation structure.

---

## 1. WORKFLOWS & PROCESSES

### Overall Processing Pipeline (5 Phases)

1. **Phase 1: PDF Parsing**
   - Extract text from each page
   - Render pages as images (150 DPI)
   - Extract embedded images
   - Save page images to disk
   - Return List[PageContent]

2. **Phase 2: Metadata Detection**
   - Parse PDF filename for subject, year, grade level, exam type, school
   - Extract from first page
   - Return ExamMetadata object

3. **Phase 3: Extract Questions & Diagrams (OPTIMIZED)**
   - Single LLM call per page (vs 2 in original version)
   - Extract questions with subparts and marks
   - Detect diagram information (description, type, bounding boxes)
   - No separate diagram extraction call - embedded in question extraction
   - Return (List[Question], List[diagram_info])

4. **Phase 4: Extract Answer Keys (Optional)**
   - Detect answer key pages using heuristics
   - Extract answers per page
   - Link answers to questions by question number
   - Update Question.answer_key

5. **Phase 5: Build Final Result**
   - Calculate extraction metrics (tokens, cost, time, counts)
   - Create ExamPaper object
   - Save results as JSON
   - Print summary

### Entry Points

1. **CLI**: `python -m exam_extractor.main <pdf_path> [options]`
2. **Python API**: `ExamExtractor(api_key="...").extract("exam.pdf")`
3. **Direct Orchestrator**: `OrchestratorAgent(api_key="...").process_pdf("exam.pdf")`

### CLI Arguments

- `pdf_paths`: PDF file(s) to process
- `output`: Output directory
- `api-key`: Gemini API key
- `parallel`: Process multiple PDFs in parallel
- `no-diagrams`: Skip diagram extraction
- `no-answers`: Skip answer key extraction

---

## 2. SYSTEM ARCHITECTURE & DATA FLOW

### Agent Architecture

The system uses a multi-agent orchestration pattern:

```
OrchestratorAgent (main coordinator)
 PDFParserAgent (parse PDF structure)
 QuestionExtractorAgent (extract questions + diagram info)
 DiagramExtractorAgent (crop and save diagrams)
 AnswerKeyAgent (extract answer keys)
 CostTracker (track API usage)
 PipelineLogger (log processing events)
```

### Data Flow Overview

```
PDF File
  
[Phase 1: PDFParserAgent]
   PageContent[]
  
[Phase 2: Metadata Extraction]
   ExamMetadata
  
[Phase 3: Question & Diagram Extraction]
   (Question[], diagram_info[])
  
[Phase 3b: Diagram Cropping]
   Diagram[]
  
[Phase 3c: Linking]
   Question[] with Diagram[]
  
[Phase 4: Answer Key Extraction (Optional)]
   Question[] with AnswerKey[]
  
[Phase 5: Build Final Result]
   ExamPaper object
  
Output: JSON files + images + logs
```

### Key API Integration

- **Model**: `gemini-2.5-flash`
- **Temperature**: `0.1` (for consistent extraction)
- **Response Format**: `application/json` (structured output)
- **API Calls per PDF**:
  - Before optimization: 2 per page (questions + diagrams)
  - After optimization: 1 per page (combined) + optional answer extraction

### Optimization Strategy (FLOW_OPTIMIZED.md)

**Key Improvement**: Combine question and diagram extraction into single LLM call
- Reduces API calls by 50%
- Reduces tokens by ~50%
- Reduces cost by ~50%
- Same extraction quality

**Method**:
- LLM extracts both questions and diagram information in one call
- Diagram extraction becomes post-processing (no LLM cost)
- Diagram cropping done via PIL image manipulation

---

## 3. JSON SCHEMAS & DATA FORMATS

### Core Data Structures

#### PageContent
```python
page_number: int
text: str
image: Optional[Image.Image]  # PIL Image
image_path: Optional[str]
width: int
height: int
has_images: bool
embedded_images: List[dict]
```

#### Question
```python
id: str
question_number: Optional[str]
parent_question_id: Optional[str]
hierarchy_level: int  # 0 = main, 1+ = subparts
content: QuestionContent  # text, text_latex, text_html, segments
response_type: ResponseType  # Enum
response_config: Optional[ResponseConfig]  # For MCQ options, blanks, etc.
marks: Optional[int]
source: SourceInfo  # page_number, position_on_page, extraction_method
subparts: List[Question]  # Recursive
diagrams: List[Diagram]
answer_key: Optional[AnswerKey]
extraction_confidence: float  # 0.0-1.0
raw_text: str
```

#### Diagram
```python
id: str
type: DiagramType  # GRAPH, GEOMETRIC_FIGURE, CHART, TABLE, etc.
image_path: str
image_base64: str
alt_text: str
description: str
bounding_box: BoundingBox  # 0-100 percentage (x1, y1, x2, y2)
source_page: int
is_shared: bool
shared_with_questions: List[str]
extraction_confidence: float
```

#### AnswerKey
```python
question_number: str
answer: str
answer_type: str  # WORKING_AREA, MULTIPLE_CHOICE, etc.
working_steps: List[str]
marks_awarded: int
confidence: float
```

#### ExamMetadata
```python
source_file: str
subject: SubjectType  # MATHEMATICS, SCIENCE, PHYSICS, etc.
grade_level: str  # P1-P6, S1-S5
year: int
exam_type: str  # SA1, SA2, Prelim, etc.
school: str
total_pages: int
extraction_date: str  # ISO format
```

#### ExamPaper (Final Result)
```python
metadata: ExamMetadata
questions: List[Question]
extraction_metrics: ExtractionMetrics
```

#### ExtractionMetrics
```python
total_tokens_used: int
total_cost_usd: float
processing_time_seconds: float
pages_processed: int
questions_extracted: int
diagrams_extracted: int
agents_used: List[str]
errors: List[str]
```

### LLM Response Format (Question Extraction)

Input:
- Page image (PNG, base64 encoded)
- QUESTION_EXTRACTION_PROMPT

Output:
```json
{
  "questions": [
    {
      "question_number": "7",
      "question_text": "...",
      "question_text_latex": "...",
      "response_type": "WORKING_AREA",
      "marks": 8,
      "has_subparts": true,
      "subparts": [
        {
          "part_label": "a",
          "question_text": "...",
          "question_text_latex": "...",
          "response_type": "WORKING_AREA",
          "marks": 2
        }
      ],
      "diagrams": [
        {
          "diagram_description": "...",
          "diagram_type": "figure",
          "bounding_box": {
            "x_min": 50,
            "y_min": 200,
            "x_max": 300,
            "y_max": 400
          },
          "associated_question": "7"
        }
      ],
      "confidence": 0.95
    }
  ],
  "page_number": 1,
  "extraction_notes": "..."
}
```

### Response Types Enum

- `MULTIPLE_CHOICE` - Options A, B, C, D
- `SHORT_ANSWER` - Single word, number, or phrase
- `LONG_ANSWER` - Paragraph or essay
- `WORKING_AREA` - Mathematical working required
- `FILL_IN_BLANK` - Blanks to fill in
- `TRUE_FALSE` - True or false
- `MATCHING` - Matching pairs
- `DIAGRAM_LABEL` - Label parts of diagram

### Diagram Types Enum

- `GRAPH`
- `GEOMETRIC_FIGURE`
- `CHART`
- `ILLUSTRATION`
- `TABLE`
- `CIRCUIT`
- `MAP`
- `SCIENTIFIC`
- `DIAGRAM`

### Bounding Box Conversion

- **LLM Returns**: 0-1000 scale (0 = left/top, 1000 = right/bottom)
- **Stored As**: 0-100 percentage format
- **Conversion Formula**: `stored_value = llm_value / 10`
- **Pixel Conversion**:
  ```
  x_min_px = (x_min / 1000) * image_width
  y_min_px = (y_min / 1000) * image_height
  x_max_px = (x_max / 1000) * image_width
  y_max_px = (y_max / 1000) * image_height
  ```

---

## 4. KEY OPTIMIZATION STRATEGIES

### Optimization 1: Combined Question & Diagram Extraction

**Problem**: Making 2 LLM calls per page (questions + diagrams separately)
**Solution**: Single LLM call that extracts both in one go
**Impact**:
- 50% fewer API calls
- 50% fewer tokens
- 50% less cost
- Same extraction quality

**Implementation**:
1. Modified prompt to request both questions and diagram information
2. LLM returns both in single JSON response
3. Diagram cropping moved to post-processing (no LLM cost)

### Optimization 2: Fast Diagram Extraction

**Before**: LLM API call with bounding box detection
**After**: PIL image cropping based on LLM-provided bounding boxes
**Benefits**:
- No additional LLM calls
- Pure Python image processing (fast)
- Accurate bounding box conversion

### Optimization 3: Efficient Diagram Linking

**Before**: Distance calculation between diagram and question positions
**After**: Direct question_number matching from LLM response
**Benefits**:
- Eliminates spatial distance calculations
- Perfectly accurate linking
- Faster processing

---

## 5. KEY CONCEPTS & TERMINOLOGY

### Document Structure Hierarchy

1. **ExamPaper**: Top-level container
   - Contains metadata, questions, metrics

2. **Question**: Main question unit
   - `hierarchy_level = 0`
   - Can contain subparts

3. **Subpart**: Child question
   - `hierarchy_level = 1+`
   - Linked via `parent_question_id`
   - Example: Question 7, with subparts 7a, 7b, 7c

### Extraction Methods

- **llm_vision**: Extracted by LLM from page image
- **heuristic**: Detected using pattern matching
- **manual**: User-provided

### Position Tracking

- **position_on_page**: Relative position (top, middle, bottom)
- **source_page**: Page number in PDF
- **hierarchy_level**: Depth in question tree

### Confidence Metrics

- **extraction_confidence**: 0.0-1.0 range
  - Higher values = more certain extraction
  - Used for quality filtering

### Cost Tracking

- **tokens_used**: Total input + output tokens for API calls
- **cost_usd**: Estimated cost based on Gemini pricing
- **processing_time_seconds**: Wall-clock time for entire extraction

### Diagram Classification

Diagrams classified by type:
- **Geometric figures**: Mathematical/geometric diagrams
- **Graphs**: Charts, line/bar/scatter plots
- **Tables**: Data tables
- **Scientific**: Laboratory equipment, organisms, etc.
- **Illustrations**: General illustrations

### Question Response Configurations

**For MULTIPLE_CHOICE**:
```python
response_config: {
  "options": [
    {"label": "A", "text": "...", "is_correct": true/false},
    ...
  ]
}
```

**For FILL_IN_BLANK**:
```python
response_config: {
  "blanks": [
    {"position": 1, "answer": "..."},
    ...
  ]
}
```

**For MATCHING**:
```python
response_config: {
  "matching_pairs": [
    {"left": "...", "right": "..."},
    ...
  ]
}
```

---

## 6. OUTPUT STRUCTURE

### Directory Layout

```
output/
 pages/              # Rendered page images
    pdf_name_page_1.png
    pdf_name_page_2.png
    ...
 diagrams/          # Extracted diagram images
    page1_diag_xyz.png
    page1_diag_abc.png
    ...
 questions/         # Question JSON files
    pdf_name_extracted.json      # Complete exam paper
    pdf_name/
        q1.json
        q2.json
        ...
 logs/              # Cost and processing logs
     costs/
        pdf_name_costs.json
        ...
     pipeline/
         pdf_name_log.txt
         ...
```

### JSON Output Format

**Complete ExamPaper**: `{pdf_name}_extracted.json`
- Contains full metadata, all questions, all metrics
- Root object is ExamPaper

**Individual Questions**: `{pdf_name}/q{num}.json`
- Each question file contains single Question object
- Useful for streaming/incremental processing

---

## 7. ERROR HANDLING & LOGGING

### Error Tracking

- All errors logged to `ExtractionMetrics.errors`
- Pipeline continues on individual page failures
- Full exception traceback captured

### Cost Logging

- Every API call tracked via `CostTracker.log_usage()`
- Token counts (input/output) recorded
- Estimated cost calculated based on model pricing
- Summary saved to `output/logs/costs/`

### Agent Logging

- Each agent logs to PipelineLogger
- Events: start, completion, errors, metrics
- Saved to `output/logs/pipeline/`

---

## 8. CONFIGURATION POINTS

### Hardcoded Settings

- **Model Name**: `"gemini-2.5-flash"`
- **Temperature**: `0.1` (for consistent extraction)
- **Response Format**: `application/json`
- **Image DPI**: `150` (for page rendering)
- **Bounding Box Scale**: `0-1000` (from LLM)  `0-100%` (stored)

### Optional Flags

- `--no-diagrams`: Skip diagram extraction entirely
- `--no-answers`: Skip answer key extraction
- `--parallel`: Process multiple PDFs concurrently

---

## 9. ESSENTIAL INFORMATION TO PRESERVE

### Critical for New Documentation

1. **5-Phase Pipeline**: Core processing flow must be clearly documented
2. **Optimization Strategy**: Combined extraction approach is key innovation
3. **Data Models**: Complete definitions of Question, Diagram, AnswerKey, etc.
4. **JSON Schemas**: Both LLM input/output and stored object formats
5. **Bounding Box System**: Conversion formula and scale handling
6. **Hierarchy Model**: Parent-child relationship for questions and subparts
7. **Confidence Metrics**: How confidence scores are used
8. **Entry Points**: Multiple ways to invoke the system
9. **Error Handling**: Graceful degradation and error tracking
10. **Configuration**: Key settings and optional flags

### What Should Be Deprecated

- Reference to "original" 2-call-per-page approach (use optimized version)
- Detailed distance calculations for diagram linking (use direct matching)
- Old diagram extraction API calls (now post-processing only)

---

## 10. KNOWLEDGE GAPS & MISSING DETAILS

### Potential Questions to Address

1. **Question Numbering**: How are questions numbered in edge cases?
   - What happens with questions numbered as "Q1", "1", or "a", "b", "c"?
   - How are nested subparts named?

2. **Metadata Extraction**: What are the exact regex patterns for filename parsing?
   - How is subject detected (keywords, patterns)?
   - Grade level mapping (P1-P6, S1-S5, etc.)?
   - Exam type variations (SA1, SA2, Prelim, Mid-Year, etc.)?

3. **Diagram Linking**: How is the diagram matched to question?
   - Is it always by associated_question field?
   - What if multiple diagrams for same question?
   - What if diagram has no associated question?

4. **Subpart Detection**: How does LLM identify subparts?
   - What markers indicate subpart structure (a), b), i), ii), etc.)?
   - How deep can nesting go?

5. **Answer Key Detection**: What heuristics identify answer key pages?
   - Keyword matching? Layout patterns? Content analysis?

6. **Confidence Calculation**: How are confidence scores determined?
   - Is it from LLM response or post-extraction validation?

7. **Cost Calculation**: How are tokens converted to USD cost?
   - What are current Gemini pricing rates?

### Recommendations for Future Documentation

1. Create separate "Architecture" document with agent responsibilities
2. Create "API Reference" with detailed method signatures
3. Create "Configuration Guide" with all tunable parameters
4. Create "Troubleshooting Guide" for common extraction issues
5. Create "Integration Guide" for using as library vs CLI

---

## Summary

The three existing documentation files provide comprehensive coverage of:
- Complete execution flows (original and optimized versions)
- Detailed agent-by-agent breakdowns
- Complete JSON schema definitions
- Optimization strategies and benefits

The optimized version (50% cost reduction through combined extraction) is the current standard and should be the primary flow in new documentation. All five phases, the optimization approach, and the hierarchical data model are critical to preserve. The JSON schemas are well-defined and cover all major use cases (MCQ, working area, answers, diagrams, etc.).
</file>

<file path="EXTRACTED_INFORMATION.md">
# Extracted Information Summary
## Complete Reference for Documentation Reconstruction

---

## Section 1: WORKFLOWS & PROCESSES

### 1.1 Five-Phase Processing Pipeline

**Phase 1: PDF Parsing**
- Agent: PDFParserAgent
- Actions:
  - Open PDF with PyMuPDF
  - Extract text from each page (page.get_text())
  - Render each page as PIL Image
  - Extract embedded images from page
  - Save page image to disk (output/pages/)
  - Create PageContent objects
- Output: List[PageContent]
- DPI: 150

**Phase 2: Metadata Detection**
- Method: _extract_metadata(first_page, filename)
- Extraction from filename:
  - Subject (math, science, physics, chemistry, biology)
  - Year (regex: 20\d{2})
  - Grade level (P1-P6, S1-S5)
  - Exam type (SA1, SA2, Prelim, etc.)
  - School name
- Output: ExamMetadata

**Phase 3: Question & Diagram Extraction (OPTIMIZED)**
- Agent: QuestionExtractorAgent + DiagramExtractorAgent
- Optimization: Single LLM call per page (vs 2 before)

  **Step 3a: Extract Questions + Diagram Info**
  - Build extraction prompt (includes diagram detection)
  - Convert page image to Gemini format (base64)
  - Call Gemini API ONCE:
    - Input: prompt + image_parts
    - Temperature: 0.1
    - Response format: application/json
  - Parse JSON response for:
    - questions array (with subparts)
    - diagrams array (with bounding boxes)
  - Convert to Question objects
  - Track token usage and cost
  - Output: (List[Question], List[diagram_info])

  **Step 3b: Extract Diagram Images**
  - For each diagram_info:
    - Get bounding_box (0-1000 scale)
    - Convert to pixel coordinates
    - Apply 5px padding
    - Crop image using PIL
    - Save to output/diagrams/
    - Encode to base64
    - Create Diagram object
  - Output: List[Diagram]

  **Step 3c: Link Diagrams to Questions**
  - For each diagram:
    - Match by associated_question number
    - Assign to Question.diagrams list

**Phase 4: Extract Answer Keys (Optional)**
- Agent: AnswerKeyAgent
- Enabled by: --no-answers flag (default: enabled)

  **Step 4a: Detect Answer Key Pages**
  - Analyze each page content
  - Check for keywords: "Answer", "Key", etc.
  - Check formatting patterns
  - Use heuristics
  - Output: List[int] (page numbers)

  **Step 4b: Extract Answers**
  - For each answer page:
    - Build extraction prompt
    - Call Gemini API
    - Parse answer format (A, B, C, D, etc.)
    - Extract question numbers
    - Output: Dict[str, AnswerKey]

  **Step 4c: Link Answers to Questions**
  - For each question:
    - Match by question_number
    - Assign answer_key to Question.answer_key

**Phase 5: Build Final Result**
- Calculate extraction metrics:
  - total_tokens_used
  - total_cost_usd
  - processing_time_seconds
  - pages_processed
  - questions_extracted
  - diagrams_extracted
- Create ExamPaper object
- Save results:
  - output/questions/{pdf_name}_extracted.json (complete)
  - output/questions/{pdf_name}/q*.json (individual)
- Print summary to console

---

### 1.2 Entry Points

**CLI Entry**
```bash
python -m exam_extractor.main <pdf_path> [options]
```
Arguments:
- pdf_paths: One or more PDF files
- --output DIR: Output directory
- --api-key KEY: Gemini API key
- --parallel: Process multiple PDFs concurrently
- --no-diagrams: Skip diagram extraction
- --no-answers: Skip answer key extraction

**Python API Entry**
```python
from exam_extractor import ExamExtractor
extractor = ExamExtractor(api_key="...")
result = extractor.extract("exam.pdf")
```

**Direct Orchestrator Entry**
```python
from exam_extractor import OrchestratorAgent
orchestrator = OrchestratorAgent(api_key="...")
result = await orchestrator.process_pdf("exam.pdf")
```

---

## Section 2: SYSTEM ARCHITECTURE

### 2.1 Agent Architecture

```
OrchestratorAgent (main coordinator)
 PDFParserAgent
    Responsibility: Parse PDF structure, extract pages
 QuestionExtractorAgent
    Responsibility: Extract questions and diagram info via LLM
 DiagramExtractorAgent
    Responsibility: Crop and save diagrams (no LLM)
 AnswerKeyAgent
    Responsibility: Extract answer keys
 CostTracker
    Responsibility: Track API usage and cost
 PipelineLogger
     Responsibility: Log processing events
```

### 2.2 Data Flow

```
PDF File
   [Phase 1: PDFParserAgent]
PageContent[]
   [Phase 2: Metadata]
ExamMetadata
   [Phase 3a: Question Extraction]
(Question[], diagram_info[])
   [Phase 3b: Diagram Cropping]
Diagram[]
   [Phase 3c: Linking]
Question[] (with Diagram[])
   [Phase 4: Answer Keys (optional)]
Question[] (with AnswerKey[])
   [Phase 5: Build Result]
ExamPaper object
  
Output files + images + logs
```

### 2.3 Key Configuration

| Setting | Value | Notes |
|---------|-------|-------|
| Model | "gemini-2.5-flash" | Hardcoded |
| Temperature | 0.1 | For consistent extraction |
| Response Format | "application/json" | Structured output |
| Image DPI | 150 | Page rendering resolution |
| Bounding Box (LLM) | 0-1000 scale | From API response |
| Bounding Box (Storage) | 0-100 percentage | Stored format |

---

## Section 3: JSON SCHEMAS & DATA FORMATS

### 3.1 Core Data Types

#### PageContent
```python
page_number: int
text: str
image: Optional[Image.Image]
image_path: Optional[str]
width: int
height: int
has_images: bool
embedded_images: List[dict]
```

#### Question
```python
id: str
question_number: Optional[str]
parent_question_id: Optional[str]
hierarchy_level: int
content: QuestionContent
   text: str
   text_latex: str
   text_html: Optional[str]
   segments: List
response_type: ResponseType (enum)
response_config: Optional[ResponseConfig]
marks: Optional[int]
source: SourceInfo
   page_number: int
   position_on_page: str
   extraction_method: str
subparts: List[Question]
diagrams: List[Diagram]
answer_key: Optional[AnswerKey]
extraction_confidence: float
raw_text: str
```

#### Diagram
```python
id: str
type: DiagramType (enum)
image_path: str
image_base64: str
alt_text: str
description: str
bounding_box: BoundingBox
   x1: float (0-100)
   y1: float (0-100)
   x2: float (0-100)
   y2: float (0-100)
source_page: int
is_shared: bool
shared_with_questions: List[str]
extraction_confidence: float
```

#### AnswerKey
```python
question_number: str
answer: str
answer_type: str
working_steps: List[str]
marks_awarded: int
confidence: float
```

#### ExamMetadata
```python
source_file: str
subject: SubjectType
grade_level: str
year: int
exam_type: str
school: str
total_pages: int
extraction_date: str (ISO format)
```

#### ExamPaper
```python
metadata: ExamMetadata
questions: List[Question]
extraction_metrics: ExtractionMetrics
```

#### ExtractionMetrics
```python
total_tokens_used: int
total_cost_usd: float
processing_time_seconds: float
pages_processed: int
questions_extracted: int
diagrams_extracted: int
agents_used: List[str]
errors: List[str]
```

### 3.2 Enumerations

**ResponseType**
1. MULTIPLE_CHOICE
2. SHORT_ANSWER
3. LONG_ANSWER
4. WORKING_AREA
5. FILL_IN_BLANK
6. TRUE_FALSE
7. MATCHING
8. DIAGRAM_LABEL

**DiagramType**
1. GRAPH
2. GEOMETRIC_FIGURE
3. CHART
4. ILLUSTRATION
5. TABLE
6. CIRCUIT
7. MAP
8. SCIENTIFIC
9. DIAGRAM

**SubjectType**
1. MATHEMATICS
2. SCIENCE
3. PHYSICS
4. CHEMISTRY
5. BIOLOGY
6. OTHER

### 3.3 LLM Response Format

**Input to LLM**
- Page image (PNG, base64)
- QUESTION_EXTRACTION_PROMPT

**Output from LLM**
```json
{
  "questions": [
    {
      "question_number": "7",
      "question_text": "...",
      "question_text_latex": "...",
      "response_type": "WORKING_AREA",
      "marks": 8,
      "has_subparts": true,
      "subparts": [
        {
          "part_label": "a",
          "question_text": "...",
          "question_text_latex": "...",
          "response_type": "WORKING_AREA",
          "marks": 2
        }
      ],
      "diagrams": [
        {
          "diagram_description": "...",
          "diagram_type": "figure",
          "bounding_box": {
            "x_min": 50,
            "y_min": 200,
            "x_max": 300,
            "y_max": 400
          },
          "associated_question": "7"
        }
      ],
      "confidence": 0.95
    }
  ],
  "page_number": 1,
  "extraction_notes": "..."
}
```

### 3.4 Bounding Box Conversion

**Conversion Formula**
```
stored_value = llm_value / 10
```

**Example**
```
LLM Response:
  "bounding_box": {
    "x_min": 50,
    "y_min": 200,
    "x_max": 300,
    "y_max": 400
  }

Stored Format:
  "bounding_box": {
    "x1": 5.0,
    "y1": 20.0,
    "x2": 30.0,
    "y2": 40.0
  }
```

**Pixel Conversion**
```
x_min_px = (x_min / 1000) * image_width
y_min_px = (y_min / 1000) * image_height
x_max_px = (x_max / 1000) * image_width
y_max_px = (y_max / 1000) * image_height
```

---

## Section 4: OPTIMIZATION STRATEGIES

### 4.1 Optimization 1: Combined Extraction

**Problem**: 2 LLM calls per page (questions + diagrams)
**Solution**: Single LLM call for both
**Impact**: 
- 50% fewer API calls
- 50% fewer tokens
- 50% less cost
- Same quality

**Implementation**:
1. Modified prompt requests both questions and diagram info
2. LLM returns both in single JSON response
3. Diagram cropping moved to pure Python (no LLM)

### 4.2 Optimization 2: Fast Diagram Processing

**Before**: LLM call for bounding box detection
**After**: PIL image cropping from LLM-provided boxes
**Benefits**:
- No additional LLM calls
- Pure Python image processing
- Faster overall

### 4.3 Optimization 3: Efficient Linking

**Before**: Distance calculations between positions
**After**: Direct question_number matching
**Benefits**:
- Eliminates spatial calculations
- Perfectly accurate
- Faster

---

## Section 5: KEY CONCEPTS & TERMINOLOGY

### 5.1 Question Hierarchy

**Main Question**
- hierarchy_level: 0
- parent_question_id: null
- Example: "7"

**Subpart**
- hierarchy_level: 1+
- parent_question_id: q_7_abc123
- Example: "7a", "7b", "7c"

### 5.2 Extraction Methods

- **llm_vision**: Extracted by LLM from page image
- **heuristic**: Detected using pattern matching
- **manual**: User-provided

### 5.3 Position on Page

- **top**: Upper portion of page
- **middle**: Central portion
- **bottom**: Lower portion

### 5.4 Confidence Metrics

- Range: 0.0 to 1.0
- Interpretation: Higher = more confident
- Usage: Quality filtering

### 5.5 Diagram Classification

**By Type**
- Geometric diagrams: Mathematical/geometric
- Graphs: Charts, plots
- Tables: Data tables
- Scientific: Lab equipment, organisms
- Illustrations: General illustrations

**By Sharing**
- is_shared: bool (multiple questions)
- shared_with_questions: List[str] (question IDs)

---

## Section 6: OUTPUT STRUCTURE

### 6.1 Directory Layout

```
output/
 pages/                          # DPI 150
    pdf_name_page_1.png
    ...
 diagrams/                       # PNG + base64
    page1_diag_789xyz.png
    ...
 questions/                      # JSON
    pdf_name_extracted.json     # Complete ExamPaper
    pdf_name/
        q1.json                 # Individual Question
        ...
 logs/
     costs/
        pdf_name_costs.json     # Metrics
     pipeline/
         pdf_name_log.txt        # Events
```

### 6.2 JSON File Format

**Complete Result**: {pdf_name}_extracted.json
- Root: ExamPaper object
- Contains: metadata + all questions + metrics
- Size: Varies (typical: 1-10MB)

**Individual Questions**: {pdf_name}/q{num}.json
- Root: Question object
- Contains: Single question + subparts + diagrams
- Size: Varies (typical: 10-500KB)

---

## Section 7: ERROR HANDLING

### 7.1 Pipeline Resilience

- Errors logged to ExtractionMetrics.errors
- Pipeline continues on page failures
- Full traceback captured

### 7.2 Cost Logging

- CostTracker.log_usage() called per API request
- Token counts: input + output
- Cost calculated based on Gemini pricing
- Summary to output/logs/costs/

### 7.3 Agent Logging

- PipelineLogger records events
- Events: start, completion, errors, metrics
- Saved to output/logs/pipeline/

---

## Section 8: CONFIGURATION & FLAGS

### 8.1 Hardcoded Settings

Model: "gemini-2.5-flash"
Temperature: 0.1
Response format: "application/json"
Image DPI: 150
Bounding box scale: 0-1000 (LLM)  0-100% (storage)

### 8.2 Optional Flags

--no-diagrams: Skip diagram extraction
--no-answers: Skip answer key extraction
--parallel: Process multiple PDFs concurrently

---

## Section 9: METADATA EXTRACTION PATTERNS

### 9.1 Filename Parsing

Subject extraction: Keywords in filename
Year extraction: Regex 20\d{2}
Grade level: P1-P6 or S1-S5 in filename
Exam type: SA1, SA2, Prelim, etc.
School name: Remaining text

---

## Section 10: RESPONSE CONFIGURATIONS

### 10.1 Multiple Choice

```python
response_config: {
  "options": [
    {"label": "A", "text": "...", "is_correct": false},
    {"label": "B", "text": "...", "is_correct": true},
    ...
  ]
}
```

### 10.2 Fill in Blank

```python
response_config: {
  "blanks": [
    {"position": 1, "answer": "..."},
    {"position": 2, "answer": "..."},
    ...
  ]
}
```

### 10.3 Matching

```python
response_config: {
  "matching_pairs": [
    {"left": "...", "right": "..."},
    ...
  ]
}
```

---

## Summary

**Files Analyzed**: 3 (FLOW.md, FLOW_OPTIMIZED.md, JSON_EXAMPLES.md)
**Total Lines**: 1,222
**Sections Extracted**: 10 major sections
**Key Innovation**: 50% cost reduction through combined LLM calls
**Current Standard**: FLOW_OPTIMIZED.md

---
</file>

<file path="FLOW_OPTIMIZED.md">
# Exam Extractor - Optimized Code Flow Documentation

##  Execution Flow Overview (After Optimization)

```

                    MAIN ENTRY POINT                              
              exam_extractor/main.py                              

                              
                              

 1. Parse CLI Arguments                                          
    - pdf_paths: PDF file(s) to process                          
    - output: Output directory                                   
    - api-key: Gemini API key                                    
    - parallel: Process multiple PDFs in parallel                
    - no-diagrams: Skip diagram extraction                       
    - no-answers: Skip answer key extraction                     

                              
                              

 2. Initialize OrchestratorAgent                                 
    - Creates all sub-agents:                                    
       PDFParserAgent                                           
       QuestionExtractorAgent                                   
       DiagramExtractorAgent                                    
       AnswerKeyAgent                                           
    - Initializes CostTracker & PipelineLogger                   

                              
                              

 3. OrchestratorAgent.process_pdf()                              
     
     PHASE 1: Parse PDF                                        
       
     PDFParserAgent.parse(pdf_path)                           
        Open PDF with PyMuPDF                               
        For each page:                                      
           Extract text (page.get_text())                  
           Render page as image (PIL Image, 150 DPI)      
           Extract embedded images                         
           Save page image to output/pages/                
        Return List[PageContent]                           
     
                                                                
                                                                
     
     PHASE 2: Detect Metadata                                 
       
     _extract_metadata(first_page, filename)                  
        Parse filename for:                                 
           Subject (math, science, etc.)                   
           Year (regex: 20\d{2})                           
           Grade level (P1-P6, S1-S5)                     
           Exam type (SA1, SA2, Prelim, etc.)             
           School name                                     
        Return ExamMetadata                                 
     
                                                                
                                                                
     
     PHASE 3: Extract Questions & Diagrams (OPTIMIZED)      
       
     For each page in pages:                                  
                                                               
          
        3a. QuestionExtractorAgent.extract_questions()      
         SINGLE LLM CALL - Combined extraction            
            
           Build extraction prompt (with diagram req)     
           Prepare page image for Gemini                 
           Call Gemini API ONCE:                          
             model.generate_content_async(                  
               [prompt] + image_parts,                    
               response_mime_type="application/json"      
             )                                            
           Parse JSON response                           
           Extract questions:                            
              question_number, content, subparts        
              response_type, marks                      
              diagram_description (in question_text)     
           Extract diagram info:                         
              diagram_description                       
              diagram_type                              
              bounding_box (0-1000 scale)              
              associated_question                      
           Track token usage & cost                      
           Return (List[Question], List[diagram_info])   
          
                                                               
          
        3b. DiagramExtractorAgent.extract_diagrams_from_    
            info()  NO LLM CALL - Fast image cropping     
            
           For each diagram_info:                         
              Get bounding_box (0-1000 scale)          
              Convert to pixel coordinates             
                x = bbox.x_min / 1000 * img_width       
                y = bbox.y_min / 1000 * img_height      
              Crop diagram from page image             
              Save to output/diagrams/                 
              Convert to base64                        
              Create Diagram object                    
           Return List[Diagram]                         
          
                                                               
          
        3c. Link Diagrams to Questions                       
            
          diagram_extractor.link_diagrams_to_questions()   
           Match by question_number                      
           Update Question.diagrams                       
          
     
                                                                
                                                                
     
     PHASE 4: Extract Answer Keys (if enabled)                
       
     AnswerKeyAgent.detect_answer_key_pages(pages)            
        Analyze page content to find answer sections       
        Return List[int] (page numbers)                    
                                                               
     For each answer page:                                    
       AnswerKeyAgent.extract_answers(page)                   
          Call Gemini API to extract answers               
          Return Dict[str, AnswerKey]                      
                                                               
     AnswerKeyAgent.link_answers_to_questions()               
        Update Question.answer_key                          
     
                                                                
                                                                
     
     PHASE 5: Build Final Result                             
       
        Calculate extraction metrics:                      
           Total tokens used                                
           Total cost (USD)                                
           Processing time                                 
           Pages processed                                 
           Questions extracted                             
           Diagrams extracted                              
                                                              
        Create ExamPaper object:                           
           metadata: ExamMetadata                           
           questions: List[Question]                        
           extraction_metrics: ExtractionMetrics           
                                                              
        Save results:                                      
           JSON: output/questions/{pdf_name}_extracted.json 
           Individual: output/questions/{pdf_name}/q*.json 
                                                              
        Print summary                                      
     

                              
                              
                    Return ExamPaper object
```

##  Optimization Benefits

### Before Optimization:
- **Phase 3**: 2 LLM calls per page
  1. QuestionExtractor: Extract questions
  2. DiagramExtractor: Detect diagrams
- **Total**: ~2x API calls, ~2x tokens, ~2x cost

### After Optimization:
- **Phase 3**: 1 LLM call per page
  1. QuestionExtractor: Extract questions + detect diagrams (combined)
  2. DiagramExtractor: Extract images from bounding boxes (no LLM)
- **Total**: ~50% faster, ~50% cheaper, same quality

##  Detailed Agent Flows

### PDFParserAgent Flow
```python
parse(pdf_path) 
   Open PDF with PyMuPDF
   For each page:
       Extract text: page.get_text("text")
       Render image: page.get_pixmap(matrix)  PIL Image (150 DPI)
       Extract embedded images: page.get_images()
       Save page image to disk: output/pages/{pdf_name}_page_{num}.png
       Create PageContent object
   Return List[PageContent]
```

### QuestionExtractorAgent Flow (Optimized)
```python
extract_questions(page_content)
   Build prompt (includes diagram detection requirement)
   Convert page image to Gemini format
   Call Gemini API ONCE (async):
       Input: prompt + image
       Config: temperature=0.1, JSON response
   Parse JSON response:
       Extract questions array
       Extract diagrams array (from each question)
   Convert to Question objects:
       question_number, content (with diagram description)
       response_type, marks, subparts
   Extract diagram_info_list:
       description, type, bounding_box, associated_question
   Track costs
   Return (List[Question], List[diagram_info])
```

### DiagramExtractorAgent Flow (Optimized)
```python
extract_diagrams_from_info(diagram_info_list, page_content)
   For each diagram_info:
       Get bounding_box (0-1000 scale)
       Convert to pixels:
          x_min = bbox.x_min / 1000 * img_width
          y_min = bbox.y_min / 1000 * img_height
          x_max = bbox.x_max / 1000 * img_width
          y_max = bbox.y_max / 1000 * img_height
       Add padding (5px)
       Crop diagram: page_image.crop((x_min, y_min, x_max, y_max))
       Save to: output/diagrams/page{num}_diag_{id}.png
       Convert to base64
       Create Diagram object
   Return List[Diagram]

link_diagrams_to_questions(diagrams, questions, page_num)
   For each diagram:
       Match by associated_question number
       Assign to Question.diagrams
```

### AnswerKeyAgent Flow
```python
detect_answer_key_pages(pages)
   Analyze each page:
       Check for keywords ("Answer", "Key", etc.)
       Check formatting patterns
       Use heuristics
   Return List[int] (page numbers)

extract_answers(page)
   Build extraction prompt
   Call Gemini API (async)
   Parse answer format
   Extract question numbers
   Return Dict[str, AnswerKey]

link_answers_to_questions(questions, answers)
   For each question:
       Match by question_number
       Assign answer_key
```

##  Data Structures

### PageContent
```python
@dataclass
class PageContent:
    page_number: int
    text: str
    image: Optional[Image.Image]  # PIL Image
    image_path: Optional[str]
    width: int
    height: int
    has_images: bool
    embedded_images: List[dict]
```

### Question
```python
@dataclass
class Question:
    question_number: Optional[str]
    content: QuestionContent  # text, text_latex, text_html
    response_type: ResponseType
    marks: Optional[int]
    subparts: List[Question]  # Recursive
    diagrams: List[Diagram]  # Linked diagrams
    answer_key: Optional[AnswerKey]
    hierarchy_level: int = 0
```

### Diagram
```python
@dataclass
class Diagram:
    id: str
    type: DiagramType  # GRAPH, TABLE, FIGURE, etc.
    image_path: str
    image_base64: str
    alt_text: str
    description: str
    bounding_box: BoundingBox  # 0-100 percentage
    source_page: int
    is_shared: bool
    shared_with_questions: List[str]
    extraction_confidence: float
```

### ExamPaper
```python
@dataclass
class ExamPaper:
    metadata: ExamMetadata
    questions: List[Question]
    extraction_metrics: ExtractionMetrics
```

##  Key Configuration Points

1. **Model Name**: `"gemini-2.5-flash"` (hardcoded in each agent)
2. **Temperature**: `0.1` (for consistent extraction)
3. **Response Format**: `application/json` (structured output)
4. **Image DPI**: `150` (for page rendering)
5. **Bounding Box Scale**: `0-1000` (from LLM)  `0-100%` (stored)
6. **Output Directories**:
   - `output/pages/` - Page images
   - `output/diagrams/` - Extracted diagrams
   - `output/questions/` - JSON results
   - `output/logs/` - Cost and agent logs

##  Entry Points

### CLI (main.py)
```bash
python -m exam_extractor.main <pdf_path> [options]
```

### Python API
```python
from exam_extractor import ExamExtractor

extractor = ExamExtractor(api_key="...")
result = extractor.extract("exam.pdf")
```

### Direct Orchestrator
```python
from exam_extractor import OrchestratorAgent

orchestrator = OrchestratorAgent(api_key="...")
result = await orchestrator.process_pdf("exam.pdf")
```
</file>

<file path="FLOW.md">
# Exam Extractor - Code Flow Documentation

##  Execution Flow Overview

```

                    MAIN ENTRY POINT                              
              exam_extractor/main.py                              

                              
                              

 1. Parse CLI Arguments                                          
    - pdf_paths: PDF file(s) to process                          
    - output: Output directory                                   
    - api-key: Gemini API key                                    
    - parallel: Process multiple PDFs in parallel                
    - no-diagrams: Skip diagram extraction                       
    - no-answers: Skip answer key extraction                     

                              
                              

 2. Initialize OrchestratorAgent                                 
    - Creates all sub-agents:                                    
       PDFParserAgent                                           
       QuestionExtractorAgent                                   
       DiagramExtractorAgent                                    
       AnswerKeyAgent                                           
    - Initializes CostTracker & PipelineLogger                   

                              
                              

 3. OrchestratorAgent.process_pdf()                         
     
     PHASE 1: Parse PDF                                        
       
     PDFParserAgent.parse(pdf_path)                           
        Open PDF with PyMuPDF                               
        For each page:                                      
           Extract text (page.get_text())                  
           Render page as image (PIL Image)                
           Extract embedded images                         
           Save page image to output/pages/                
        Return List[PageContent]                           
     
                                                                
                                                                
     
     PHASE 2: Detect Metadata                                 
       
     _extract_metadata(first_page, filename)                  
        Parse filename for:                                 
           Subject (math, science, etc.)                   
           Year (regex: 20\d{2})                           
           Grade level (P1-P6, S1-S5)                     
           Exam type (SA1, SA2, Prelim, etc.)             
           School name                                     
        Return ExamMetadata                                 
     
                                                                
                                                                
     
     PHASE 3: Extract Questions & Diagrams                   
       
     For each page in pages:                                  
                                                               
          
        3a. QuestionExtractorAgent.extract_questions()     
            
           Build extraction prompt                       
           Prepare page image for Gemini                 
           Call Gemini API:                              
             model.generate_content_async(                
               [prompt] + image_parts,                    
               response_mime_type="application/json"      
             )                                            
           Parse JSON response                           
           Convert to Question objects                   
              Extract question number                    
              Extract content (text, LaTeX)              
              Extract response type                      
              Extract marks                              
              Extract subparts (recursive)               
           Track token usage & cost                      
           Return List[Question]                         
          
                                                               
          
        3b. DiagramExtractorAgent.extract_diagrams()         
            
           Call Gemini API with bounding box detection   
             model.generate_content_async(                
               prompt + image,                             
               response_mime_type="application/json"      
             )                                            
           Parse bounding boxes (0-1000 scale)           
           Convert to pixel coordinates                  
           Crop diagram images from page                 
           Save to output/diagrams/                     
           Classify diagram type                         
             (graph, table, diagram, formula, etc.)       
           Return List[Diagram]                          
          
                                                               
          
        3c. Link Diagrams to Questions                       
            
          diagram_extractor.link_diagrams_to_questions()   
           For each diagram:                             
              Find nearest question by position         
              Assign diagram to question                
           Update Question.diagrams                       
          
     
                                                                
                                                                
     
     PHASE 4: Extract Answer Keys (if enabled)                
       
     AnswerKeyAgent.detect_answer_key_pages(pages)            
        Analyze page content to find answer sections       
        Use heuristics (keywords, formatting)              
        Return List[int] (page numbers)                    
                                                               
     For each answer page:                                    
       AnswerKeyAgent.extract_answers(page)                   
          Call Gemini API to extract answers               
          Parse answer format (A, B, C, D, etc.)           
          Extract question numbers                         
          Return Dict[str, AnswerKey]                      
                                                               
     AnswerKeyAgent.link_answers_to_questions()               
        Match answer keys to questions by number          
        Update Question.answer_key                         
     
                                                                
                                                                
     
     PHASE 5: Build Final Result                             
       
        Calculate extraction metrics:                      
           Total tokens used                                
           Total cost (USD)                                
           Processing time                                 
           Pages processed                                 
           Questions extracted                             
           Diagrams extracted                              
                                                              
        Create ExamPaper object:                           
           metadata: ExamMetadata                           
           questions: List[Question]                        
           extraction_metrics: ExtractionMetrics           
                                                              
        Save results:                                      
           JSON: output/questions/{pdf_name}_extracted.json 
           Individual: output/questions/{pdf_name}/q*.json 
                                                              
        Print summary                                      
     

                              
                              
                    Return ExamPaper object
```

##  Detailed Agent Flows

### PDFParserAgent Flow
```python
parse(pdf_path) 
   Open PDF with PyMuPDF
   For each page:
       Extract text: page.get_text("text")
       Render image: page.get_pixmap()  PIL Image
       Extract embedded images: page.get_images()
       Save page image to disk
       Create PageContent object
   Return List[PageContent]
```

### QuestionExtractorAgent Flow
```python
extract_questions(page_content)
   Build prompt with instructions
   Convert page image to Gemini format
   Call Gemini API (async):
       Input: prompt + image
       Config: temperature=0.1, JSON response
   Parse JSON response
   Convert to Question objects:
       Extract question_number
       Extract content (text, LaTeX)
       Extract response_type
       Extract marks
       Extract subparts (recursive)
   Track costs
   Return List[Question]
```

### DiagramExtractorAgent Flow
```python
extract_diagrams(page_content)
   Build prompt for bounding box detection
   Call Gemini API (async):
       Input: prompt + page image
       Config: JSON response with bounding boxes
   Parse bounding boxes (0-1000 scale)
   Convert to pixel coordinates
   Crop diagram images from page
   Save to output/diagrams/
   Classify diagram type
   Return List[Diagram]

link_diagrams_to_questions(diagrams, questions, page_num)
   For each diagram:
       Find nearest question by position
       Calculate distance
       Assign diagram to question
   Update Question.diagrams
```

### AnswerKeyAgent Flow
```python
detect_answer_key_pages(pages)
   Analyze each page:
       Check for keywords ("Answer", "Key", etc.)
       Check formatting patterns
       Use heuristics
   Return List[int] (page numbers)

extract_answers(page)
   Build extraction prompt
   Call Gemini API (async)
   Parse answer format
   Extract question numbers
   Return Dict[str, AnswerKey]

link_answers_to_questions(questions, answers)
   For each question:
       Match by question_number
       Assign answer_key
   Update Question.answer_key
```

##  Data Structures

### PageContent
```python
@dataclass
class PageContent:
    page_number: int
    text: str
    image: Optional[Image.Image]
    image_path: Optional[str]
    width: int
    height: int
    has_images: bool
    embedded_images: List[dict]
```

### Question
```python
@dataclass
class Question:
    question_number: Optional[str]
    content: QuestionContent
    response_type: ResponseType
    marks: Optional[int]
    subparts: List[Question]  # Recursive
    diagrams: List[Diagram]
    answer_key: Optional[AnswerKey]
    hierarchy_level: int = 0
```

### ExamPaper
```python
@dataclass
class ExamPaper:
    metadata: ExamMetadata
    questions: List[Question]
    extraction_metrics: ExtractionMetrics
```

##  Key Configuration Points

1. **Model Name**: `"gemini-2.5-flash"` (hardcoded in each agent)
2. **Temperature**: `0.1` (for consistent extraction)
3. **Response Format**: `application/json` (structured output)
4. **Image DPI**: `150` (for page rendering)
5. **Output Directories**:
   - `output/pages/` - Page images
   - `output/diagrams/` - Extracted diagrams
   - `output/questions/` - JSON results
   - `output/logs/` - Cost and agent logs

##  Entry Points

### CLI (main.py)
```bash
python -m exam_extractor.main <pdf_path> [options]
```

### Python API
```python
from exam_extractor import ExamExtractor

extractor = ExamExtractor(api_key="...")
result = extractor.extract("exam.pdf")
```

### Direct Orchestrator
```python
from exam_extractor import OrchestratorAgent

orchestrator = OrchestratorAgent(api_key="...")
result = await orchestrator.process_pdf("exam.pdf")
```

##  Error Handling

- All agents log errors to `CostTracker`
- Pipeline continues on individual page failures
- Errors tracked in `ExtractionMetrics.errors`
- Full exception traceback logged

##  Cost Tracking

- Every API call tracked via `CostTracker.log_usage()`
- Token counts (input/output) recorded
- Cost calculated based on model pricing
- Summary saved to `output/logs/costs/`
</file>

<file path="JSON_EXAMPLES.md">
# Exam Extractor - JSON Structure Examples

##  Overview

This document shows example JSON structures for all data models used in the exam extractor.

---

## 1. LLM Response Format (Question Extraction)

### Input to LLM:
- Page image (PNG, base64 encoded)
- Prompt: `QUESTION_EXTRACTION_PROMPT`

### Output from LLM:
```json
{
  "questions": [
    {
      "question_number": "7",
      "question_text": "A rectangle has length (2x + 3) cm and width (x - 1) cm. [Diagram: A rectangle is shown with labeled sides - length (2x + 3) cm and width (x - 1) cm]",
      "question_text_latex": "A rectangle has length $(2x + 3)$ cm and width $(x - 1)$ cm.",
      "response_type": "WORKING_AREA",
      "marks": 8,
      "has_subparts": true,
      "subparts": [
        {
          "part_label": "a",
          "question_text": "Write an expression for the perimeter of the rectangle.",
          "question_text_latex": "Write an expression for the perimeter of the rectangle.",
          "response_type": "WORKING_AREA",
          "marks": 2
        },
        {
          "part_label": "b",
          "question_text": "If the perimeter is 34 cm, find the value of x.",
          "question_text_latex": "If the perimeter is 34 cm, find the value of $x$.",
          "response_type": "WORKING_AREA",
          "marks": 3
        }
      ],
      "diagrams": [
        {
          "diagram_description": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side. The sides are clearly labeled with the algebraic expressions.",
          "diagram_type": "figure",
          "bounding_box": {
            "x_min": 50,
            "y_min": 200,
            "x_max": 300,
            "y_max": 400
          },
          "associated_question": "7"
        }
      ],
      "confidence": 0.95
    },
    {
      "question_number": "8",
      "question_text": "The graph shows the relationship between temperature and time. [Diagram: A line graph with temperature on y-axis (0-100C) and time on x-axis (0-60 minutes). The line starts at 20C and increases steadily to 80C]",
      "question_text_latex": "The graph shows the relationship between temperature and time.",
      "response_type": "SHORT_ANSWER",
      "marks": 2,
      "has_subparts": false,
      "diagrams": [
        {
          "diagram_description": "A line graph plotting temperature against time. Y-axis: temperature (0-100C), X-axis: time (0-60 minutes). The line starts at (0, 20) and increases linearly to (60, 80).",
          "diagram_type": "graph",
          "bounding_box": {
            "x_min": 350,
            "y_min": 150,
            "x_max": 550,
            "y_max": 450
          },
          "associated_question": "8"
        }
      ],
      "confidence": 0.92
    }
  ],
  "page_number": 1,
  "extraction_notes": "All questions extracted successfully. Diagrams detected and described."
}
```

### Key Points:
- **bounding_box**: Uses 0-1000 scale (0 = left/top, 1000 = right/bottom)
- **diagram_description**: Detailed text description included in question_text
- **diagrams array**: Contains diagram info for each question that has one

---

## 2. Question Object (Python  JSON)

```json
{
  "id": "q_7_abc123",
  "question_number": "7",
  "parent_question_id": null,
  "hierarchy_level": 0,
  "content": {
    "text": "A rectangle has length (2x + 3) cm and width (x - 1) cm. [Diagram: A rectangle is shown with labeled sides]",
    "text_latex": "A rectangle has length $(2x + 3)$ cm and width $(x - 1)$ cm.",
    "text_html": null,
    "segments": []
  },
  "response_type": "WORKING_AREA",
  "response_config": null,
  "marks": 8,
  "source": {
    "page_number": 1,
    "position_on_page": "top",
    "extraction_method": "llm_vision"
  },
  "subparts": [
    {
      "id": "q_7a_def456",
      "question_number": "7a",
      "parent_question_id": "q_7_abc123",
      "hierarchy_level": 1,
      "content": {
        "text": "Write an expression for the perimeter of the rectangle.",
        "text_latex": "Write an expression for the perimeter of the rectangle.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "response_config": null,
      "marks": 2,
      "source": {
        "page_number": 1,
        "position_on_page": "middle",
        "extraction_method": "llm_vision"
      },
      "subparts": [],
      "diagrams": [],
      "answer_key": null,
      "extraction_confidence": 0.95,
      "raw_text": "Write an expression for the perimeter of the rectangle."
    }
  ],
  "diagrams": [
    {
      "id": "diag_789xyz",
      "type": "GEOMETRIC_FIGURE",
      "image_path": "output/diagrams/page1_diag_789xyz.png",
      "image_base64": "iVBORw0KGgoAAAANSUhEUgAA...",
      "alt_text": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side.",
      "description": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side. The sides are clearly labeled with the algebraic expressions.",
      "bounding_box": {
        "x1": 5.0,
        "y1": 20.0,
        "x2": 30.0,
        "y2": 40.0
      },
      "source_page": 1,
      "is_shared": false,
      "shared_with_questions": [],
      "extraction_confidence": 0.9
    }
  ],
  "answer_key": {
    "question_number": "7",
    "answer": "x = 3",
    "answer_type": "WORKING_AREA",
    "working_steps": [
      "Perimeter = 2(2x + 3) + 2(x - 1)",
      "Perimeter = 4x + 6 + 2x - 2",
      "Perimeter = 6x + 4",
      "34 = 6x + 4",
      "30 = 6x",
      "x = 5"
    ],
    "marks_awarded": 8,
    "confidence": 0.85
  },
  "extraction_confidence": 0.95,
  "raw_text": "A rectangle has length (2x + 3) cm and width (x - 1) cm."
}
```

---

## 3. Diagram Object

```json
{
  "id": "diag_789xyz",
  "type": "GEOMETRIC_FIGURE",
  "image_path": "output/diagrams/page1_diag_789xyz.png",
  "image_base64": "iVBORw0KGgoAAAANSUhEUgAA...",
  "alt_text": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side.",
  "description": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side. The sides are clearly labeled with the algebraic expressions.",
  "bounding_box": {
    "x1": 5.0,
    "y1": 20.0,
    "x2": 30.0,
    "y2": 40.0
  },
  "source_page": 1,
  "is_shared": false,
  "shared_with_questions": [],
  "extraction_confidence": 0.9
}
```

### Diagram Types:
- `GRAPH`
- `GEOMETRIC_FIGURE`
- `CHART`
- `ILLUSTRATION`
- `TABLE`
- `CIRCUIT`
- `MAP`
- `SCIENTIFIC`
- `DIAGRAM`

### Bounding Box:
- **Format**: Percentage (0-100)
- **x1, y1**: Top-left corner
- **x2, y2**: Bottom-right corner

---

## 4. Answer Key Object

```json
{
  "question_number": "7",
  "answer": "x = 5",
  "answer_type": "WORKING_AREA",
  "working_steps": [
    "Perimeter = 2(2x + 3) + 2(x - 1)",
    "Perimeter = 4x + 6 + 2x - 2",
    "Perimeter = 6x + 4",
    "34 = 6x + 4",
    "30 = 6x",
    "x = 5"
  ],
  "marks_awarded": 8,
  "confidence": 0.85
}
```

### MCQ Answer Example:
```json
{
  "question_number": "1",
  "answer": "B",
  "answer_type": "MULTIPLE_CHOICE",
  "working_steps": [],
  "marks_awarded": 1,
  "confidence": 0.95
}
```

---

## 5. ExamMetadata Object

```json
{
  "source_file": "P5_Maths_2023_SA2_acsprimary.pdf",
  "subject": "MATHEMATICS",
  "grade_level": "P5",
  "year": 2023,
  "exam_type": "SA2",
  "school": "acsprimary",
  "total_pages": 36,
  "extraction_date": "2025-01-13T17:30:00Z"
}
```

### Subject Types:
- `MATHEMATICS`
- `SCIENCE`
- `PHYSICS`
- `CHEMISTRY`
- `BIOLOGY`
- `OTHER`

---

## 6. ExtractionMetrics Object

```json
{
  "total_tokens_used": 83386,
  "total_cost_usd": 0.0114,
  "processing_time_seconds": 45.3,
  "pages_processed": 36,
  "questions_extracted": 50,
  "diagrams_extracted": 33,
  "agents_used": [
    "PDFParser",
    "QuestionExtractor",
    "DiagramExtractor",
    "AnswerKeyAgent"
  ],
  "errors": []
}
```

---

## 7. Complete ExamPaper Object

```json
{
  "metadata": {
    "source_file": "P5_Maths_2023_SA2_acsprimary.pdf",
    "subject": "MATHEMATICS",
    "grade_level": "P5",
    "year": 2023,
    "exam_type": "SA2",
    "school": "acsprimary",
    "total_pages": 36,
    "extraction_date": "2025-01-13T17:30:00Z"
  },
  "questions": [
    {
      "id": "q_7_abc123",
      "question_number": "7",
      "content": {
        "text": "A rectangle has length (2x + 3) cm and width (x - 1) cm. [Diagram: A rectangle is shown with labeled sides]",
        "text_latex": "A rectangle has length $(2x + 3)$ cm and width $(x - 1)$ cm.",
        "text_html": null,
        "segments": []
      },
      "response_type": "WORKING_AREA",
      "marks": 8,
      "subparts": [
        {
          "id": "q_7a_def456",
          "question_number": "7a",
          "content": {
            "text": "Write an expression for the perimeter of the rectangle.",
            "text_latex": "Write an expression for the perimeter of the rectangle.",
            "text_html": null,
            "segments": []
          },
          "response_type": "WORKING_AREA",
          "marks": 2,
          "subparts": [],
          "diagrams": [],
          "answer_key": null,
          "extraction_confidence": 0.95
        }
      ],
      "diagrams": [
        {
          "id": "diag_789xyz",
          "type": "GEOMETRIC_FIGURE",
          "image_path": "output/diagrams/page1_diag_789xyz.png",
          "image_base64": "iVBORw0KGgoAAAANSUhEUgAA...",
          "alt_text": "A rectangle diagram",
          "description": "A rectangle diagram showing length (2x + 3) cm and width (x - 1) cm.",
          "bounding_box": {
            "x1": 5.0,
            "y1": 20.0,
            "x2": 30.0,
            "y2": 40.0
          },
          "source_page": 1,
          "is_shared": false,
          "shared_with_questions": [],
          "extraction_confidence": 0.9
        }
      ],
      "answer_key": {
        "question_number": "7",
        "answer": "x = 5",
        "answer_type": "WORKING_AREA",
        "working_steps": [
          "Perimeter = 2(2x + 3) + 2(x - 1)",
          "Perimeter = 4x + 6 + 2x - 2",
          "Perimeter = 6x + 4",
          "34 = 6x + 4",
          "30 = 6x",
          "x = 5"
        ],
        "marks_awarded": 8,
        "confidence": 0.85
      },
      "extraction_confidence": 0.95
    }
  ],
  "extraction_metrics": {
    "total_tokens_used": 83386,
    "total_cost_usd": 0.0114,
    "processing_time_seconds": 45.3,
    "pages_processed": 36,
    "questions_extracted": 50,
    "diagrams_extracted": 33,
    "agents_used": [
      "PDFParser",
      "QuestionExtractor",
      "DiagramExtractor",
      "AnswerKeyAgent"
    ],
    "errors": []
  }
}
```

---

## 8. MCQ Question Example

```json
{
  "id": "q_1_xyz789",
  "question_number": "1",
  "content": {
    "text": "What is 2 + 2?",
    "text_latex": "What is $2 + 2$?",
    "text_html": null,
    "segments": []
  },
  "response_type": "MULTIPLE_CHOICE",
  "response_config": {
    "options": [
      {
        "label": "A",
        "text": "3",
        "is_correct": false
      },
      {
        "label": "B",
        "text": "4",
        "is_correct": true
      },
      {
        "label": "C",
        "text": "5",
        "is_correct": false
      },
      {
        "label": "D",
        "text": "6",
        "is_correct": false
      }
    ],
    "blanks": [],
    "word_limit": null,
    "show_working": false,
    "matching_pairs": []
  },
  "marks": 1,
  "subparts": [],
  "diagrams": [],
  "answer_key": {
    "question_number": "1",
    "answer": "B",
    "answer_type": "MULTIPLE_CHOICE",
    "working_steps": [],
    "marks_awarded": 1,
    "confidence": 0.95
  },
  "extraction_confidence": 0.98
}
```

---

## 9. Diagram Info (Internal Structure)

This is the structure returned from `QuestionExtractor._extract_diagram_info()`:

```json
[
  {
    "question_number": "7",
    "description": "A rectangle diagram showing length (2x + 3) cm on the longer side and width (x - 1) cm on the shorter side. The sides are clearly labeled with the algebraic expressions.",
    "diagram_type": "figure",
    "bounding_box": {
      "x_min": 50,
      "y_min": 200,
      "x_max": 300,
      "y_max": 400
    },
    "page_number": 1,
    "associated_question": "7"
  }
]
```

### Key Points:
- **bounding_box**: Uses 0-1000 scale (from LLM)
- **diagram_type**: String (will be mapped to DiagramType enum)
- **description**: Full text description from LLM

---

## 10. Response Types

```json
{
  "MULTIPLE_CHOICE": "Has options A, B, C, D",
  "SHORT_ANSWER": "Single word, number, or phrase",
  "LONG_ANSWER": "Paragraph or essay response",
  "WORKING_AREA": "Mathematical working required (show steps)",
  "FILL_IN_BLANK": "Blanks to fill in",
  "TRUE_FALSE": "True or false question",
  "MATCHING": "Matching pairs",
  "DIAGRAM_LABEL": "Label parts of a diagram"
}
```

---

##  Notes

1. **Bounding Box Conversion**:
   - LLM returns: `0-1000` scale
   - Stored as: `0-100` percentage
   - Conversion: `stored = llm_value / 10`

2. **Image Storage**:
   - Diagrams saved as PNG files
   - Base64 encoded in JSON for portability
   - Path: `output/diagrams/page{num}_diag_{id}.png`

3. **Question Text**:
   - Includes diagram description in natural language
   - Makes content self-contained (no need to reference images)

4. **Hierarchy**:
   - Main questions: `hierarchy_level = 0`
   - Subparts: `hierarchy_level = 1, 2, ...`
   - Parent-child relationship via `parent_question_id`

5. **Confidence Scores**:
   - `0.0 - 1.0` range
   - Higher = more confident extraction
   - Used for quality filtering
</file>

<file path="main.py">
#!/usr/bin/env python3
"""
Growtrics Exam Extractor - CLI Entry Point

Usage:
    python -m exam_extractor.main <pdf_path> [options]

Examples:
    python -m exam_extractor.main sample_pdf/P5_Maths_2023_SA2_acsprimary.pdf
    python -m exam_extractor.main sample_pdf/*.pdf --parallel
"""

import argparse
import asyncio
import logging
import os
import sys
from pathlib import Path
from typing import List
from dotenv import load_dotenv

# Load environment variables from .env file
load_dotenv()

# Add parent directory to path for imports
sys.path.insert(0, str(Path(__file__).parent.parent))

from exam_extractor import ExamExtractor, OrchestratorAgent


def setup_logging(verbose: bool = False) -> None:
    """Configure logging."""
    level = logging.DEBUG if verbose else logging.INFO
    logging.basicConfig(
        level=level,
        format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
        datefmt="%H:%M:%S"
    )
    # Reduce noise from libraries
    logging.getLogger("httpx").setLevel(logging.WARNING)
    logging.getLogger("httpcore").setLevel(logging.WARNING)


def print_banner() -> None:
    """Print application banner."""
    print("""

       GROWTRICS EXAM QUESTION EXTRACTOR                   
       Multi-Agent System for PDF Extraction               

    """)


def get_pdf_files(paths: List[str]) -> List[Path]:
    """Get list of PDF files from paths (supports glob patterns)."""
    pdf_files = []
    for path_str in paths:
        path = Path(path_str)
        if path.is_file() and path.suffix.lower() == '.pdf':
            pdf_files.append(path)
        elif path.is_dir():
            pdf_files.extend(path.glob("*.pdf"))
        elif '*' in path_str:
            # Handle glob patterns
            parent = path.parent
            pattern = path.name
            pdf_files.extend(parent.glob(pattern))
    return pdf_files


async def process_pdfs(
    pdf_files: List[Path],
    output_dir: str,
    api_key: str,
    parallel: bool = False,
    extract_diagrams: bool = True,
    extract_answers: bool = True
) -> None:
    """Process PDF files."""
    orchestrator = OrchestratorAgent(
        output_dir=output_dir,
        api_key=api_key
    )

    if parallel and len(pdf_files) > 1:
        print(f"\nProcessing {len(pdf_files)} PDFs in parallel...")
        results = await orchestrator.process_multiple_pdfs(
            [str(p) for p in pdf_files],
            parallel=True
        )
        print(f"\nCompleted {len(results)} PDFs successfully")
    else:
        for pdf_file in pdf_files:
            print(f"\n{'='*60}")
            print(f"Processing: {pdf_file.name}")
            print('='*60)

            try:
                result = await orchestrator.process_pdf(
                    str(pdf_file),
                    extract_diagrams=extract_diagrams,
                    extract_answers=extract_answers
                )
                print(f"\nExtracted {len(result.questions)} questions")
            except Exception as e:
                logging.error(f"Failed to process {pdf_file.name}: {e}")


def main():
    """Main entry point."""
    parser = argparse.ArgumentParser(
        description="Extract structured questions from exam PDFs",
        formatter_class=argparse.RawDescriptionHelpFormatter,
        epilog="""
Examples:
  %(prog)s exam.pdf
  %(prog)s *.pdf --parallel
  %(prog)s exam.pdf --no-diagrams --output results/
        """
    )

    parser.add_argument(
        "pdf_paths",
        nargs="+",
        help="PDF file(s) to process (supports glob patterns)"
    )

    parser.add_argument(
        "-o", "--output",
        default="output",
        help="Output directory (default: output)"
    )

    parser.add_argument(
        "-k", "--api-key",
        default=os.environ.get("GEMINI_API_KEY"),
        help="Gemini API key (or set GEMINI_API_KEY env var)"
    )

    parser.add_argument(
        "--parallel",
        action="store_true",
        help="Process multiple PDFs in parallel"
    )

    parser.add_argument(
        "--no-diagrams",
        action="store_true",
        help="Skip diagram extraction"
    )

    parser.add_argument(
        "--no-answers",
        action="store_true",
        help="Skip answer key extraction"
    )

    parser.add_argument(
        "-v", "--verbose",
        action="store_true",
        help="Verbose output"
    )

    args = parser.parse_args()

    # Setup
    setup_logging(args.verbose)
    print_banner()

    # Validate API key
    if not args.api_key:
        print("Error: Gemini API key required. Set GEMINI_API_KEY or use --api-key")
        sys.exit(1)

    # Get PDF files
    pdf_files = get_pdf_files(args.pdf_paths)
    if not pdf_files:
        print(f"Error: No PDF files found in {args.pdf_paths}")
        sys.exit(1)

    print(f"Found {len(pdf_files)} PDF file(s):")
    for f in pdf_files:
        print(f"  - {f.name}")

    # Process
    asyncio.run(process_pdfs(
        pdf_files=pdf_files,
        output_dir=args.output,
        api_key=args.api_key,
        parallel=args.parallel,
        extract_diagrams=not args.no_diagrams,
        extract_answers=not args.no_answers
    ))

    print("\nDone!")


if __name__ == "__main__":
    main()
</file>

<file path="MODELS_TRACKING_ANALYSIS.md">
# Models and Tracking Infrastructure Analysis

**Date**: 2025-12-14  
**Directory Scope**: `models/` and `tracking/` modules  
**Purpose**: Comprehensive documentation of data models and pipeline monitoring infrastructure

---

## Executive Summary

The models and tracking infrastructure provides the foundational data structures and observability layer for the exam extraction pipeline. The system uses dataclass-based models for structured data representation and maintains comprehensive cost/token tracking and logging throughout the extraction process.

**Key Components**:
- **5 Enums** for standardized classification
- **12 Data Models** for hierarchical exam structure
- **3 Tracking Classes** for pipeline metrics and cost analysis
- **2 Logging Classes** for structured monitoring

---

## 1. Models Module (`models/`)

### 1.1 Purpose and Architecture

The models module provides type-safe, serializable data structures for representing exam papers and their components. All models use Python dataclasses with:
- JSON serialization via `to_dict()` methods
- Optional LaTeX/HTML formatting support
- Hierarchical composition (parent-child relationships)
- Confidence scores for ML-based extraction

**Module Structure**:
```
models/
 __init__.py       # Public API exports
 enums.py          # 5 classification enums
 question.py       # 12 primary data models
```

---

### 1.2 Enums (`models/enums.py`)

#### ResponseType
Defines expected response formats for questions:
- `MULTIPLE_CHOICE` - MCQ with options A, B, C, D
- `SHORT_ANSWER` - Text response under 100 words
- `LONG_ANSWER` - Extended text response with word limits
- `WORKING_AREA` - Show working/calculation area required
- `FILL_IN_BLANK` - Blank completion questions
- `TRUE_FALSE` - Boolean response
- `MATCHING` - Pair matching questions
- `DIAGRAM_LABEL` - Label/annotate diagram questions

**Usage**: Attached to `Question.response_type` field; determines response validation logic

#### DiagramType
Categorizes diagram/figure types found in exams:
- `GRAPH` - Line, bar, scatter plots
- `GEOMETRIC_FIGURE` - Shapes, angles, spatial geometry
- `CHART` - Pie, flow, organizational charts
- `ILLUSTRATION` - Visual examples, scenes
- `TABLE` - Data tables, matrices
- `CIRCUIT` - Electrical/physics circuits
- `DIAGRAM` - General diagrams (default)
- `MAP` - Geographic/spatial maps
- `SCIENTIFIC` - Lab diagrams, molecular structures

**Usage**: Set on `Diagram.type` field for classification

#### ContentSegmentType
Breaks down question content into semantic segments:
- `TEXT` - Plain prose text
- `EQUATION` - Mathematical expressions
- `DIAGRAM_REF` - Reference to external diagram
- `TABLE` - Embedded data table
- `CODE` - Programming code snippets
- `CHEMICAL_FORMULA` - Chemistry notation
- `LIST` - Bulleted/numbered lists

**Usage**: Each `ContentSegment` specifies its type for renderer compatibility

#### Subject
Academic subject classification:
- `MATHEMATICS`, `PHYSICS`, `CHEMISTRY`, `BIOLOGY`, `SCIENCE` (general), `ENGLISH`, `OTHER`

**Usage**: Set on `ExamMetadata.subject` field; auto-detected from filename/content

#### ExtractionStatus
Tracks extraction process state:
- `PENDING` - Queued for processing
- `IN_PROGRESS` - Currently extracting
- `COMPLETED` - Successfully finished
- `FAILED` - Extraction error occurred
- `PARTIAL` - Partial extraction with errors

**Note**: Currently defined but not actively used in orchestrator (status flows implicit in process)

---

### 1.3 Core Data Models (`models/question.py`)

#### BoundingBox
**Purpose**: Represents spatial location on page image (percentage scale 0-100)

**Fields**:
```python
x1: float        # Left edge percentage
y1: float        # Top edge percentage
x2: float        # Right edge percentage
y2: float        # Bottom edge percentage
```

**Methods**:
- `to_dict()` - Convert to dictionary
- `from_dict()` - Constructor from dictionary

**Usage**: Locates diagrams and questions on page images; enables region-based extraction

---

#### ContentSegment
**Purpose**: Individual semantic unit within question content

**Fields**:
```python
type: ContentSegmentType     # Segment classification
content: str                  # Text content
order: int                    # Sequence number
latex: Optional[str]          # LaTeX representation
```

**Methods**:
- `to_dict()` - Serialize segment

**Composition**: List of ContentSegments build complete `QuestionContent`

**Example Structure**:
```
Segment 1: type=TEXT, content="Solve the equation:", order=0
Segment 2: type=EQUATION, latex="x^2 + 2x - 3 = 0", order=1
Segment 3: type=TEXT, content="for x", order=2
```

---

#### QuestionContent
**Purpose**: Multi-format representation of question text

**Fields**:
```python
text: str                          # Plain text version
text_latex: Optional[str]          # Full LaTeX representation
text_html: Optional[str]           # Rendered HTML
segments: List[ContentSegment]     # Semantic breakdown
```

**Methods**:
- `to_dict()` - Serialize with all segments

**Design Pattern**: Supports multiple renderers (LaTeX, HTML, plain text)

---

#### MCQOption
**Purpose**: Single multiple choice option

**Fields**:
```python
label: str          # A, B, C, D or 1, 2, 3, 4
text: str           # Option text
is_correct: bool    # Marked correct when answer key merged
```

**Methods**:
- `to_dict()` - Serialize option

**Answer Merging**: `is_correct` set during answer key merge phase (orchestrator)

---

#### BlankAnswer
**Purpose**: Expected answer for fill-in-blank question

**Fields**:
```python
position: int                       # Blank position (1-based)
expected_answer: str                # Standard answer
acceptable_answers: List[str]       # Variants (spelling, format)
```

**Methods**:
- `to_dict()` - Serialize answer

**Usage**: Used in answer validation for FILL_IN_BLANK response types

---

#### ResponseConfig
**Purpose**: Response type specific configuration

**Fields**:
```python
options: List[MCQOption]                   # For MULTIPLE_CHOICE
blanks: List[BlankAnswer]                  # For FILL_IN_BLANK
word_limit: Optional[int]                  # For LONG_ANSWER (max words)
show_working: bool                         # For WORKING_AREA (require steps)
matching_pairs: List[Dict[str, str]]       # For MATCHING (left-right pairs)
```

**Methods**:
- `to_dict()` - Serialize all fields

**Conditional Validation**: Different fields populated based on `Question.response_type`

---

#### WorkedSolutionStep
**Purpose**: Single step in solution walkthrough

**Fields**:
```python
step_number: int               # 1, 2, 3...
description: str              # Explanation text
expression: Optional[str]      # Math expression
expression_latex: Optional[str] # LaTeX version
```

**Methods**:
- `to_dict()` - Serialize step

**Composition**: List builds complete worked solution in `AnswerKey`

---

#### MarkingCriterion
**Purpose**: Single criterion in rubric-based grading

**Fields**:
```python
criterion: str     # Criterion description
marks: float       # Points allocated
```

**Methods**:
- `to_dict()` - Serialize criterion

**Usage**: Used for partial credit/rubric grading in answer keys

---

#### AnswerKey
**Purpose**: Complete answer with solution and marking guidance

**Fields**:
```python
final_answer: str                              # Primary answer
acceptable_answers: List[str]                  # Answer variants
worked_solution: List[WorkedSolutionStep]      # Step-by-step solution
marking_rubric: List[MarkingCriterion]         # Grading criteria
explanation: Optional[str]                     # Conceptual explanation
```

**Methods**:
- `to_dict()` - Serialize all components

**Extraction Flow**:
1. Answer Key Agent extracts from answer key pages
2. Stored separately in `answer_keys.json`
3. Merged to questions by question number match (orchestrator `_merge_answer_keys_to_questions`)

---

#### Diagram
**Purpose**: Figure/diagram extracted from exam

**Fields**:
```python
id: str                                # UUID identifier
type: DiagramType                      # Classification
alt_text: Optional[str]                # Accessibility text
description: Optional[str]             # Textual description
bounding_box: Optional[BoundingBox]    # Location on page
source_page: int                       # Page number (0-based)
is_shared: bool                        # Shared across questions
shared_with_questions: List[str]       # Question IDs (if shared)
extraction_confidence: float           # 0.0-1.0 confidence score
```

**Methods**:
- `to_dict()` - Serialize diagram metadata

**Important Design Note**: Diagrams stored as region references (bounding boxes) on page images, NOT as separate image files. Full page image retained.

**Diagram Linking**:
- Extracted by bounding box from page image
- Linked to questions by spatial proximity (DiagramExtractor)
- Can be shared across multiple questions

---

#### QuestionSource
**Purpose**: Tracks original location of question in PDF

**Fields**:
```python
page_number: int                   # Page number (0-based)
bounding_box: Optional[BoundingBox] # Location on page
```

**Methods**:
- `to_dict()` - Serialize source info

**Usage**: Enables traceability; helpful for visual verification

---

#### Question (Core Class)
**Purpose**: Single extracted exam question

**Fields**:
```python
id: str                                    # UUID
question_number: str                       # "1", "2a", "3(i)" etc
parent_question_id: Optional[str]          # Parent if subpart
hierarchy_level: int                       # 0=main, 1=part, 2=subpart
content: Optional[QuestionContent]         # Question text/segments
response_type: ResponseType                # Expected response format
response_config: Optional[ResponseConfig]  # Response specifics
diagrams: List[Diagram]                    # Associated diagrams
answer_key: Optional[AnswerKey]            # Solution (merged in Phase 3)
marks: Optional[float]                     # Point value
subparts: List["Question"]                 # Child questions (a, b, c, etc)
source: Optional[QuestionSource]           # Original PDF location
extraction_confidence: float               # 0.0-1.0 ML confidence
raw_text: str                              # OCR/extracted raw text
```

**Methods**:
- `to_dict()` - Recursive serialization with all nested objects

**Hierarchy Structure**:
```
Question (hierarchy_level=0)
 Subpart Question (hierarchy_level=1, parent_question_id=parent.id)
    Sub-subpart Question (hierarchy_level=2, parent_question_id=subpart.id)
 [Answer Key merged during Phase 3]
```

**Extraction Pipeline**:
1. **Phase 2A**: QuestionExtractor creates Question with response_type and response_config
2. **Phase 2B**: Diagrams linked via DiagramExtractor.link_diagrams_to_questions()
3. **Phase 3**: AnswerKey merged via orchestrator._merge_answer_keys_to_questions()

---

#### ExamMetadata
**Purpose**: Information about exam paper

**Fields**:
```python
id: str                          # UUID
source_file: str                 # Original PDF filename
subject: Subject                 # Academic subject
grade_level: Optional[str]       # P5, S2, etc
exam_type: Optional[str]         # SA1, Prelim, Final, etc
school: Optional[str]            # School name
year: Optional[int]              # Exam year (4 digits)
total_marks: Optional[int]       # Max points
duration_minutes: Optional[int]  # Time limit
extracted_at: datetime           # Extraction timestamp
extraction_confidence: float     # Overall confidence 0.0-1.0
```

**Methods**:
- `to_dict()` - Serialize metadata with ISO datetime

**Extraction**: Detected via filename regex patterns and heuristics in orchestrator._extract_metadata()

**Example Filename Patterns**:
```
P5_Maths_2023_SA2.pdf
 Grade: P5 (Primary 5)
 Subject: MATHEMATICS
 Year: 2023
 Exam Type: SA2
```

---

#### ExtractionMetrics
**Purpose**: Pipeline execution metrics

**Fields**:
```python
total_tokens_used: int              # Cumulative API tokens
total_cost_usd: float               # Total USD cost
processing_time_seconds: float      # Wall clock time
pages_processed: int                # PDF pages handled
questions_extracted: int            # Questions found
diagrams_extracted: int             # Diagrams found
agents_used: List[str]              # Agent names
errors: List[Dict[str, Any]]        # Error log
```

**Methods**:
- `to_dict()` - Serialize all metrics, cost rounded to 4 decimals

**Data Flow**:
1. Populated from `PipelineMetrics` via `cost_tracker.end_run()`
2. Attached to ExamPaper for final output
3. Serialized in JSON export

---

#### ExamPaper (Root Object)
**Purpose**: Complete extracted exam paper

**Fields**:
```python
metadata: ExamMetadata                    # Exam info
questions: List[Question]                 # Extracted questions
extraction_metrics: ExtractionMetrics      # Pipeline metrics
```

**Methods**:
- `to_dict()` - Full hierarchical serialization
- `to_json(indent=2)` - JSON string with Unicode support

**Root Structure**:
```json
{
  "metadata": { ... },
  "questions": [ ... ],
  "extraction_metrics": { ... }
}
```

**File Output**:
- `{pdf_name}_extracted.json` - Main output
- `answer_keys/{pdf_name}_answer_keys.json` - Separated answer keys
- `questions/{pdf_name}/q{n}.json` - Individual questions

---

## 2. Tracking Module (`tracking/`)

### 2.1 Purpose and Architecture

The tracking module provides real-time observability for pipeline execution:
- **Cost Tracking**: Token usage and USD calculation
- **Structured Logging**: LLM prompts, responses, errors
- **Progress Monitoring**: Real-time feedback to CLI

**Module Structure**:
```
tracking/
 __init__.py           # Public API exports
 cost_tracker.py       # 3 classes: CostTracker, TokenUsage, PipelineMetrics
 pipeline_logger.py    # 2 classes: PipelineLogger, ConsoleProgressLogger
```

---

### 2.2 Cost Tracking (`tracking/cost_tracker.py`)

#### TokenUsage
**Purpose**: Record single API call metrics

**Fields**:
```python
agent: str                        # Agent name (Orchestrator, QuestionExtractor, etc)
operation: str                    # Operation type (extract_questions, detect_page_type, etc)
input_tokens: int                 # Prompt tokens
output_tokens: int                # Response tokens
model: str                        # Model name (gemini-2.5-flash, etc)
timestamp: datetime               # When API was called
```

**Methods**:
- `total_tokens` (property) - Sum of input + output
- `calculate_cost(pricing)` - USD cost via pricing dict
- `to_dict()` - Serialize for logging

**Cost Calculation**:
```python
input_cost = (input_tokens / 1_000_000) * pricing[f"{model}_input"]
output_cost = (output_tokens / 1_000_000) * pricing[f"{model}_output"]
total_cost = input_cost + output_cost
```

**Pricing Table (DEFAULT_PRICING)**:
```
gemini-2.5-flash:
  - input:  $0.075 per 1M tokens
  - output: $0.30 per 1M tokens

gemini-2.0-flash:
  - input:  $0.10 per 1M tokens
  - output: $0.40 per 1M tokens

gemini-1.5-flash:
  - input:  $0.075 per 1M tokens
  - output: $0.30 per 1M tokens

gemini-1.5-pro:
  - input:  $1.25 per 1M tokens
  - output: $5.00 per 1M tokens
```

---

#### PipelineMetrics
**Purpose**: Aggregate metrics for complete extraction run

**Fields**:
```python
run_id: str                         # Unique run identifier
pdf_path: str                       # Input PDF file path
start_time: datetime                # Run start
end_time: Optional[datetime]        # Run end (None if in-progress)
token_usage: List[TokenUsage]       # All API calls
questions_extracted: int            # Output count
diagrams_extracted: int             # Output count
pages_processed: int                # Input count
errors: List[Dict]                  # Error events
pricing: Dict[str, float]           # Model pricing config
```

**Properties**:
```python
@property
def total_tokens(self) -> int
def total_input_tokens(self) -> int
def total_output_tokens(self) -> int
def total_cost(self) -> float
def processing_time_seconds(self) -> float
```

**Methods**:
- `get_usage_by_agent()` - Breakdown: `{agent: {input, output, calls}}`
- `to_dict()` - Full metrics serialization

**Example Output**:
```python
{
  "run_id": "a1b2c3d4",
  "pdf_path": "sample.pdf",
  "processing_time_seconds": 45.23,
  "total_tokens": 125000,
  "total_input_tokens": 45000,
  "total_output_tokens": 80000,
  "total_cost_usd": 0.0245,
  "usage_by_agent": {
    "QuestionExtractor": {
      "input": 30000,
      "output": 60000,
      "calls": 8
    },
    "DiagramExtractor": {
      "input": 15000,
      "output": 20000,
      "calls": 5
    }
  },
  "token_usage_details": [ ... ],
  "errors": [ ... ]
}
```

---

#### CostTracker (Main Class)
**Purpose**: Central cost/token tracking for pipeline

**Initialization**:
```python
def __init__(self, log_dir: str = "logs/costs"):
    self.log_dir = Path(log_dir)           # Cost log directory
    self.current_run: Optional[PipelineMetrics] = None
    self.logger = logging.getLogger("CostTracker")
    self.pricing = DEFAULT_PRICING.copy()
```

**Key Methods**:

##### start_run(pdf_path: str) -> str
Initializes new run tracking. Returns run_id (8-char UUID).

**Example Usage**:
```python
cost_tracker = CostTracker()
run_id = cost_tracker.start_run("exam.pdf")
# Returns: "a1b2c3d4"
```

##### log_usage(agent, operation, input_tokens, output_tokens, model)
Records API call metrics.

**Example Usage**:
```python
cost_tracker.log_usage(
    agent="QuestionExtractor",
    operation="extract_questions",
    input_tokens=15000,
    output_tokens=32000,
    model="gemini-2.5-flash"
)
```

**Logging Output**:
```
[QuestionExtractor] extract_questions: 15,000 in / 32,000 out = $0.009600
```

##### log_error(agent, error, context)
Records exceptions with context.

**Example Usage**:
```python
try:
    # ... extraction ...
except Exception as e:
    cost_tracker.log_error(
        agent="DiagramExtractor",
        error=e,
        context={"page": 3, "diagram_id": "d123"}
    )
```

##### update_counts(questions, diagrams, pages)
Updates extraction output counts.

**Example Usage**:
```python
cost_tracker.update_counts(
    questions=15,
    diagrams=3,
    pages=5
)
```

##### end_run() -> PipelineMetrics
Finalizes run, saves metrics to JSON, returns metrics object.

**File Output**:
```
logs/costs/{run_id}.json
```

**Example Usage**:
```python
metrics = cost_tracker.end_run()
# Returns: PipelineMetrics object
# Saves: logs/costs/a1b2c3d4.json
```

##### get_current_stats() -> Dict
Returns real-time stats during active run.

**Example Output**:
```python
{
  "run_id": "a1b2c3d4",
  "elapsed_seconds": 23.5,
  "total_tokens": 45000,
  "current_cost": 0.012345,
  "api_calls": 5,
  "questions": 8,
  "diagrams": 2
}
```

##### print_summary()
Prints formatted stats to console.

**Example Output**:
```
==================================================
EXTRACTION PIPELINE STATS
==================================================
Run ID:          a1b2c3d4
Elapsed:         45.2s
API Calls:       13
Total Tokens:    125,000
Current Cost:    $0.0245
Questions:       15
Diagrams:        8
--------------------------------------------------
Usage by Agent:
  QuestionExtractor: 30,000 in / 60,000 out (8 calls)
  DiagramExtractor: 15,000 in / 20,000 out (5 calls)
==================================================
```

---

### 2.3 Pipeline Logging (`tracking/pipeline_logger.py`)

#### PipelineLogger
**Purpose**: Structured JSON logging of agent interactions

**Initialization**:
```python
def __init__(self, log_dir: str = "logs/agents"):
    self.log_dir = Path(log_dir)
    self.run_id: Optional[str] = None
    self.run_dir: Optional[Path] = None
```

**Log Directory Structure**:
```
logs/agents/
 {run_id}/
     QuestionExtractor/
        120345612345_extract_questions_llm_call.json
        120346234567_extract_questions_output.json
        120347456789_page_1_extraction.json
     DiagramExtractor/
        120348234567_extract_diagrams_input.json
        120348345678_extract_diagrams_output.json
     AnswerKeyAgent/
         120349234567_extract_answers_llm_call.json
```

**Key Methods**:

##### start_run(run_id: str)
Initialize logging for run.

##### log_agent_input(agent, operation, input_data)
Log input to agent.

**Example**:
```python
logger.log_agent_input(
    agent="QuestionExtractor",
    operation="extract_questions",
    input_data={"page_number": 1, "text": "Question 1..."}
)
```

##### log_agent_output(agent, operation, output_data)
Log agent output.

**Example**:
```python
logger.log_agent_output(
    agent="QuestionExtractor",
    operation="extract_questions",
    output_data={"questions": [...], "diagram_refs": [...]}
)
```

##### log_agent_prompt(agent, operation, prompt, response, model)
Log full LLM prompt-response pair (for debugging, quality analysis).

**Example**:
```python
logger.log_agent_prompt(
    agent="QuestionExtractor",
    operation="extract_questions",
    prompt="Extract questions from: ...",
    response='{"questions": [...]}'
    model="gemini-2.5-flash"
)
```

**File**: `{timestamp}_{operation}_llm_call.json`

##### log_extraction_result(agent, page_number, result)
Log page extraction result.

**Example**:
```python
logger.log_extraction_result(
    agent="QuestionExtractor",
    page_number=1,
    result={"questions": [...], "confidence": 0.95}
)
```

##### log_error(agent, operation, error, context)
Log exception with context.

**Example**:
```python
logger.log_error(
    agent="DiagramExtractor",
    operation="extract_diagrams",
    error=e,
    context={"page": 3, "bounding_box": {...}}
)
```

**File**: `{timestamp}_{operation}_error.json`

##### get_run_logs(agent: Optional[str])
Retrieve all logs for run (optionally filtered by agent).

**Returns**: Dict[log_file_path, log_data]

---

#### ConsoleProgressLogger
**Purpose**: Simple real-time progress feedback in terminal

**Fields**:
```python
total_pages: int              # Total pages to process
current_page: int             # Current page
start_time: datetime          # Run start
```

**Methods**:

##### update(page, status)
Update progress display.

**Example Output**:
```
[50.0%] Page 5/10 - Extracting questions from page 5... (12.5s)
```

**Without Total**:
```
Page 5 - Extracting diagrams (12.5s)
```

##### complete(message)
Mark completion with message.

**Example Output**:
```
Extraction complete in 45.2s
```

---

## 3. Integration Patterns

### 3.1 In OrchestratorAgent

**Initialization** (lines 43-44, 183):
```python
self.cost_tracker = CostTracker(log_dir=str(self.output_dir / "logs" / "costs"))
self.pipeline_logger = PipelineLogger(log_dir=str(self.output_dir / "logs" / "agents"))
```

**Run Lifecycle** (lines 181-183, 278):
```python
# Start
run_id = self.cost_tracker.start_run(str(pdf_path))
if self.pipeline_logger:
    self.pipeline_logger.start_run(run_id)

# ... extraction phases ...

# End
metrics_data = self.cost_tracker.end_run()
```

**Token Logging** (lines 125-132):
```python
if hasattr(response, 'usage_metadata'):
    self.cost_tracker.log_usage(
        agent="Orchestrator",
        operation="detect_page_type",
        input_tokens=response.usage_metadata.prompt_token_count,
        output_tokens=response.usage_metadata.candidates_token_count,
        model=self.model_name
    )
```

**Error Handling** (lines 309-311):
```python
except Exception as e:
    self._logger.error(f"Pipeline failed: {e}")
    if self.cost_tracker.current_run:
        self.cost_tracker.log_error("Orchestrator", e)
        self.cost_tracker.end_run()
    raise
```

**Metrics Integration** (lines 281-290):
```python
extraction_metrics = ExtractionMetrics(
    total_tokens_used=metrics_data.total_tokens,
    total_cost_usd=metrics_data.total_cost,
    processing_time_seconds=...,
    pages_processed=len(pages),
    questions_extracted=len(all_questions),
    diagrams_extracted=len(all_diagrams),
    agents_used=["PDFParser", "QuestionExtractor", ...],
    errors=[e for e in metrics_data.errors]
)
```

### 3.2 In Individual Agents

All agents receive cost_tracker and pipeline_logger in constructor:

**QuestionExtractorAgent**:
```python
self.question_extractor = QuestionExtractorAgent(
    model_name=model_name,
    cost_tracker=self.cost_tracker,
    pipeline_logger=self.pipeline_logger,
    api_key=api_key
)
```

Each agent logs token usage after API calls and records errors.

### 3.3 Answer Key Merging (Non-LLM Phase)

Lines 268-272, 495-562:
```python
# Phase 3: Merge answer keys to questions (CODE ONLY, NO LLM)
if extract_answers and all_answer_keys:
    merged_count = self._merge_answer_keys_to_questions(
        all_questions, all_answer_keys
    )
```

**Process**:
1. Answer keys extracted from pages labeled "answer_key"
2. Stored in separate `answer_keys.json`
3. Questions matched by number normalization
4. For MCQ: `is_correct` flag set on matching option
5. For all types: `AnswerKey` object attached to question

---

## 4. Data Flow and Lifecycle

### 4.1 Extraction Pipeline Phases

```
Phase 1: PDF Parsing
  > Parse pages, extract text/images
  > Input: PDF file, Output: PageContent list

Phase 2A: Question Extraction
  > Detect page types (question vs answer key)
  > Extract questions from question pages
  > Extract diagram references
  > Input: PageContent, Output: Questions, Diagrams

Phase 2B: Diagram Extraction
  > Extract diagram images from bounding boxes
  > Link to questions
  > Input: Diagram info, Output: Diagram objects

Phase 2C: Answer Key Extraction
  > Extract from answer_key pages only
  > Save separately
  > Input: PageContent, Output: Dict[question_ref, AnswerKey]

Phase 3: Merge Answers
  > Match and attach answer keys to questions
  > Set MCQ correct option
  > NO LLM calls (code-only)
  > Input: Questions, Answer Keys, Output: Updated Questions

Phase 4: Finalize
  > Compile ExamPaper with metrics
  > Save JSON output
  > Print summary
  > Input: All components, Output: ExamPaper object
```

### 4.2 Model Population Timeline

```
1. Question (Phase 2A)
    id  (UUID generated)
    question_number  (extracted)
    content  (with segments)
    response_type  (detected)
    response_config  (options/blanks populated)
    source  (page location)
    extraction_confidence  (LLM confidence)
    answer_key  (populated Phase 3)

2. Diagram (Phase 2B)
    id  (UUID)
    type  (classified)
    bounding_box  (from bounds)
    source_page  (from page)
    extraction_confidence  (from LLM)
    attached to question.diagrams list

3. AnswerKey (Phase 2C)
    final_answer  (extracted)
    acceptable_answers  (from key)
    worked_solution  (steps)
    marking_rubric  (criteria)
    explanation  (from key)
    matched and attached to question in Phase 3

4. ExamPaper (Phase 4)
    metadata  (from filename/content)
    questions  (all extracted and merged)
    extraction_metrics  (from cost_tracker.end_run())
```

### 4.3 Serialization and Output

**Output Files Created**:

1. **Main Questions Output**:
   - Path: `output/questions/{pdf_name}_extracted.json`
   - Root: ExamPaper object (metadata + questions + metrics)
   - Individual questions also saved to `output/questions/{pdf_name}/q{n}.json`

2. **Answer Keys** (if extract_answers=True):
   - Path: `output/answer_keys/{pdf_name}_answer_keys.json`
   - Contains all extracted answer keys before merging
   - References to questions stored separately for traceability

3. **Cost Tracking**:
   - Path: `output/logs/costs/{run_id}.json`
   - PipelineMetrics serialization
   - Token usage by agent, total cost, errors

4. **Agent Logs** (if enable_logging=True):
   - Path: `output/logs/agents/{run_id}/{agent}/*.json`
   - Prompts, responses, inputs, outputs, errors
   - Timestamped files for debugging

---

## 5. Type Safety and Validation

### 5.1 Enum Validation

All enum fields use `str, Enum` mixin for:
- Direct JSON serialization (via `.value` property)
- String comparison support
- Type safety in Python

**Serialization**:
```python
question.response_type = ResponseType.MULTIPLE_CHOICE
question.to_dict()  # "response_type": "MULTIPLE_CHOICE" (string value)
```

### 5.2 Optional Field Patterns

Fields using `Optional[T]` include:
- `content`, `marks`, `source` on Question (can be null)
- `latex` on ContentSegment (multi-format support)
- `explanation` on AnswerKey (optional documentation)

**Default Values**:
- Lists default to `field(default_factory=list)`
- Datetime defaults to `field(default_factory=datetime.now)`
- UUID defaults to `field(default_factory=lambda: str(uuid.uuid4()))`

### 5.3 Composition and Hierarchy

**Parent-Child Relationships**:
```python
question.parent_question_id = "q1_id"
question.hierarchy_level = 1  # subpart
question.subparts = [sub_q1, sub_q2]  # recursive list
```

**Nested Serialization**:
```python
question.to_dict()
 content.to_dict()
    segments[].to_dict()
 response_config.to_dict()
    options[].to_dict()
    blanks[].to_dict()
 answer_key.to_dict()
    worked_solution[].to_dict()
    marking_rubric[].to_dict()
 diagrams[].to_dict()
    bounding_box.to_dict()
 subparts[].to_dict()  # recursive
```

---

## 6. Cost Tracking Mechanics

### 6.1 Token Counting

Gemini API provides token counts via `response.usage_metadata`:
- `prompt_token_count` - Input tokens (question text, page content)
- `candidates_token_count` - Output tokens (extracted questions, analysis)

**Typical Ranges** (per page):
- Detect page type: 500-2000 input, 100-500 output
- Extract questions: 5000-15000 input, 10000-30000 output
- Extract diagrams: 2000-5000 input, 500-2000 output
- Extract answer keys: 3000-8000 input, 5000-15000 output

### 6.2 Cost Calculation Example

```
Input:  10,000 tokens at $0.075/M = $0.00075
Output: 25,000 tokens at $0.30/M  = $0.0075
Total:                             = $0.00825 per API call
```

**Multi-page Cost**:
- 10-page exam, ~50 API calls total
- Average 8000 tokens/call = 400,000 total tokens
- Cost: ~$0.10-0.15 per exam

### 6.3 Usage by Agent

`PipelineMetrics.get_usage_by_agent()` returns:

```python
{
  "Orchestrator": {"input": 15000, "output": 3000, "calls": 3},
  "QuestionExtractor": {"input": 80000, "output": 150000, "calls": 15},
  "DiagramExtractor": {"input": 30000, "output": 40000, "calls": 8},
  "AnswerKeyAgent": {"input": 50000, "output": 75000, "calls": 10}
}
```

---

## 7. Summary Table

| Component | Type | Count | Key Responsibility |
|-----------|------|-------|-------------------|
| ResponseType | Enum | 8 | Question response format classification |
| DiagramType | Enum | 9 | Diagram categorization |
| ContentSegmentType | Enum | 7 | Question content breakdown |
| Subject | Enum | 7 | Academic subject classification |
| ExtractionStatus | Enum | 5 | Process state tracking |
| BoundingBox | Model | - | Spatial coordinates (0-100%) |
| ContentSegment | Model | - | Semantic content unit |
| QuestionContent | Model | - | Multi-format question text |
| MCQOption | Model | - | Multiple choice option |
| BlankAnswer | Model | - | Fill-in-blank answer |
| ResponseConfig | Model | - | Response type specifics |
| WorkedSolutionStep | Model | - | Solution walkthrough step |
| MarkingCriterion | Model | - | Grading rubric item |
| AnswerKey | Model | - | Complete answer with solution |
| Diagram | Model | - | Extracted figure/diagram |
| QuestionSource | Model | - | Original PDF location |
| Question | Model | - | Complete exam question |
| ExamMetadata | Model | - | Exam paper information |
| ExtractionMetrics | Model | - | Pipeline execution metrics |
| ExamPaper | Model | - | Root extraction result |
| TokenUsage | Model | - | Single API call metrics |
| PipelineMetrics | Model | - | Run aggregate metrics |
| CostTracker | Class | 1 | Central cost/token tracking |
| PipelineLogger | Class | 1 | Structured agent logging |
| ConsoleProgressLogger | Class | 1 | Real-time progress display |

---

## 8. Unresolved Questions and Notes

1. **ExtractionStatus enum**: Defined but not actively used in orchestrator. Process state is implicit in control flow (pending -> in_progress -> completed/failed).

2. **Marking rubric structure**: Flexible definition allows various grading schemes but no formal validation against standard rubrics.

3. **Diagram sharing logic**: `is_shared` and `shared_with_questions` fields support multi-question diagrams, but linking strategy not fully documented.

4. **Model versioning**: DEFAULT_PRICING supports multiple Gemini models, but model selection logic only in individual agents (not centralized).

5. **Error recovery**: Error logged but no retry mechanism in tracking; left to individual agents.

6. **Confidence scores**: Multiple `extraction_confidence` fields (Question, Diagram, ExamMetadata, page_type) but confidence threshold/aggregation strategy undefined.

---

**Document Generated**: 2025-12-14
**Analysis Scope**: Complete models and tracking infrastructure
**Status**: Ready for documentation/implementation use
</file>

</files>
